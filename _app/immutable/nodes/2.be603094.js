var Yf=Object.defineProperty;var Zf=(s,e,n)=>e in s?Yf(s,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):s[e]=n;var qe=(s,e,n)=>(Zf(s,typeof e!="symbol"?e+"":e,n),n),Ms=(s,e,n)=>{if(!e.has(s))throw TypeError("Cannot "+n)};var Gn=(s,e,n)=>(Ms(s,e,"read from private field"),n?n.call(s):e.get(s)),yt=(s,e,n)=>{if(e.has(s))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(s):e.set(s,n)},Ws=(s,e,n,t)=>(Ms(s,e,"write to private field"),t?t.call(s,n):e.set(s,n),n);var bt=(s,e,n)=>(Ms(s,e,"access private method"),n);import{S as re,i as ie,s as se,k as O,q as le,l as M,m as z,r as ce,h as m,n as B,b as y,G as N,u as De,H as V,e as J,a as W,y as v,c as D,z as E,A as w,g,d as _,B as C,J as eu,v as de,f as pe,o as Et,K as zn,L as tu,M as nu,N as ru,C as tt,D as nt,E as rt,F as it,x as Le,O as on,P as an,Q as To,R as Po,T as qt,U as Fr,V as at,W as aa,X as Tt,Y as ws,Z as It,_ as la,$ as iu,a0 as su,a1 as ca,a2 as ou,a3 as Hn,a4 as Ln,I as fr,w as jt,a5 as Ft,a6 as Vt,a7 as rs,p as fa,a8 as au,a9 as lu,aa as cu,j as fu,ab as uu,t as Ds,ac as br}from"../chunks/index.8635ce43.js";import{w as gc}from"../chunks/singletons.3bbbe082.js";import{T as Si,u as ua,s as da}from"../chunks/base64.965be1d1.js";import{c as pa,g as du}from"../chunks/navigation.d577cc1f.js";function pu(s,e){for(var n=0;n<e.length;n++){const t=e[n];if(typeof t!="string"&&!Array.isArray(t)){for(const r in t)if(r!=="default"&&!(r in s)){const i=Object.getOwnPropertyDescriptor(t,r);i&&Object.defineProperty(s,r,i.get?i:{enumerable:!0,get:()=>t[r]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}function hu(s){let e,n;return{c(){e=O("span"),n=le(s[0]),this.h()},l(t){e=M(t,"SPAN",{class:!0});var r=z(e);n=ce(r,s[0]),r.forEach(m),this.h()},h(){B(e,"class","svelte-1p0o7lm")},m(t,r){y(t,e,r),N(e,n)},p(t,[r]){r&1&&De(n,t[0])},i:V,o:V,d(t){t&&m(e)}}}function mu(s,e,n){let{name:t="lklenner"}=e;return s.$$set=r=>{"name"in r&&n(0,t=r.name)},[t]}class _c extends re{constructor(e){super(),ie(this,e,mu,hu,se,{name:0})}}function gu(s){let e,n;return{c(){e=O("a"),n=le(s[1]),this.h()},l(t){e=M(t,"A",{href:!0,class:!0});var r=z(e);n=ce(r,s[1]),r.forEach(m),this.h()},h(){B(e,"href",s[0]),B(e,"class","svelte-2phhdn")},m(t,r){y(t,e,r),N(e,n)},p(t,r){r&2&&De(n,t[1]),r&1&&B(e,"href",t[0])},d(t){t&&m(e)}}}function _u(s){let e,n;return{c(){e=O("a"),n=le(s[1]),this.h()},l(t){e=M(t,"A",{href:!0,target:!0,rel:!0,class:!0});var r=z(e);n=ce(r,s[1]),r.forEach(m),this.h()},h(){B(e,"href",s[0]),B(e,"target","_blank"),B(e,"rel","noopener noreferrer"),B(e,"class","svelte-2phhdn")},m(t,r){y(t,e,r),N(e,n)},p(t,r){r&2&&De(n,t[1]),r&1&&B(e,"href",t[0])},d(t){t&&m(e)}}}function bu(s){let e;function n(i,o){return i[2]?_u:gu}let t=n(s),r=t(s);return{c(){r.c(),e=J()},l(i){r.l(i),e=J()},m(i,o){r.m(i,o),y(i,e,o)},p(i,[o]){t===(t=n(i))&&r?r.p(i,o):(r.d(1),r=t(i),r&&(r.c(),r.m(e.parentNode,e)))},i:V,o:V,d(i){r.d(i),i&&m(e)}}}function $u(s,e,n){let{url:t}=e,{text:r}=e,{newtab:i=!0}=e;return s.$$set=o=>{"url"in o&&n(0,t=o.url),"text"in o&&n(1,r=o.text),"newtab"in o&&n(2,i=o.newtab)},[t,r,i]}class jr extends re{constructor(e){super(),ie(this,e,$u,bu,se,{url:0,text:1,newtab:2})}}function xu(s){let e,n,t,r,i,o,l,a,c,f,u,d,p,h,b,x,$,R;return t=new _c({}),o=new jr({props:{url:"https://www.uni-paderborn.de/",text:"University of Paderborn"}}),{c(){e=O("br"),n=W(),v(t.$$.fragment),r=O("span"),i=le(", a computer science master's graduate of the "),v(o.$$.fragment),l=O("span"),a=le("."),c=W(),f=O("br"),u=O("br"),d=W(),p=O("span"),h=le("Apparently, this user prefers to keep an air of mystery about him 🖖🚀"),b=W(),x=O("br"),$=O("br")},l(S){e=M(S,"BR",{}),n=D(S),E(t.$$.fragment,S),r=M(S,"SPAN",{});var P=z(r);i=ce(P,", a computer science master's graduate of the "),P.forEach(m),E(o.$$.fragment,S),l=M(S,"SPAN",{});var T=z(l);a=ce(T,"."),T.forEach(m),c=D(S),f=M(S,"BR",{}),u=M(S,"BR",{}),d=D(S),p=M(S,"SPAN",{});var F=z(p);h=ce(F,"Apparently, this user prefers to keep an air of mystery about him 🖖🚀"),F.forEach(m),b=D(S),x=M(S,"BR",{}),$=M(S,"BR",{})},m(S,P){y(S,e,P),y(S,n,P),w(t,S,P),y(S,r,P),N(r,i),w(o,S,P),y(S,l,P),N(l,a),y(S,c,P),y(S,f,P),y(S,u,P),y(S,d,P),y(S,p,P),N(p,h),y(S,b,P),y(S,x,P),y(S,$,P),R=!0},p:V,i(S){R||(g(t.$$.fragment,S),g(o.$$.fragment,S),R=!0)},o(S){_(t.$$.fragment,S),_(o.$$.fragment,S),R=!1},d(S){S&&m(e),S&&m(n),C(t,S),S&&m(r),C(o,S),S&&m(l),S&&m(c),S&&m(f),S&&m(u),S&&m(d),S&&m(p),S&&m(b),S&&m(x),S&&m($)}}}class yu extends re{constructor(e){super(),ie(this,e,null,xu,se,{})}}class cn{constructor(e,n,t,r,i,o=[]){this.name=e,this.enabled=n,this.visible=t,this.description=r,this.usages=i,this.parameters=o}async exec(){}}function me(s,e={}){return{component:s,props:e}}function ku(s){return s<.5?4*s*s*s:.5*Math.pow(2*s-2,3)+1}function ha(s,{delay:e=0,duration:n=400,easing:t=eu}={}){const r=+getComputedStyle(s).opacity;return{delay:e,duration:n,easing:t,css:i=>`opacity: ${i*r}`}}function ma(s){let e,n,t,r,i;return{c(){e=O("span"),n=le("|")},l(o){e=M(o,"SPAN",{});var l=z(e);n=ce(l,"|"),l.forEach(m)},m(o,l){y(o,e,l),N(e,n),i=!0},i(o){i||(o&&tu(()=>{i&&(r&&r.end(1),t=nu(e,ha,{}),t.start())}),i=!0)},o(o){t&&t.invalidate(),o&&(r=ru(e,ha,{})),i=!1},d(o){o&&m(e),o&&r&&r.end()}}}function vu(s){let e,n=s[0]&&ma();return{c(){n&&n.c(),e=J()},l(t){n&&n.l(t),e=J()},m(t,r){n&&n.m(t,r),y(t,e,r)},p(t,[r]){t[0]?n?r&1&&g(n,1):(n=ma(),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(de(),_(n,1,1,()=>{n=null}),pe())},i(t){g(n)},o(t){_(n)},d(t){n&&n.d(t),t&&m(e)}}}function wu(s,e,n){let{show:t=!0}=e,r;return Et(async()=>{r=setInterval(function(){n(0,t=!t)},700)}),zn(()=>clearInterval(r)),s.$$set=i=>{"show"in i&&n(0,t=i.show)},[t]}class Cs extends re{constructor(e){super(),ie(this,e,wu,vu,se,{show:0})}}function Cu(s){let e,n,t;const r=[s[2].props];var i=s[2].component;function o(l){let a={};for(let c=0;c<r.length;c+=1)a=qt(a,r[c]);return{props:a}}return i&&(e=Le(i,o())),{c(){e&&v(e.$$.fragment),n=J()},l(l){e&&E(e.$$.fragment,l),n=J()},m(l,a){e&&w(e,l,a),y(l,n,a),t=!0},p(l,a){const c=a&4?on(r,[an(l[2].props)]):{};if(a&4&&i!==(i=l[2].component)){if(e){de();const f=e;_(f.$$.fragment,1,0,()=>{C(f,1)}),pe()}i?(e=Le(i,o()),v(e.$$.fragment),g(e.$$.fragment,1),w(e,n.parentNode,n)):e=null}else i&&e.$set(c)},i(l){t||(e&&g(e.$$.fragment,l),t=!0)},o(l){e&&_(e.$$.fragment,l),t=!1},d(l){l&&m(n),e&&C(e,l)}}}function Su(s){let e,n;return{c(){e=new To(!1),n=J(),this.h()},l(t){e=Po(t,!1),n=J(),this.h()},h(){e.a=n},m(t,r){e.m(s[2],t,r),y(t,n,r)},p(t,r){r&4&&e.p(t[2])},i:V,o:V,d(t){t&&m(n),t&&e.d()}}}function Eu(s){let e,n;return{c(){e=O("span"),n=le(s[2]),this.h()},l(t){e=M(t,"SPAN",{class:!0});var r=z(e);n=ce(r,s[2]),r.forEach(m),this.h()},h(){B(e,"class","svelte-ulj0jv")},m(t,r){y(t,e,r),N(e,n)},p(t,r){r&4&&De(n,t[2])},i:V,o:V,d(t){t&&m(e)}}}function ga(s){let e,n;return e=new Cs({}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Ru(s){let e,n,t,r,i,o,l;const a=s[7].default,c=tt(a,s,s[6],null),f=[Eu,Su,Cu],u=[];function d(h,b){return h[1]=="text"?0:h[1]=="html"?1:h[1]=="component"?2:-1}~(n=d(s))&&(t=u[n]=f[n](s));let p=s[3]&&ga();return{c(){e=O("div"),c&&c.c(),t&&t.c(),r=J(),p&&p.c(),this.h()},l(h){e=M(h,"DIV",{id:!0,class:!0});var b=z(e);c&&c.l(b),t&&t.l(b),r=J(),p&&p.l(b),b.forEach(m),this.h()},h(){B(e,"id",i="line-"+s[0]),B(e,"class",o=(s[4]?"inflate":"")+" "+(s[5]?"wordbreak":"")+" svelte-ulj0jv")},m(h,b){y(h,e,b),c&&c.m(e,null),~n&&u[n].m(e,null),N(e,r),p&&p.m(e,null),l=!0},p(h,[b]){c&&c.p&&(!l||b&64)&&nt(c,a,h,h[6],l?it(a,h[6],b,null):rt(h[6]),null);let x=n;n=d(h),n===x?~n&&u[n].p(h,b):(t&&(de(),_(u[x],1,1,()=>{u[x]=null}),pe()),~n?(t=u[n],t?t.p(h,b):(t=u[n]=f[n](h),t.c()),g(t,1),t.m(e,r)):t=null),h[3]?p?b&8&&g(p,1):(p=ga(),p.c(),g(p,1),p.m(e,null)):p&&(de(),_(p,1,1,()=>{p=null}),pe()),(!l||b&1&&i!==(i="line-"+h[0]))&&B(e,"id",i),(!l||b&48&&o!==(o=(h[4]?"inflate":"")+" "+(h[5]?"wordbreak":"")+" svelte-ulj0jv"))&&B(e,"class",o)},i(h){l||(g(c,h),g(t),g(p),l=!0)},o(h){_(c,h),_(t),_(p),l=!1},d(h){h&&m(e),c&&c.d(h),~n&&u[n].d(),p&&p.d()}}}function Tu(s,e,n){let{$$slots:t={},$$scope:r}=e,{id:i}=e,{type:o="text"}=e,{content:l=""}=e,{active:a=!1}=e,{inflate:c=!0}=e,{wordbreak:f=!1}=e;return s.$$set=u=>{"id"in u&&n(0,i=u.id),"type"in u&&n(1,o=u.type),"content"in u&&n(2,l=u.content),"active"in u&&n(3,a=u.active),"inflate"in u&&n(4,c=u.inflate),"wordbreak"in u&&n(5,f=u.wordbreak),"$$scope"in u&&n(6,r=u.$$scope)},[i,o,l,a,c,f,r,t]}let Oe=class extends re{constructor(e){super(),ie(this,e,Tu,Ru,se,{id:0,type:1,content:2,active:3,inflate:4,wordbreak:5})}};class bc{}class ue extends bc{constructor(e=null){super(),this.value=e}static empty(){return new ue}static text(e=""){return new ue(me(Oe,{type:"text",content:e}))}static html(e=""){return new ue(me(Oe,{type:"html",content:e}))}static component(e,n={}){return new ue(me(Oe,{type:"component",content:me(e,n)}))}}class Ao extends bc{constructor(){super()}}class ln extends Ao{constructor(e){super(),this.program=e}}class Hs extends Ao{constructor(e){super(),this.pid=e}}class Pu extends cn{constructor(){super("about",!0,!0,"Show contact information.",[{usage:"about",description:"To show contact information."}])}async exec(){return ue.component(yu)}}const Au=new Pu;class ir{constructor(e,n,t){this.name=e,this.descriptor=n,this.parent=t,this.mounted=!1,this.virtual=!1,this.virtual_write_needed=!1,this.modified_date=1692957904e3,this.hidden=!1}set_mounted(){return this.mounted=!0,this}set_virtual(){return this.virtual=!0,this}set_modified_date(e){return this.modified_date=e,this}set_virtual_write_needed(e=!0){return this.virtual_write_needed=e,this}set_hidden(e=!0){this.hidden=e}}qe(ir,"types",{dir:"dir",file:"file",executable:"executable"});class Ct extends ir{constructor(e,n,t){super(e,n,t),this.subdirs={},this.files={},this.executables={}}static init(e,n,t){return new Ct(e,n,t)}exist(e){switch(e.constructor){case Ct:return e.name in this.subdirs;case mt:return e.name in this.files;case Rr:return e.name in this.executables}}mount_node(e){switch(e.constructor){case Ct:this.subdirs[e.name]=e;break;case mt:this.files[e.name]=e;break;case Rr:this.executables[e.name]=e;break}}unmount_node(e){switch(e.constructor){case Ct:delete this.subdirs[e.name];break;case mt:delete this.files[e.name];break;case Rr:delete this.executables[e.name];break}}add_node(e){e.set_virtual_write_needed();const n=this.exist(e);this.mount_node(e),this.set_modified_date(Date.now()).set_virtual_write_needed(),this.parent&&!n&&this.parent.set_virtual_write_needed()}remove_node(e){this.unmount_node(e),this.set_modified_date(Date.now()).set_virtual_write_needed(),this.parent&&this.parent.set_virtual_write_needed()}}const bs=class bs extends ir{constructor(e,n,t,r){super(e,n,t),this.api_type=r,this.content=null}static init(e,n,t,r){return new bs(e,n,t,r)}set_api_type(e){return this.api_type=e,this}set_content(e){return this.content=e,this}};qe(bs,"api_types",{text:"text",json:"json",blob:"blob",component:"component"});let mt=bs,Rr=class extends ir{constructor(e,n,t,r){super(e,n,t,r)}};class Iu{static empty(){return{files:{},subdirs:{}}}}class Ou{static create(e){return{name:e.name,descriptor:e.descriptor,api_type:e.api_type,content:e.content}}}class dn{constructor(e){this.fsnodes=[e];let n=e;for(;n.parent;)n=n.parent,this.fsnodes.unshift(n)}up(){this.fsnodes.pop()}down(e){this.fsnodes.push(e)}to_name(){return this.fsnodes.map(n=>n.name).join("/")}to_descriptor(){return this.fsnodes.map(n=>n.descriptor).join("/")}}const tr=class tr{constructor(e){this.raw=e,this.segments=this.raw.split("/"),this.valid=!!this.raw.match(tr.valid_path),(this.segments[0]=="."||this.segments[0]=="")&&this.segments.shift()}pop(){return this.segments.length>0?new tr(this.segments.slice(0,-1).join("/")):new tr("")}is_up(){return this.raw==".."}is_absolute(){return this.raw[0]=="/"}is_name(){return!this.raw.includes("/")}is_path(){return this.raw.includes("/")}get_name(){return this.segments[this.segments.length-1]}to_string(){return this.raw}};qe(tr,"valid_path",/^(\.\.)$|^(((\.\/)|(\/))?([a-zA-Z0-9]+(\-[a-zA-Z0-9]+)*\/)*([a-zA-Z0-9]+(\-[a-zA-Z0-9]+)*)+(\.[a-zA-Z0-9]+)?)$/),qe(tr,"valid_dir",/^(\.\.)$|^(((\.\/)|(\/))?([a-zA-Z0-9]+(\-[a-zA-Z0-9]+)*\/)*([a-zA-Z0-9]+(\-[a-zA-Z0-9]+)*)+)$/);let wn=tr;class Mu{constructor(e,n){this.root_path=e,this.root_node=new Ct("","",null),this.vfs=n}async load(e){const n=new dn(e);let t="";if(e instanceof Ct)t=this.root_path+n.to_descriptor()+"/dnode.json";else if(e instanceof mt)t=this.root_path+n.to_descriptor();else if(e instanceof Rr)return;let r=null;try{r=await fetch(t)}catch{throw gt.network()}if(r.ok){if(console.log(`fs.load: ${e.name}`),e instanceof Ct){const i=await r.json();for(const o in i.index){let l=i.index[o].descriptor;i.index[o].hasOwnProperty("descriptor")||(l=o);let a=null;switch(i.index[o].fs_type){case ir.types.dir:a=new Ct(o,l,e),e.mount_node(a);break;case ir.types.file:a=new mt(o,l,e,i.index[o].api_type),e.mount_node(a);break;case ir.types.executable:a=new Rr(o,l,e),e.mount_node(a);break}i.index[o].hasOwnProperty("modified_date")&&a.set_modified_date(i.index[o].modified_date),i.index[o].hasOwnProperty("hidden")&&a.set_hidden(i.index[o].hidden)}}else if(e instanceof mt){let i=null;switch(e.api_type){case mt.api_types.text:i=await r.text();break;case mt.api_types.json:i=await r.json();break;case mt.api_types.blob:i=await r.blob();break;case mt.api_types.component:i="";break;default:i=await r.text();break}e.set_content(i)}this.vfs.load_virtual(e),e.set_mounted()}else this.vfs.load_virtual(e)}async unload(e){e.parent.remove_node(e)}get_iterator(){return new Io(this,this.root_node)}}var Or,Bi,ki,Xs,Mr,zi,Wr,Ui;class Wu{constructor(e){yt(this,Or);yt(this,ki);yt(this,Mr);yt(this,Wr);this.location_key=e,this.storage={}}async persist_local(e){throw new Error("Deprecated")}async persist(e){for(;e.parent&&e.parent.virtual_write_needed;)e=e.parent;bt(this,Or,Bi).call(this),bt(this,Mr,zi).call(this,e),e.set_virtual_write_needed(!1),bt(this,ki,Xs).call(this)}async load_virtual(e){bt(this,Or,Bi).call(this);const n=new dn(e).to_name();if(n in this.storage){console.log(`vfs.load: ${n}`);const t=this.storage[n];if(e instanceof Ct){for(const r of Object.keys(t.files)){const i=mt.init(r,r,e,"virtual").set_virtual().set_modified_date(t.files[r].modified_date);e.mount_node(i)}for(const r of Object.keys(t.subdirs)){const i=Ct.init(r,r,e).set_virtual().set_modified_date(t.subdirs[r].modified_date);e.mount_node(i)}}else e instanceof mt&&e.set_api_type(t.api_type).set_content(t.content)}e.set_mounted()}async purge(e){bt(this,Or,Bi).call(this),await bt(this,Wr,Ui).call(this,e);const n=new dn(e.parent).to_name();let t=null;n in this.storage&&(t=this.storage[n],e instanceof Ct?e.name in t.subdirs&&delete t.subdirs[e.name]:e instanceof mt&&e.name in t.files&&delete t.files[e.name],Object.keys(t.subdirs).length==0&&Object.keys(t.files).length==0&&delete this.storage[n]),bt(this,ki,Xs).call(this)}}Or=new WeakSet,Bi=function(){try{this.location_key in localStorage&&(this.storage=JSON.parse(localStorage.getItem(this.location_key)))}catch{throw gt.local_storage()}},ki=new WeakSet,Xs=function(){try{const e=JSON.stringify(this.storage);localStorage.setItem(this.location_key,e)}catch{throw gt.local_storage()}},Mr=new WeakSet,zi=async function(e){if(e instanceof Ct){if(!e.virtual_write_needed)return;const n=new dn(e).to_name();n in this.storage||(this.storage[n]=Iu.empty());let t=this.storage[n];for(const r of Object.keys(e.subdirs)){const i=e.subdirs[r];i.virtual_write_needed&&(bt(this,Mr,zi).call(this,i),t.subdirs[r]={modified_date:i.modified_date},i.set_virtual_write_needed(!1))}for(const r of Object.keys(e.files)){const i=e.files[r];i.virtual_write_needed&&(bt(this,Mr,zi).call(this,i),t.files[r]={modified_date:i.modified_date},i.set_virtual_write_needed(!1))}}else if(e instanceof mt){if(!e.virtual_write_needed)return;const n=new dn(e).to_name();this.storage[n]=Ou.create(e)}},Wr=new WeakSet,Ui=async function(e){if(!e.virtual)throw gt.virtual();const n=new dn(e).to_name();if(console.log(`vfs.purge: ${n}`),e instanceof Ct){const t=new dn(e).to_name();if(t in this.storage){let r=this.storage[t];for(const i of Object.keys(r.subdirs)){const o=e.subdirs[i];o.mounted||await this.load_virtual(o),await bt(this,Wr,Ui).call(this,o)}for(const i of Object.keys(r.files)){const o=e.files[i];o.mounted||await this.load_virtual(o),await bt(this,Wr,Ui).call(this,o)}console.log("vfs.delete",t),delete this.storage[t]}}else if(e instanceof mt){const t=new dn(e).to_name();t in this.storage&&delete this.storage[t]}};class Io{constructor(e,n){this.fs=e,this.current_node=n,this.current_path=new dn(n)}async load(){this.current_node.mounted||await this.fs.load(this.current_node)}async load_all(){if(this.current_node.mounted||await this.fs.load(this.current_node),console.log(this.current_node.name),this.current_node instanceof Ct){for(const e in this.current_node.subdirs)this.down(e),await this.load_all();for(const e in this.currentNode.files)this.down(e),await this.load_all()}this.up()}async unload(){await this.fs.unload(this.current_node)}up(){this.current_node!=this.fs.root_node&&(this.current_node=this.current_node.parent,this.current_path.up())}down(e){if(this.current_node instanceof Ct)if(this.current_node.mounted)if(e in this.current_node.subdirs)this.current_node=this.current_node.subdirs[e],this.current_path.down(this.current_node);else if(e in this.current_node.files)this.current_node=this.current_node.files[e],this.current_path.down(this.current_node);else if(e in this.current_node.executables)this.current_node=this.current_node.executables[e],this.current_path.down(this.current_node);else throw gt.not_exist(e);else throw gt.mount(this.current_node.name);else throw gt.operation(this.current_node.name)}async move(e){const n=new wn(e);let t=this.current_node;if(!n.valid)throw gt.invalid();n.is_absolute()&&(t=this.fs.root_node);for(const r of n.segments)if(t instanceof Ct){if(t.hidden)throw gt.not_exist(r);if(t.mounted||await this.fs.load(t),r in t.subdirs)t=t.subdirs[r];else if(r in t.files)t=t.files[r];else if(r in t.executables)t=t.executables[r];else throw gt.not_exist(r)}else throw gt.operation(t.name);this.current_node=t,this.current_path=new dn(t)}jump(e){this.current_node=e,this.current_path=new dn(e)}copy(){return new Io(this.fs,this.current_node)}}const dt=class dt extends Error{constructor(...e){super(...e),Error.captureStackTrace&&Error.captureStackTrace(this,dt),this.name="FSError";const[n,t]=e;this.target=t}static mount(e){return new dt(dt.error_codes.mount,e)}static invalid(){return new dt(dt.error_codes.invalid)}static not_exist(e){return new dt(dt.error_codes.notExist,e)}static operation(e){return new dt(dt.error_codes.operation,e)}static network(){return new dt(dt.error_codes.network)}static invalid_GET(){return new dt(dt.error_codes.invalidGET)}static executable(){return new dt(dt.error_codes.executable)}static local_storage(){return new dt(dt.error_codes.localStorage)}static virtual(){return new dt(dt.error_codes.virtual)}};qe(dt,"error_codes",{mount:"FSIterator: Need to load directory before accessing subdirectory!",invalid:"Descriptor is malformed!",notExist:"FSIterator: Directory/File does not exist!",operation:"FSIterator: Directory operation on file!",network:"FS: Network Error!",invalidGET:"FS: Invalid GET request!",executable:"FS: Executable Error!",localStorage:"FS: localStorage throws exception!",virtual:"FS: Node is not virtual!"});let gt=dt;const Du=new Wu("nvfs"),ju=new Mu("rootdir",Du),Ye=ju.get_iterator();class Nu extends cn{constructor(){super("cd",!0,!0,"Change the current working directory.",[{usage:"cd",description:"To change to your home directory."},{usage:"cd ..",description:"To go up one level of the directory tree."},{usage:"cd [dir]",description:"To go down one level of the directory tree to the [dir] directory."},{usage:"cd [path]",description:"To change to the [path] directory."}],[{parameter:"[dir]",type:"Valid directory name in the current working directory.",description:"The name of a valid directory in the current working directory."},{parameter:"[path]",type:"Valid directory path.",description:'A valid directory path. The path must not contain a file. Paths are delimited by "/".'}])}async exec(e){if(e.length>0){let n=Ye.copy(),t=new wn(e[0]);if(!t.valid)return ue.html(`<br><span>Location ${t.raw} invalid.</span><br><br>`);if(t.is_absolute()&&(n=Ye.fs.get_iterator()),t.is_up())return Ye.up(),ue.empty();try{if(await n.move(t.raw),n.current_node.mounted||await n.load(),!(n.current_node instanceof Ct))return ue.html(`<br><span>Cannot change into file "${t.raw}".</span><br><br>`)}catch(r){switch(console.devlog(r.message),r.message){case gt.error_codes.network:return ue.html("<br><span>Cannot load directory. Network error.</span><br><br>");case gt.error_codes.notExist:return ue.html(`<br><span>Cannot change into non-existent directory "${r.target}".</span><br><br>`);case gt.error_codes.operation:return ue.html(`<br><span>Cannot change into file "${r.target}".</span><br><br>`);default:return ue.html(`<br><span>Cannot change into "${t.raw}".</span><br><br>`)}}return Ye.jump(n.current_node),ue.empty()}else return Ye.jump(Ye.fs.root_node),ue.empty()}}const Lu=new Nu;class Bu{constructor(e,n,t,r,i){this.pid=e,this.program=n,this.ipc_channel=t,this.ipc=r,this.hidden=i,this.created=Date.now()}toString(){return`(${this.pid}, ${this.program.name})`}}var hn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Oo(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function zu(s){if(s.__esModule)return s;var e=s.default;if(typeof e=="function"){var n=function t(){return this instanceof t?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(s).forEach(function(t){var r=Object.getOwnPropertyDescriptor(s,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return s[t]}})}),n}const _a=s=>{let e;const n=[],t=new Promise((r,i)=>{e={resolve:o=>{n.forEach(l=>{l(o)}),r(o)},reject:i}});return Object.assign(t,{cancel:()=>{e.cancelled=!0},channel:s,prethen:r=>{n.push(r)}}),{order:e,promise:t}},Fi={},$t=function(s=0){let e=0,n=!1,t;const r=[],i=[],o=d=>{for(;d.push<r.length&&d.shift<i.length;){const p=r[d.push],h=i[d.shift];p.cancelled?d.push++:h.cancelled?d.shift++:(t=p.value,h.resolve(t),d.shift++,p.resolve(s),d.push++,e=Math.max(0,e-1))}},l=d=>{for(let p=d.push+e;p<r.length&&e<s;p++){const{cancelled:h,resolve:b}=r[p];h||(e++,b(s))}},a=d=>{for(;d.shift<i.length;d.shift++){const{cancelled:p,resolve:h}=i[d.shift];p||(t=void 0,h(t))}},c=()=>{const d={push:0,shift:0};o(d),l(d),n&&a(d),r.splice(0,d.push),i.splice(0,d.shift)},f=Object.freeze(Object.assign(Object.create(Fi),{concat:(d,...p)=>{const h=$t();return(async()=>(await f.forEach(h.push),$t.isChannel(d)?await d.concat(...p).forEach(h.push):await h.push(d),await h.close()))(),h},every:async(d,p)=>{for(;;){const h=await f.shift();if(h===void 0)return!0;if(!d.call(p,h))return!1}},filter:(d,p)=>f.flatMap(h=>d.call(p,h)?$t.of(h):$t.of()),flat:d=>f.flatMap(p=>$t.isChannel(p)?d>1?p.flat(d-1):p:$t.of(p)),flatMap:(d,p)=>{const h=$t();return(async()=>(await f.forEach(async b=>{await d.call(p,b).forEach(h.push)}),await h.close()))(),h},forEach:async(d,p)=>{for(;;){const h=await f.shift();if(h===void 0)break;await d.call(p,h)}},join:async d=>(await f.values()).join(d),map:(d,p)=>f.flatMap(h=>$t.of(d.call(p,h))),readOnly:()=>f,reduce:async(d,...p)=>{let h=p[0],b=p.length>0;if(await f.forEach(x=>{b?h=d(h,x):(h=x,b=!0)}),b)return h;throw new TypeError("No values in channel and initialValue wasn't provided.")},shift:function(){const{order:d,promise:p}=_a(this);return i.push(d),queueMicrotask(c),p},slice:(d=0,p=1/0)=>{const h=$t();return(async()=>{for(let b=0;b<d;b++)await f.shift();for(let b=d;b<p;b++){const x=await f.shift();if(x===void 0)break;await h.push(x)}await h.close()})(),h},some:async(d,p)=>{for(;;){const h=await f.shift();if(h===void 0)return!1;if(d.call(p,h))return!0}},toString:()=>`Channel(${s})`,value:()=>t,values:async()=>{const d=[];return await f.forEach(p=>{d.push(p)}),d}})),u=Object.freeze(Object.assign(Object.create(Fi),{close:()=>new Promise((d,p)=>{n?p(new Error("Can't close an already-closed channel.")):(n=!0,c(),queueMicrotask(d))}),length:s,push:function(d){const{order:p,promise:h}=_a(this);return p.value=d,Promise.resolve(d).catch(()=>{}),n?p.reject(new Error("Can't push to closed channel.")):d===void 0?p.reject(new TypeError("Can't push 'undefined' to channel, use close instead.")):arguments.length>1?p.reject(new Error("Can't push more than one value at a time.")):(r.push(p),queueMicrotask(c)),h},writeOnly:()=>u}));return Object.freeze(Object.assign(Object.create(Fi),f,u))};$t.all=s=>{const e=$t();return(async()=>{for(;;){const n=await Promise.all(s.map($t.shift));if(n.every(t=>t===void 0))break;await e.push(n)}await e.close()})(),e};const Uu=(s,e)=>{e.on("readable",async()=>{for(;;){const n=e.read();if(n===null)break;await s.push(n)}}),e.once("end",s.close)};$t.from=(s,e,n)=>{const t=$t();return(async()=>{try{for(let r of s)await t.push(r);await t.close()}catch{try{for(;;){const i=s();if(i===void 0){await t.close();break}else await t.push(i)}}catch{Uu(t,s)}}})(),(e?t.map(e,n):t).readOnly()};$t.of=(...s)=>$t.from(s);$t.isChannel=s=>s!=null&&Object.getPrototypeOf(s)===Fi;$t.select=s=>{if(!Array.isArray(s))throw new TypeError("Channel.select: Argument must be an array.");const e=new Promise((n,t)=>{s.forEach(async r=>{try{r.prethen(()=>{s.forEach(i=>{i!==r&&i.cancel()})});try{await r}catch(i){t(i)}n(r.channel)}catch{t(new TypeError("Channel.select accepts only promises returned by push & shift."))}})});return Object.assign(e,{cancel:()=>s.forEach(n=>n.cancel())})};const Ys=$t(),Fu=Object.keys(Ys).filter(s=>typeof Ys[s]=="function"),Vu={reduce:2,slice:2};Fu.forEach(s=>{const e=function(...n){const t=Vu[s]||Ys[s].length;return n.length>t?n[t][s](...n.slice(0,t)):e.bind(this,...n)};$t[s]=e});var qu=Object.freeze($t);const Zs=Oo(qu);class $c{constructor(){this.list=[]}add(e){this.list.push(e)}get(e){var n;return(n=this.list.filter(t=>t.pid==e))==null?void 0:n[0]}update(e,n){this.remove(e),this.list.push(n)}remove(e){this.list=this.list.filter(n=>n.pid!=e)}}const _n=gc(new $c);class Gu{constructor(e){this.process_store=e,this.pid_counter=0}list(){return Fr(_n)}process(e){return Fr(_n).get(e)}find(e){return Fr(_n).list.filter(t=>t.program.component==e)}create(e,n=!1){Fr(_n);const t=Zs(),r=new e.ipc_interface(t.writeOnly()),i=this.pid_counter,o=new Bu(i,e,t,r,n);return this.pid_counter++,_n.update(l=>(l.add(o),l)),i}kill(e){_n.update(n=>(n.remove(e),n))}preempt(e){_n.update(n=>{const t=n.get(e);return t&&(t.hidden=!0),n})}run(e){_n.update(n=>{const t=n.get(e);return t&&(t.hidden=!1),n})}reset(){_n.set(new $c)}share_state(e,n){var i;return(i=Fr(_n).get(e).program.props)==null?void 0:i[n]}}const pt=new Gu(_n);function Ju(s){let e,n,t,r,i=">",o,l,a=" ",c;return{c(){e=O("span"),n=le("ATS-"),t=le(s[3]),r=le(":"),o=le(i),l=O("span"),c=le(a),this.h()},l(f){e=M(f,"SPAN",{class:!0});var u=z(e);n=ce(u,"ATS-"),t=ce(u,s[3]),r=ce(u,":"),o=ce(u,i),u.forEach(m),l=M(f,"SPAN",{class:!0});var d=z(l);c=ce(d,a),d.forEach(m),this.h()},h(){B(e,"class","highlight svelte-158w0ou"),B(l,"class","svelte-158w0ou")},m(f,u){y(f,e,u),N(e,n),N(e,t),N(e,r),N(e,o),y(f,l,u),N(l,c)},p(f,u){u&8&&De(t,f[3])},d(f){f&&m(e),f&&m(l)}}}function Qu(s){let e,n;return e=new Oe({props:{id:s[0],type:s[1],content:s[2],$$slots:{default:[Ju]},$$scope:{ctx:s}}}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p(t,[r]){const i={};r&1&&(i.id=t[0]),r&2&&(i.type=t[1]),r&4&&(i.content=t[2]),r&24&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Ku(s,e,n){let{id:t}=e,{type:r="text"}=e,{content:i=""}=e,{count:o=0}=e;return s.$$set=l=>{"id"in l&&n(0,t=l.id),"type"in l&&n(1,r=l.type),"content"in l&&n(2,i=l.content),"count"in l&&n(3,o=l.count)},[t,r,i,o]}class tn extends re{constructor(e){super(),ie(this,e,Ku,Qu,se,{id:0,type:1,content:2,count:3})}}const Er=class Er{static submit(e,n){e("syscall",{index:Er.index.submit,content:n})}static terminate(e){e("syscall",{index:Er.index.terminate})}static minimize(e){e("syscall",{index:Er.index.minimize})}};qe(Er,"index",{submit:"submit",terminate:"terminate",minimize:"minimize"});let Pt=Er,ba=4;function Hu(s){return new Promise(e=>setTimeout(e,s))}function $a(s,e){return s=Math.ceil(s),e=Math.floor(e),Math.floor(Math.random()*(e-s+1))+s}async function Xu(){try{return(await fetch("rootdir/dnode.json",{cache:"no-cache"})).status}catch{return-1}}function Yu(s,e,n){let{pid:t}=e,{hidden:r}=e,{ipc_channel:i}=e,{count:o}=e,l=pt.process(0),a=$a(15,20),c=0;Et(async()=>{let u=Xu();l.ipc.append(me(tn,{type:"text",content:"Hello human user.",count:o})),l.ipc.append(me(tn,{type:"text",content:"I am the Automatic Test System (ATS)",count:o})),l.ipc.append(me(tn,{type:"text",content:"Testing terminal integrity, please stand by:",count:o})),l.ipc.append(me(tn,{count:o})),l.ipc.append(me(Oe)),l.ipc.scroll_from_bottom(5);for(let $=0;$<=a;$++){let R=`Checking: [${new Array($+1).join("#")}${Array(a-$+1).join("_")}]`;l.ipc.replace(me(tn,{type:"text",content:R,count:o})),await Hu($a(100,1e3))}l.ipc.append(me(tn,{count:o}));let d=!0;isNaN(navigator.hardwareConcurrency)&&(d=!1,c+=1),l.ipc.append(me(tn,{type:"text",content:`Number of logical processing units: ${navigator.hardwareConcurrency} ${d?"[OK]":"[FAIL]"}`,count:o}));let p=!0;isNaN(navigator.deviceMemory)&&(p=!1,c+=1),l.ipc.append(me(tn,{type:"text",content:`Device memory: ${window.navigator.deviceMemory*1024} MB ${p?"[OK]":"[FAIL]"}`,count:o}));let h=!0;navigator.onLine||(h=!1,c+=1),l.ipc.append(me(tn,{type:"text",content:`Network connection: ${window.navigator.onLine} ${h?"[OK]":"[FAIL]"}`,count:o}));let b=!0;await u!=200&&(b=!1,c+=1),l.ipc.append(me(tn,{type:"text",content:`Server connection: ${b} ${b?"[OK]":"[FAIL]"}`,count:o})),l.ipc.append(me(tn,{count:o})),c==0?l.ipc.append(me(tn,{type:"text",content:"Test successful. All systems nominal.",count:o})):l.ipc.append(me(tn,{type:"text",content:`${ba-c}/${ba} tests successful. Systems impaired.`,count:o})),l.ipc.scroll_from_bottom(5),Pt.terminate(f)});const f=at();return s.$$set=u=>{"pid"in u&&n(0,t=u.pid),"hidden"in u&&n(1,r=u.hidden),"ipc_channel"in u&&n(2,i=u.ipc_channel),"count"in u&&n(3,o=u.count)},[t,r,i,o]}class Zu extends re{constructor(e){super(),ie(this,e,Yu,null,se,{pid:0,hidden:1,ipc_channel:2,count:3})}}class zr{constructor(e){this.channel=e}toString(){this.constructor.name}}class Mo{constructor(e,n,t,r,i){this.name=e,this.component=n,this.props=t,this.ipc_interface=r,this.singleton=i}toString(){return this.name}}class Wo extends Mo{constructor(e,n,t={},r=zr,i=!0,o=null){super(e,n,t,r,i),this.mobile_controls=o}}let Vn=class extends Mo{constructor(e,n,t={},r=zr,i=!0){super(e,n,t,r,i)}};class Do extends Mo{constructor(e,n,t={},r=zr,i=!0){super(e,n,t,r,i)}}class ke{constructor(e=null,n=!1,t="",r=!1){this.e=e,this.real=n,this.key=t,this.ctrlKey=r}preventDefault(){}static real(e){return new ke(e,!0,e.key,e.ctrlKey)}static artificial(e,n=!1){return new ke(null,!1,e,n)}}const kt=class kt{};qe(kt,"modifier",["Shift","Control","AltGraph"]),qe(kt,"control",["Enter","Backspace"]),qe(kt,"navigation",["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","PageUp","PageDown"]),qe(kt,"alphabet_lowercase",["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"]),qe(kt,"alphabet_uppercase",["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"]),qe(kt,"numbers",["0","1","2","3","4","5","6","7","8","9"]),qe(kt,"special_body",["<",">","|",",",";",".",":","-","_","#","'","+","*","~"," "]),qe(kt,"special_top",["^","°","!",'"',"§","$","%","&","/","{","(","[",")","]","=","}","?","\\","´","`"]),qe(kt,"alphabet",kt.alphabet_lowercase.concat(kt.alphabet_uppercase)),qe(kt,"special",kt.special_body.concat(kt.special_top)),qe(kt,"printable",kt.alphabet.concat(kt.numbers).concat(kt.special));let Bn=kt;function ed(s){if(s.sheet)return s.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===s)return document.styleSheets[e]}function td(s){var e=document.createElement("style");return e.setAttribute("data-emotion",s.key),s.nonce!==void 0&&e.setAttribute("nonce",s.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var nd=function(){function s(n){var t=this;this._insertTag=function(r){var i;t.tags.length===0?t.insertionPoint?i=t.insertionPoint.nextSibling:t.prepend?i=t.container.firstChild:i=t.before:i=t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(r,i),t.tags.push(r)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=s.prototype;return e.hydrate=function(t){t.forEach(this._insertTag)},e.insert=function(t){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(td(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var i=ed(r);try{i.insertRule(t,i.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(t));this.ctr++},e.flush=function(){this.tags.forEach(function(t){return t.parentNode&&t.parentNode.removeChild(t)}),this.tags=[],this.ctr=0},s}(),Lt="-ms-",is="-moz-",Qe="-webkit-",xc="comm",jo="rule",No="decl",rd="@import",yc="@keyframes",id="@layer",sd=Math.abs,Ss=String.fromCharCode,od=Object.assign;function ad(s,e){return Dt(s,0)^45?(((e<<2^Dt(s,0))<<2^Dt(s,1))<<2^Dt(s,2))<<2^Dt(s,3):0}function kc(s){return s.trim()}function ld(s,e){return(s=e.exec(s))?s[0]:s}function Ke(s,e,n){return s.replace(e,n)}function eo(s,e){return s.indexOf(e)}function Dt(s,e){return s.charCodeAt(e)|0}function ui(s,e,n){return s.slice(e,n)}function An(s){return s.length}function Lo(s){return s.length}function Mi(s,e){return e.push(s),s}function cd(s,e){return s.map(e).join("")}var Es=1,Nr=1,vc=0,Xt=0,wt=0,Ur="";function Rs(s,e,n,t,r,i,o){return{value:s,root:e,parent:n,type:t,props:r,children:i,line:Es,column:Nr,length:o,return:""}}function Vr(s,e){return od(Rs("",null,null,"",null,null,0),s,{length:-s.length},e)}function fd(){return wt}function ud(){return wt=Xt>0?Dt(Ur,--Xt):0,Nr--,wt===10&&(Nr=1,Es--),wt}function sn(){return wt=Xt<vc?Dt(Ur,Xt++):0,Nr++,wt===10&&(Nr=1,Es++),wt}function jn(){return Dt(Ur,Xt)}function Vi(){return Xt}function Ei(s,e){return ui(Ur,s,e)}function di(s){switch(s){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function wc(s){return Es=Nr=1,vc=An(Ur=s),Xt=0,[]}function Cc(s){return Ur="",s}function qi(s){return kc(Ei(Xt-1,to(s===91?s+2:s===40?s+1:s)))}function dd(s){for(;(wt=jn())&&wt<33;)sn();return di(s)>2||di(wt)>3?"":" "}function pd(s,e){for(;--e&&sn()&&!(wt<48||wt>102||wt>57&&wt<65||wt>70&&wt<97););return Ei(s,Vi()+(e<6&&jn()==32&&sn()==32))}function to(s){for(;sn();)switch(wt){case s:return Xt;case 34:case 39:s!==34&&s!==39&&to(wt);break;case 40:s===41&&to(s);break;case 92:sn();break}return Xt}function hd(s,e){for(;sn()&&s+wt!==47+10;)if(s+wt===42+42&&jn()===47)break;return"/*"+Ei(e,Xt-1)+"*"+Ss(s===47?s:sn())}function md(s){for(;!di(jn());)sn();return Ei(s,Xt)}function gd(s){return Cc(Gi("",null,null,null,[""],s=wc(s),0,[0],s))}function Gi(s,e,n,t,r,i,o,l,a){for(var c=0,f=0,u=o,d=0,p=0,h=0,b=1,x=1,$=1,R=0,S="",P=r,T=i,F=t,k=S;x;)switch(h=R,R=sn()){case 40:if(h!=108&&Dt(k,u-1)==58){eo(k+=Ke(qi(R),"&","&\f"),"&\f")!=-1&&($=-1);break}case 34:case 39:case 91:k+=qi(R);break;case 9:case 10:case 13:case 32:k+=dd(h);break;case 92:k+=pd(Vi()-1,7);continue;case 47:switch(jn()){case 42:case 47:Mi(_d(hd(sn(),Vi()),e,n),a);break;default:k+="/"}break;case 123*b:l[c++]=An(k)*$;case 125*b:case 59:case 0:switch(R){case 0:case 125:x=0;case 59+f:$==-1&&(k=Ke(k,/\f/g,"")),p>0&&An(k)-u&&Mi(p>32?ya(k+";",t,n,u-1):ya(Ke(k," ","")+";",t,n,u-2),a);break;case 59:k+=";";default:if(Mi(F=xa(k,e,n,c,f,r,l,S,P=[],T=[],u),i),R===123)if(f===0)Gi(k,e,F,F,P,i,u,l,T);else switch(d===99&&Dt(k,3)===110?100:d){case 100:case 108:case 109:case 115:Gi(s,F,F,t&&Mi(xa(s,F,F,0,0,r,l,S,r,P=[],u),T),r,T,u,l,t?P:T);break;default:Gi(k,F,F,F,[""],T,0,l,T)}}c=f=p=0,b=$=1,S=k="",u=o;break;case 58:u=1+An(k),p=h;default:if(b<1){if(R==123)--b;else if(R==125&&b++==0&&ud()==125)continue}switch(k+=Ss(R),R*b){case 38:$=f>0?1:(k+="\f",-1);break;case 44:l[c++]=(An(k)-1)*$,$=1;break;case 64:jn()===45&&(k+=qi(sn())),d=jn(),f=u=An(S=k+=md(Vi())),R++;break;case 45:h===45&&An(k)==2&&(b=0)}}return i}function xa(s,e,n,t,r,i,o,l,a,c,f){for(var u=r-1,d=r===0?i:[""],p=Lo(d),h=0,b=0,x=0;h<t;++h)for(var $=0,R=ui(s,u+1,u=sd(b=o[h])),S=s;$<p;++$)(S=kc(b>0?d[$]+" "+R:Ke(R,/&\f/g,d[$])))&&(a[x++]=S);return Rs(s,e,n,r===0?jo:l,a,c,f)}function _d(s,e,n){return Rs(s,e,n,xc,Ss(fd()),ui(s,2,-2),0)}function ya(s,e,n,t){return Rs(s,e,n,No,ui(s,0,t),ui(s,t+1,-1),t)}function Tr(s,e){for(var n="",t=Lo(s),r=0;r<t;r++)n+=e(s[r],r,s,e)||"";return n}function bd(s,e,n,t){switch(s.type){case id:if(s.children.length)break;case rd:case No:return s.return=s.return||s.value;case xc:return"";case yc:return s.return=s.value+"{"+Tr(s.children,t)+"}";case jo:s.value=s.props.join(",")}return An(n=Tr(s.children,t))?s.return=s.value+"{"+n+"}":""}function $d(s){var e=Lo(s);return function(n,t,r,i){for(var o="",l=0;l<e;l++)o+=s[l](n,t,r,i)||"";return o}}function xd(s){return function(e){e.root||(e=e.return)&&s(e)}}function yd(s){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=s(n)),e[n]}}var kd=function(e,n,t){for(var r=0,i=0;r=i,i=jn(),r===38&&i===12&&(n[t]=1),!di(i);)sn();return Ei(e,Xt)},vd=function(e,n){var t=-1,r=44;do switch(di(r)){case 0:r===38&&jn()===12&&(n[t]=1),e[t]+=kd(Xt-1,n,t);break;case 2:e[t]+=qi(r);break;case 4:if(r===44){e[++t]=jn()===58?"&\f":"",n[t]=e[t].length;break}default:e[t]+=Ss(r)}while(r=sn());return e},wd=function(e,n){return Cc(vd(wc(e),n))},ka=new WeakMap,Cd=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,t=e.parent,r=e.column===t.column&&e.line===t.line;t.type!=="rule";)if(t=t.parent,!t)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!ka.get(t))&&!r){ka.set(e,!0);for(var i=[],o=wd(n,i),l=t.props,a=0,c=0;a<o.length;a++)for(var f=0;f<l.length;f++,c++)e.props[c]=i[a]?o[a].replace(/&\f/g,l[f]):l[f]+" "+o[a]}}},Sd=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function Sc(s,e){switch(ad(s,e)){case 5103:return Qe+"print-"+s+s;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Qe+s+s;case 5349:case 4246:case 4810:case 6968:case 2756:return Qe+s+is+s+Lt+s+s;case 6828:case 4268:return Qe+s+Lt+s+s;case 6165:return Qe+s+Lt+"flex-"+s+s;case 5187:return Qe+s+Ke(s,/(\w+).+(:[^]+)/,Qe+"box-$1$2"+Lt+"flex-$1$2")+s;case 5443:return Qe+s+Lt+"flex-item-"+Ke(s,/flex-|-self/,"")+s;case 4675:return Qe+s+Lt+"flex-line-pack"+Ke(s,/align-content|flex-|-self/,"")+s;case 5548:return Qe+s+Lt+Ke(s,"shrink","negative")+s;case 5292:return Qe+s+Lt+Ke(s,"basis","preferred-size")+s;case 6060:return Qe+"box-"+Ke(s,"-grow","")+Qe+s+Lt+Ke(s,"grow","positive")+s;case 4554:return Qe+Ke(s,/([^-])(transform)/g,"$1"+Qe+"$2")+s;case 6187:return Ke(Ke(Ke(s,/(zoom-|grab)/,Qe+"$1"),/(image-set)/,Qe+"$1"),s,"")+s;case 5495:case 3959:return Ke(s,/(image-set\([^]*)/,Qe+"$1$`$1");case 4968:return Ke(Ke(s,/(.+:)(flex-)?(.*)/,Qe+"box-pack:$3"+Lt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Qe+s+s;case 4095:case 3583:case 4068:case 2532:return Ke(s,/(.+)-inline(.+)/,Qe+"$1$2")+s;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(An(s)-1-e>6)switch(Dt(s,e+1)){case 109:if(Dt(s,e+4)!==45)break;case 102:return Ke(s,/(.+:)(.+)-([^]+)/,"$1"+Qe+"$2-$3$1"+is+(Dt(s,e+3)==108?"$3":"$2-$3"))+s;case 115:return~eo(s,"stretch")?Sc(Ke(s,"stretch","fill-available"),e)+s:s}break;case 4949:if(Dt(s,e+1)!==115)break;case 6444:switch(Dt(s,An(s)-3-(~eo(s,"!important")&&10))){case 107:return Ke(s,":",":"+Qe)+s;case 101:return Ke(s,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Qe+(Dt(s,14)===45?"inline-":"")+"box$3$1"+Qe+"$2$3$1"+Lt+"$2box$3")+s}break;case 5936:switch(Dt(s,e+11)){case 114:return Qe+s+Lt+Ke(s,/[svh]\w+-[tblr]{2}/,"tb")+s;case 108:return Qe+s+Lt+Ke(s,/[svh]\w+-[tblr]{2}/,"tb-rl")+s;case 45:return Qe+s+Lt+Ke(s,/[svh]\w+-[tblr]{2}/,"lr")+s}return Qe+s+Lt+s+s}return s}var Ed=function(e,n,t,r){if(e.length>-1&&!e.return)switch(e.type){case No:e.return=Sc(e.value,e.length);break;case yc:return Tr([Vr(e,{value:Ke(e.value,"@","@"+Qe)})],r);case jo:if(e.length)return cd(e.props,function(i){switch(ld(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Tr([Vr(e,{props:[Ke(i,/:(read-\w+)/,":"+is+"$1")]})],r);case"::placeholder":return Tr([Vr(e,{props:[Ke(i,/:(plac\w+)/,":"+Qe+"input-$1")]}),Vr(e,{props:[Ke(i,/:(plac\w+)/,":"+is+"$1")]}),Vr(e,{props:[Ke(i,/:(plac\w+)/,Lt+"input-$1")]})],r)}return""})}},Rd=[Ed],Td=function(e){var n=e.key;if(n==="css"){var t=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(t,function(b){var x=b.getAttribute("data-emotion");x.indexOf(" ")!==-1&&(document.head.appendChild(b),b.setAttribute("data-s",""))})}var r=e.stylisPlugins||Rd,i={},o,l=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(b){for(var x=b.getAttribute("data-emotion").split(" "),$=1;$<x.length;$++)i[x[$]]=!0;l.push(b)});var a,c=[Cd,Sd];{var f,u=[bd,xd(function(b){f.insert(b)})],d=$d(c.concat(r,u)),p=function(x){return Tr(gd(x),d)};a=function(x,$,R,S){f=R,p(x?x+"{"+$.styles+"}":$.styles),S&&(h.inserted[$.name]=!0)}}var h={key:n,sheet:new nd({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:a};return h.sheet.hydrate(l),h};function Pd(s){for(var e=0,n,t=0,r=s.length;r>=4;++t,r-=4)n=s.charCodeAt(t)&255|(s.charCodeAt(++t)&255)<<8|(s.charCodeAt(++t)&255)<<16|(s.charCodeAt(++t)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(r){case 3:e^=(s.charCodeAt(t+2)&255)<<16;case 2:e^=(s.charCodeAt(t+1)&255)<<8;case 1:e^=s.charCodeAt(t)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Ad={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Id=/[A-Z]|^ms/g,Od=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Ec=function(e){return e.charCodeAt(1)===45},va=function(e){return e!=null&&typeof e!="boolean"},js=yd(function(s){return Ec(s)?s:s.replace(Id,"-$&").toLowerCase()}),wa=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(Od,function(t,r,i){return In={name:r,styles:i,next:In},r})}return Ad[e]!==1&&!Ec(e)&&typeof n=="number"&&n!==0?n+"px":n};function pi(s,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return In={name:n.name,styles:n.styles,next:In},n.name;if(n.styles!==void 0){var t=n.next;if(t!==void 0)for(;t!==void 0;)In={name:t.name,styles:t.styles,next:In},t=t.next;var r=n.styles+";";return r}return Md(s,e,n)}case"function":{if(s!==void 0){var i=In,o=n(s);return In=i,pi(s,e,o)}break}}if(e==null)return n;var l=e[n];return l!==void 0?l:n}function Md(s,e,n){var t="";if(Array.isArray(n))for(var r=0;r<n.length;r++)t+=pi(s,e,n[r])+";";else for(var i in n){var o=n[i];if(typeof o!="object")e!=null&&e[o]!==void 0?t+=i+"{"+e[o]+"}":va(o)&&(t+=js(i)+":"+wa(i,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var l=0;l<o.length;l++)va(o[l])&&(t+=js(i)+":"+wa(i,o[l])+";");else{var a=pi(s,e,o);switch(i){case"animation":case"animationName":{t+=js(i)+":"+a+";";break}default:t+=i+"{"+a+"}"}}}return t}var Ca=/label:\s*([^\s;\n{]+)\s*(;|$)/g,In,Ns=function(e,n,t){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,i="";In=void 0;var o=e[0];o==null||o.raw===void 0?(r=!1,i+=pi(t,n,o)):i+=o[0];for(var l=1;l<e.length;l++)i+=pi(t,n,e[l]),r&&(i+=o[l]);Ca.lastIndex=0;for(var a="",c;(c=Ca.exec(i))!==null;)a+="-"+c[1];var f=Pd(i)+a;return{name:f,styles:i,next:In}},Wd=!0;function Rc(s,e,n){var t="";return n.split(" ").forEach(function(r){s[r]!==void 0?e.push(s[r]+";"):t+=r+" "}),t}var Dd=function(e,n,t){var r=e.key+"-"+n.name;(t===!1||Wd===!1)&&e.registered[r]===void 0&&(e.registered[r]=n.styles)},jd=function(e,n,t){Dd(e,n,t);var r=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var i=n;do e.insert(n===i?"."+r:"",i,e.sheet,!0),i=i.next;while(i!==void 0)}};function Sa(s,e){if(s.inserted[e.name]===void 0)return s.insert("",e,s.sheet,!0)}function Ea(s,e,n){var t=[],r=Rc(s,t,n);return t.length<2?n:r+e(t)}var Nd=function(e){var n=Td(e);n.sheet.speedy=function(l){this.isSpeedy=l},n.compat=!0;var t=function(){for(var a=arguments.length,c=new Array(a),f=0;f<a;f++)c[f]=arguments[f];var u=Ns(c,n.registered,void 0);return jd(n,u,!1),n.key+"-"+u.name},r=function(){for(var a=arguments.length,c=new Array(a),f=0;f<a;f++)c[f]=arguments[f];var u=Ns(c,n.registered),d="animation-"+u.name;return Sa(n,{name:u.name,styles:"@keyframes "+d+"{"+u.styles+"}"}),d},i=function(){for(var a=arguments.length,c=new Array(a),f=0;f<a;f++)c[f]=arguments[f];var u=Ns(c,n.registered);Sa(n,u)},o=function(){for(var a=arguments.length,c=new Array(a),f=0;f<a;f++)c[f]=arguments[f];return Ea(n.registered,t,Ld(c))};return{css:t,cx:o,injectGlobal:i,keyframes:r,hydrate:function(a){a.forEach(function(c){n.inserted[c]=!0})},flush:function(){n.registered={},n.inserted={},n.sheet.flush()},sheet:n.sheet,cache:n,getRegisteredStyles:Rc.bind(null,n.registered),merge:Ea.bind(null,n.registered,t)}},Ld=function s(e){for(var n="",t=0;t<e.length;t++){var r=e[t];if(r!=null){var i=void 0;switch(typeof r){case"boolean":break;case"object":{if(Array.isArray(r))i=s(r);else{i="";for(var o in r)r[o]&&o&&(i&&(i+=" "),i+=o)}break}default:i=r}i&&(n&&(n+=" "),n+=i)}}return n},Bd=Nd({key:"css"}),Cn=Bd.css;class fn{constructor(e,n=[]){this.css_value=e,this.prefixes=n}combine(e){const n=Cn`
            ${this.css_value};
            ${e.css_value};
        `,t=[...new Set([...this.prefixes,...e.prefixes])];return t.sort(),new fn(n,t)}add_prefix(e){this.prefixes.unshift(e)}toString(){return this.prefixes.join("_")}}let ss=class extends fn{constructor(e){const n=Cn`
            color: ${e};
        `;super(n,["c"])}};class zd extends fn{constructor(){const e=Cn`
            color: #1D272D;
        `;super(e,["c$dg"])}}class Ls extends fn{constructor(){const e=Cn`
            color: #D0D0D0;
        `;super(e,["c$lg"])}}class qr extends fn{constructor(e){const n=Cn`
            border-color: ${e};
        `;super(n,["b"])}}class Ud extends fn{constructor(e){const n=Cn`
            border: 0px;
            border-bottom: 2px;
            border-style: solid;
            border-color: ${e};
        `;super(n,["bb"])}}class hi extends fn{constructor(e){const n=Cn`
            background-color: ${e};
        `;super(n,["bg"])}}class Ra extends fn{constructor(e){const n=Cn`
            box-shadow:0px 4px 0px 0px ${e};
        `;super(n,["bs"])}}const Fd="#D0D0D0",Vd="#EE982B",qd="#2E8540",Gd="#150578",Jd="#000000",Qd=[Fd,Vd,qd,Gd,Jd];function Kd(s,e){let n={};for(const[t,r]of s.entries())for(const i of e)if(i.length>0){let o=new fn("");for(const l of i)o=o.combine(new l(r));o.add_prefix(`c${t}`),n[o.toString()]=o.css_value}return n}const Hd=[[qr,hi,zd],[qr,hi,Ls],[qr,Ls],[qr,Ra,ss],[qr,Ra,Ls],[Ud]],ae=Kd(Qd,Hd);function Xd(s){let e,n,t,r;return{c(){e=O("input"),this.h()},l(i){e=M(i,"INPUT",{type:!0,autocorrect:!0,autocapitalize:!0,placeholder:!0,class:!0}),this.h()},h(){B(e,"type","text"),B(e,"autocorrect","off"),B(e,"autocapitalize","off"),B(e,"placeholder",s[1]),B(e,"class",n=s[3]+" "+s[4]+" svelte-atgi6j"),e.disabled=s[2]},m(i,o){y(i,e,o),aa(e,s[0]),t||(r=[Tt(e,"input",s[8]),Tt(e,"input",s[5]),Tt(e,"keyup",s[6]),Tt(e,"change",s[7])],t=!0)},p(i,[o]){o&2&&B(e,"placeholder",i[1]),o&24&&n!==(n=i[3]+" "+i[4]+" svelte-atgi6j")&&B(e,"class",n),o&4&&(e.disabled=i[2]),o&1&&e.value!==i[0]&&aa(e,i[0])},i:V,o:V,d(i){i&&m(e),t=!1,ws(r)}}}function Yd(s,e,n){let{placeholder:t="type here..."}=e,{value:r=""}=e,{disabled:i=!1}=e,{color:o=ae.c0_b_c$lg}=e,{additionalStyles:l=""}=e;const a=at();function c(p){switch(p.inputType){case"insertText":Bn.printable.includes(p.data)&&a("vinput",ke.artificial(p.data));break;case"deleteContentBackward":a("vinput",ke.artificial("Backspace"));break}}function f(p){switch(p.key){case"Enter":a("vinput",ke.artificial("Enter"));break;case"Backspace":r==""&&a("vinput",ke.artificial("Backspace"));break}}function u(){a("change",r)}function d(){r=this.value,n(0,r)}return s.$$set=p=>{"placeholder"in p&&n(1,t=p.placeholder),"value"in p&&n(0,r=p.value),"disabled"in p&&n(2,i=p.disabled),"color"in p&&n(3,o=p.color),"additionalStyles"in p&&n(4,l=p.additionalStyles)},[r,t,i,o,l,c,f,u,d]}class Ri extends re{constructor(e){super(),ie(this,e,Yd,Xd,se,{placeholder:1,value:0,disabled:2,color:3,additionalStyles:4})}}class Zd extends cn{constructor(){super("chksys",!0,!0,"Check subsystem integrity.",[{usage:"chksys",description:"Check subsystem integrity."}]),this.count=-1}async exec(){return this.count+=1,new ln(new Wo(this.name,Zu,{count:this.count},zr,!0,me(Ri,{disabled:!0})))}}const ep=new Zd;class tp extends cn{constructor(){super("clear",!0,!0,"Resets the terminal.",[{usage:"clear",description:"To clear the terminal."}])}async exec(){return pt.process(0).ipc.reset(),new ue}}const np=new tp;class rp extends cn{constructor(){super("error",!0,"Debug command. Throws an uncaught error causing the terminal to crash.",[{usage:"error",description:"To throw an error."}])}async exec(){throw new Error("Executed error command.")}}new rp;function Ta(s,e,n){const t=s.slice();return t[1]=e[n],t}function Pa(s){let e,n=s[1]+"",t;return{c(){e=O("td"),t=le(n),this.h()},l(r){e=M(r,"TD",{class:!0});var i=z(e);t=ce(i,n),i.forEach(m),this.h()},h(){B(e,"class","svelte-1fumn3")},m(r,i){y(r,e,i),N(e,t)},p(r,i){i&1&&n!==(n=r[1]+"")&&De(t,n)},d(r){r&&m(e)}}}function ip(s){let e,n=s[0],t=[];for(let r=0;r<n.length;r+=1)t[r]=Pa(Ta(s,n,r));return{c(){e=O("tr");for(let r=0;r<t.length;r+=1)t[r].c()},l(r){e=M(r,"TR",{});var i=z(e);for(let o=0;o<t.length;o+=1)t[o].l(i);i.forEach(m)},m(r,i){y(r,e,i);for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(e,null)},p(r,[i]){if(i&1){n=r[0];let o;for(o=0;o<n.length;o+=1){const l=Ta(r,n,o);t[o]?t[o].p(l,i):(t[o]=Pa(l),t[o].c(),t[o].m(e,null))}for(;o<t.length;o+=1)t[o].d(1);t.length=n.length}},i:V,o:V,d(r){r&&m(e),It(t,r)}}}function sp(s,e,n){let{cols:t}=e;return s.$$set=r=>{"cols"in r&&n(0,t=r.cols)},[t]}class ur extends re{constructor(e){super(),ie(this,e,sp,ip,se,{cols:0})}}function Aa(s,e,n){const t=s.slice();return t[1]=e[n].name,t[2]=e[n].description,t[3]=e[n].visible,t}function Ia(s){let e,n;return e=new ur({props:{cols:[s[1],s[2]]}}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p(t,r){const i={};r&1&&(i.cols=[t[1],t[2]]),e.$set(i)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Oa(s){let e,n,t=s[3]&&Ia(s);return{c(){t&&t.c(),e=J()},l(r){t&&t.l(r),e=J()},m(r,i){t&&t.m(r,i),y(r,e,i),n=!0},p(r,i){r[3]?t?(t.p(r,i),i&1&&g(t,1)):(t=Ia(r),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(de(),_(t,1,1,()=>{t=null}),pe())},i(r){n||(g(t),n=!0)},o(r){_(t),n=!1},d(r){t&&t.d(r),r&&m(e)}}}function op(s){let e,n,t=s[0],r=[];for(let o=0;o<t.length;o+=1)r[o]=Oa(Aa(s,t,o));const i=o=>_(r[o],1,1,()=>{r[o]=null});return{c(){for(let o=0;o<r.length;o+=1)r[o].c();e=J()},l(o){for(let l=0;l<r.length;l+=1)r[l].l(o);e=J()},m(o,l){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(o,l);y(o,e,l),n=!0},p(o,l){if(l&1){t=o[0];let a;for(a=0;a<t.length;a+=1){const c=Aa(o,t,a);r[a]?(r[a].p(c,l),g(r[a],1)):(r[a]=Oa(c),r[a].c(),g(r[a],1),r[a].m(e.parentNode,e))}for(de(),a=t.length;a<r.length;a+=1)i(a);pe()}},i(o){if(!n){for(let l=0;l<t.length;l+=1)g(r[l]);n=!0}},o(o){r=r.filter(Boolean);for(let l=0;l<r.length;l+=1)_(r[l]);n=!1},d(o){It(r,o),o&&m(e)}}}function ap(s){let e,n,t,r,i,o,l,a,c,f,u,d,p,h,b,x,$,R,S,P,T,F;return S=new Si({props:{cols:["Name","Description"],$$slots:{default:[op]},$$scope:{ctx:s}}}),{c(){e=O("br"),n=W(),t=O("span"),r=le("Type help [command] to get specific information regarding this command."),i=O("br"),o=W(),l=O("br"),a=W(),c=O("span"),f=le("List of available commands:"),u=O("br"),d=W(),p=O("span"),h=le("---------------------------"),b=O("br"),x=W(),$=O("br"),R=W(),v(S.$$.fragment),P=W(),T=O("br")},l(k){e=M(k,"BR",{}),n=D(k),t=M(k,"SPAN",{});var j=z(t);r=ce(j,"Type help [command] to get specific information regarding this command."),j.forEach(m),i=M(k,"BR",{}),o=D(k),l=M(k,"BR",{}),a=D(k),c=M(k,"SPAN",{});var fe=z(c);f=ce(fe,"List of available commands:"),fe.forEach(m),u=M(k,"BR",{}),d=D(k),p=M(k,"SPAN",{});var Z=z(p);h=ce(Z,"---------------------------"),Z.forEach(m),b=M(k,"BR",{}),x=D(k),$=M(k,"BR",{}),R=D(k),E(S.$$.fragment,k),P=D(k),T=M(k,"BR",{})},m(k,j){y(k,e,j),y(k,n,j),y(k,t,j),N(t,r),y(k,i,j),y(k,o,j),y(k,l,j),y(k,a,j),y(k,c,j),N(c,f),y(k,u,j),y(k,d,j),y(k,p,j),N(p,h),y(k,b,j),y(k,x,j),y(k,$,j),y(k,R,j),w(S,k,j),y(k,P,j),y(k,T,j),F=!0},p(k,[j]){const fe={};j&65&&(fe.$$scope={dirty:j,ctx:k}),S.$set(fe)},i(k){F||(g(S.$$.fragment,k),F=!0)},o(k){_(S.$$.fragment,k),F=!1},d(k){k&&m(e),k&&m(n),k&&m(t),k&&m(i),k&&m(o),k&&m(l),k&&m(a),k&&m(c),k&&m(u),k&&m(d),k&&m(p),k&&m(b),k&&m(x),k&&m($),k&&m(R),C(S,k),k&&m(P),k&&m(T)}}}function lp(s,e,n){let{cmds:t}=e;return s.$$set=r=>{"cmds"in r&&n(0,t=r.cmds)},[t]}class cp extends re{constructor(e){super(),ie(this,e,lp,ap,se,{cmds:0})}}function Ma(s,e,n){const t=s.slice();return t[3]=e[n].parameter,t[4]=e[n].type,t[2]=e[n].description,t}function Wa(s,e,n){const t=s.slice();return t[7]=e[n].usage,t[2]=e[n].description,t}function Da(s){let e,n;return e=new ur({props:{cols:[s[7],s[2]]}}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p(t,r){const i={};r&1&&(i.cols=[t[7],t[2]]),e.$set(i)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function fp(s){let e,n,t=s[0],r=[];for(let o=0;o<t.length;o+=1)r[o]=Da(Wa(s,t,o));const i=o=>_(r[o],1,1,()=>{r[o]=null});return{c(){for(let o=0;o<r.length;o+=1)r[o].c();e=J()},l(o){for(let l=0;l<r.length;l+=1)r[l].l(o);e=J()},m(o,l){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(o,l);y(o,e,l),n=!0},p(o,l){if(l&1){t=o[0];let a;for(a=0;a<t.length;a+=1){const c=Wa(o,t,a);r[a]?(r[a].p(c,l),g(r[a],1)):(r[a]=Da(c),r[a].c(),g(r[a],1),r[a].m(e.parentNode,e))}for(de(),a=t.length;a<r.length;a+=1)i(a);pe()}},i(o){if(!n){for(let l=0;l<t.length;l+=1)g(r[l]);n=!0}},o(o){r=r.filter(Boolean);for(let l=0;l<r.length;l+=1)_(r[l]);n=!1},d(o){It(r,o),o&&m(e)}}}function up(s){let e,n;return{c(){e=O("span"),n=le("No parameters.")},l(t){e=M(t,"SPAN",{});var r=z(e);n=ce(r,"No parameters."),r.forEach(m)},m(t,r){y(t,e,r),N(e,n)},p:V,i:V,o:V,d(t){t&&m(e)}}}function dp(s){let e,n,t,r,i,o,l,a;return l=new Si({props:{cols:["Parameter","Type/Values","Description"],$$slots:{default:[pp]},$$scope:{ctx:s}}}),{c(){e=O("span"),n=le("Parameters:"),t=O("br"),r=W(),i=O("br"),o=W(),v(l.$$.fragment)},l(c){e=M(c,"SPAN",{});var f=z(e);n=ce(f,"Parameters:"),f.forEach(m),t=M(c,"BR",{}),r=D(c),i=M(c,"BR",{}),o=D(c),E(l.$$.fragment,c)},m(c,f){y(c,e,f),N(e,n),y(c,t,f),y(c,r,f),y(c,i,f),y(c,o,f),w(l,c,f),a=!0},p(c,f){const u={};f&1026&&(u.$$scope={dirty:f,ctx:c}),l.$set(u)},i(c){a||(g(l.$$.fragment,c),a=!0)},o(c){_(l.$$.fragment,c),a=!1},d(c){c&&m(e),c&&m(t),c&&m(r),c&&m(i),c&&m(o),C(l,c)}}}function ja(s){let e,n;return e=new ur({props:{cols:[s[3],s[4],s[2]]}}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p(t,r){const i={};r&2&&(i.cols=[t[3],t[4],t[2]]),e.$set(i)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function pp(s){let e,n,t=s[1],r=[];for(let o=0;o<t.length;o+=1)r[o]=ja(Ma(s,t,o));const i=o=>_(r[o],1,1,()=>{r[o]=null});return{c(){for(let o=0;o<r.length;o+=1)r[o].c();e=J()},l(o){for(let l=0;l<r.length;l+=1)r[l].l(o);e=J()},m(o,l){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(o,l);y(o,e,l),n=!0},p(o,l){if(l&2){t=o[1];let a;for(a=0;a<t.length;a+=1){const c=Ma(o,t,a);r[a]?(r[a].p(c,l),g(r[a],1)):(r[a]=ja(c),r[a].c(),g(r[a],1),r[a].m(e.parentNode,e))}for(de(),a=t.length;a<r.length;a+=1)i(a);pe()}},i(o){if(!n){for(let l=0;l<t.length;l+=1)g(r[l]);n=!0}},o(o){r=r.filter(Boolean);for(let l=0;l<r.length;l+=1)_(r[l]);n=!1},d(o){It(r,o),o&&m(e)}}}function hp(s){let e,n,t,r,i,o,l,a,c,f,u,d,p,h,b,x,$,R,S;c=new Si({props:{cols:["Usage","Description"],$$slots:{default:[fp]},$$scope:{ctx:s}}});const P=[dp,up],T=[];function F(k,j){return k[1].length>0?0:1}return h=F(s),b=T[h]=P[h](s),{c(){e=O("br"),n=W(),t=O("span"),r=le(s[2]),i=O("br"),o=W(),l=O("br"),a=W(),v(c.$$.fragment),f=W(),u=O("br"),d=O("br"),p=W(),b.c(),x=W(),$=O("br"),R=O("br")},l(k){e=M(k,"BR",{}),n=D(k),t=M(k,"SPAN",{});var j=z(t);r=ce(j,s[2]),j.forEach(m),i=M(k,"BR",{}),o=D(k),l=M(k,"BR",{}),a=D(k),E(c.$$.fragment,k),f=D(k),u=M(k,"BR",{}),d=M(k,"BR",{}),p=D(k),b.l(k),x=D(k),$=M(k,"BR",{}),R=M(k,"BR",{})},m(k,j){y(k,e,j),y(k,n,j),y(k,t,j),N(t,r),y(k,i,j),y(k,o,j),y(k,l,j),y(k,a,j),w(c,k,j),y(k,f,j),y(k,u,j),y(k,d,j),y(k,p,j),T[h].m(k,j),y(k,x,j),y(k,$,j),y(k,R,j),S=!0},p(k,[j]){(!S||j&4)&&De(r,k[2]);const fe={};j&1025&&(fe.$$scope={dirty:j,ctx:k}),c.$set(fe);let Z=h;h=F(k),h===Z?T[h].p(k,j):(de(),_(T[Z],1,1,()=>{T[Z]=null}),pe(),b=T[h],b?b.p(k,j):(b=T[h]=P[h](k),b.c()),g(b,1),b.m(x.parentNode,x))},i(k){S||(g(c.$$.fragment,k),g(b),S=!0)},o(k){_(c.$$.fragment,k),_(b),S=!1},d(k){k&&m(e),k&&m(n),k&&m(t),k&&m(i),k&&m(o),k&&m(l),k&&m(a),C(c,k),k&&m(f),k&&m(u),k&&m(d),k&&m(p),T[h].d(k),k&&m(x),k&&m($),k&&m(R)}}}function mp(s,e,n){let{description:t}=e,{usages:r=[]}=e,{parameters:i=[]}=e;return s.$$set=o=>{"description"in o&&n(2,t=o.description),"usages"in o&&n(0,r=o.usages),"parameters"in o&&n(1,i=o.parameters)},[r,i,t]}class gp extends re{constructor(e){super(),ie(this,e,mp,hp,se,{description:2,usages:0,parameters:1})}}function Na(s,e,n){const t=s.slice();return t[2]=e[n],t}function La(s){let e,n;return e=new ur({props:{cols:[s[2],s[0][s[2]]]}}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p(t,r){const i={};r&1&&(i.cols=[t[2],t[0][t[2]]]),e.$set(i)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function _p(s){let e,n,t=s[1],r=[];for(let o=0;o<t.length;o+=1)r[o]=La(Na(s,t,o));const i=o=>_(r[o],1,1,()=>{r[o]=null});return{c(){for(let o=0;o<r.length;o+=1)r[o].c();e=J()},l(o){for(let l=0;l<r.length;l+=1)r[l].l(o);e=J()},m(o,l){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(o,l);y(o,e,l),n=!0},p(o,l){if(l&3){t=o[1];let a;for(a=0;a<t.length;a+=1){const c=Na(o,t,a);r[a]?(r[a].p(c,l),g(r[a],1)):(r[a]=La(c),r[a].c(),g(r[a],1),r[a].m(e.parentNode,e))}for(de(),a=t.length;a<r.length;a+=1)i(a);pe()}},i(o){if(!n){for(let l=0;l<t.length;l+=1)g(r[l]);n=!0}},o(o){r=r.filter(Boolean);for(let l=0;l<r.length;l+=1)_(r[l]);n=!1},d(o){It(r,o),o&&m(e)}}}function bp(s){let e,n,t,r,i,o,l,a,c,f,u,d,p,h,b,x,$,R,S,P,T,F;return S=new Si({props:{cols:["Variable","Value"],$$slots:{default:[_p]},$$scope:{ctx:s}}}),{c(){e=O("br"),n=W(),t=O("span"),r=le("Program shortcuts can be used instead of explicitly calling the run command with the absolute path of the program."),i=O("br"),o=W(),l=O("br"),a=W(),c=O("span"),f=le("List of defined program shortcuts:"),u=O("br"),d=W(),p=O("span"),h=le("----------------------------------"),b=O("br"),x=W(),$=O("br"),R=W(),v(S.$$.fragment),P=W(),T=O("br")},l(k){e=M(k,"BR",{}),n=D(k),t=M(k,"SPAN",{});var j=z(t);r=ce(j,"Program shortcuts can be used instead of explicitly calling the run command with the absolute path of the program."),j.forEach(m),i=M(k,"BR",{}),o=D(k),l=M(k,"BR",{}),a=D(k),c=M(k,"SPAN",{});var fe=z(c);f=ce(fe,"List of defined program shortcuts:"),fe.forEach(m),u=M(k,"BR",{}),d=D(k),p=M(k,"SPAN",{});var Z=z(p);h=ce(Z,"----------------------------------"),Z.forEach(m),b=M(k,"BR",{}),x=D(k),$=M(k,"BR",{}),R=D(k),E(S.$$.fragment,k),P=D(k),T=M(k,"BR",{})},m(k,j){y(k,e,j),y(k,n,j),y(k,t,j),N(t,r),y(k,i,j),y(k,o,j),y(k,l,j),y(k,a,j),y(k,c,j),N(c,f),y(k,u,j),y(k,d,j),y(k,p,j),N(p,h),y(k,b,j),y(k,x,j),y(k,$,j),y(k,R,j),w(S,k,j),y(k,P,j),y(k,T,j),F=!0},p(k,[j]){const fe={};j&33&&(fe.$$scope={dirty:j,ctx:k}),S.$set(fe)},i(k){F||(g(S.$$.fragment,k),F=!0)},o(k){_(S.$$.fragment,k),F=!1},d(k){k&&m(e),k&&m(n),k&&m(t),k&&m(i),k&&m(o),k&&m(l),k&&m(a),k&&m(c),k&&m(u),k&&m(d),k&&m(p),k&&m(b),k&&m(x),k&&m($),k&&m(R),C(S,k),k&&m(P),k&&m(T)}}}function $p(s,e,n){let{shortcuts:t}=e;const r=Object.keys(t);return console.dev(r),r.sort((i,o)=>i.localeCompare(o)),s.$$set=i=>{"shortcuts"in i&&n(0,t=i.shortcuts)},[t,r]}class xp extends re{constructor(e){super(),ie(this,e,$p,bp,se,{shortcuts:0})}}class yp extends cn{constructor(){super("help",!0,!0,"Show list of available commands.",[{usage:"help",description:"To show list of available commands."},{usage:"help [cmd]",description:"To show specific information for the [cmd] command."},{usage:"help -short",description:"To show list of available program shortcuts."}],[{parameter:"[cmd]",type:"All commands listed by help.",description:"The name of a command."}])}async exec(e){if(e.length==0){const n=Object.values(Ir);return n.sort((t,r)=>t.name.localeCompare(r.name)),ue.component(cp,{cmds:n})}else if(e.length==1){const n=e[0];if(n=="-short")return ue.component(xp,{shortcuts:vo});if(n in Ir){const t=Ir[n];return t.enabled?ue.component(gp,{description:t.description,usages:t.usages,parameters:t.parameters}):ue.html("<br><span>Command not found.</span><br><br>")}else return ue.html("<br><span>Command not found.</span><br><br>")}return ue.html("<br><span>Command not found.</span><br><br>")}}const kp=new yp;function vp(){const s=console.warn;console.warn=e=>{e.includes("unknown prop")||e.includes("unexpected slot")||s(e)},Et(()=>{console.warn=s})}function Ba(s,e,n){const t=s.slice();return t[18]=e[n],t}function za(s,e,n){const t=s.slice();return t[18]=e[n],t}function Ua(s,e,n){const t=s.slice();return t[10]=e[n],t}function Fa(s,e,n){const t=s.slice();return t[13]=e[n],t[15]=n,t}function Va(s,e,n){const t=s.slice();return t[16]=e[n],t[15]=n,t}function qa(s,e,n){const t=s.slice();return t[7]=e[n],t}function wp(s){let e,n,t,r;const i=[Rp,Ep,Sp],o=[];function l(a,c){return a[0]==="table"?0:a[0]==="list"?1:2}return e=l(s),n=o[e]=i[e](s),{c(){n.c(),t=J()},l(a){n.l(a),t=J()},m(a,c){o[e].m(a,c),y(a,t,c),r=!0},p(a,c){let f=e;e=l(a),e===f?o[e].p(a,c):(de(),_(o[f],1,1,()=>{o[f]=null}),pe(),n=o[e],n?n.p(a,c):(n=o[e]=i[e](a),n.c()),g(n,1),n.m(t.parentNode,t))},i(a){r||(g(n),r=!0)},o(a){_(n),r=!1},d(a){o[e].d(a),a&&m(t)}}}function Cp(s){let e,n,t=s[1],r=[];for(let o=0;o<t.length;o+=1)r[o]=Xa(qa(s,t,o));const i=o=>_(r[o],1,1,()=>{r[o]=null});return{c(){for(let o=0;o<r.length;o+=1)r[o].c();e=J()},l(o){for(let l=0;l<r.length;l+=1)r[l].l(o);e=J()},m(o,l){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(o,l);y(o,e,l),n=!0},p(o,l){if(l&34){t=o[1];let a;for(a=0;a<t.length;a+=1){const c=qa(o,t,a);r[a]?(r[a].p(c,l),g(r[a],1)):(r[a]=Xa(c),r[a].c(),g(r[a],1),r[a].m(e.parentNode,e))}for(de(),a=t.length;a<r.length;a+=1)i(a);pe()}},i(o){if(!n){for(let l=0;l<t.length;l+=1)g(r[l]);n=!0}},o(o){r=r.filter(Boolean);for(let l=0;l<r.length;l+=1)_(r[l]);n=!1},d(o){It(r,o),o&&m(e)}}}function Sp(s){let e,n,t;const r=[s[6]];var i=s[5][s[0]];function o(l){let a={$$slots:{default:[Ap]},$$scope:{ctx:l}};for(let c=0;c<r.length;c+=1)a=qt(a,r[c]);return{props:a}}return i&&(e=Le(i,o(s))),{c(){e&&v(e.$$.fragment),n=J()},l(l){e&&E(e.$$.fragment,l),n=J()},m(l,a){e&&w(e,l,a),y(l,n,a),t=!0},p(l,a){const c=a&64?on(r,[an(l[6])]):{};if(a&8388706&&(c.$$scope={dirty:a,ctx:l}),a&33&&i!==(i=l[5][l[0]])){if(e){de();const f=e;_(f.$$.fragment,1,0,()=>{C(f,1)}),pe()}i?(e=Le(i,o(l)),v(e.$$.fragment),g(e.$$.fragment,1),w(e,n.parentNode,n)):e=null}else i&&e.$set(c)},i(l){t||(e&&g(e.$$.fragment,l),t=!0)},o(l){e&&_(e.$$.fragment,l),t=!1},d(l){l&&m(n),e&&C(e,l)}}}function Ep(s){let e,n,t,r;const i=[Op,Ip],o=[];function l(a,c){return a[4]?0:1}return e=l(s),n=o[e]=i[e](s),{c(){n.c(),t=J()},l(a){n.l(a),t=J()},m(a,c){o[e].m(a,c),y(a,t,c),r=!0},p(a,c){let f=e;e=l(a),e===f?o[e].p(a,c):(de(),_(o[f],1,1,()=>{o[f]=null}),pe(),n=o[e],n?n.p(a,c):(n=o[e]=i[e](a),n.c()),g(n,1),n.m(t.parentNode,t))},i(a){r||(g(n),r=!0)},o(a){_(n),r=!1},d(a){o[e].d(a),a&&m(t)}}}function Rp(s){let e,n,t;var r=s[5].table;function i(o){return{props:{$$slots:{default:[Vp]},$$scope:{ctx:o}}}}return r&&(e=Le(r,i(s))),{c(){e&&v(e.$$.fragment),n=J()},l(o){e&&E(e.$$.fragment,o),n=J()},m(o,l){e&&w(e,o,l),y(o,n,l),t=!0},p(o,l){const a={};if(l&8388716&&(a.$$scope={dirty:l,ctx:o}),l&32&&r!==(r=o[5].table)){if(e){de();const c=e;_(c.$$.fragment,1,0,()=>{C(c,1)}),pe()}r?(e=Le(r,i(o)),v(e.$$.fragment),g(e.$$.fragment,1),w(e,n.parentNode,n)):e=null}else r&&e.$set(a)},i(o){t||(e&&g(e.$$.fragment,o),t=!0)},o(o){e&&_(e.$$.fragment,o),t=!1},d(o){o&&m(n),e&&C(e,o)}}}function Tp(s){let e=s[6].raw+"",n;return{c(){n=le(e)},l(t){n=ce(t,e)},m(t,r){y(t,n,r)},p(t,r){r&64&&e!==(e=t[6].raw+"")&&De(n,e)},i:V,o:V,d(t){t&&m(n)}}}function Pp(s){let e,n;return e=new dr({props:{tokens:s[1],renderers:s[5]}}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p(t,r){const i={};r&2&&(i.tokens=t[1]),r&32&&(i.renderers=t[5]),e.$set(i)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Ap(s){let e,n,t,r;const i=[Pp,Tp],o=[];function l(a,c){return a[1]?0:1}return e=l(s),n=o[e]=i[e](s),{c(){n.c(),t=J()},l(a){n.l(a),t=J()},m(a,c){o[e].m(a,c),y(a,t,c),r=!0},p(a,c){let f=e;e=l(a),e===f?o[e].p(a,c):(de(),_(o[f],1,1,()=>{o[f]=null}),pe(),n=o[e],n?n.p(a,c):(n=o[e]=i[e](a),n.c()),g(n,1),n.m(t.parentNode,t))},i(a){r||(g(n),r=!0)},o(a){_(n),r=!1},d(a){o[e].d(a),a&&m(t)}}}function Ip(s){let e,n,t;const r=[{ordered:s[4]},s[6]];var i=s[5].list;function o(l){let a={$$slots:{default:[Wp]},$$scope:{ctx:l}};for(let c=0;c<r.length;c+=1)a=qt(a,r[c]);return{props:a}}return i&&(e=Le(i,o(s))),{c(){e&&v(e.$$.fragment),n=J()},l(l){e&&E(e.$$.fragment,l),n=J()},m(l,a){e&&w(e,l,a),y(l,n,a),t=!0},p(l,a){const c=a&80?on(r,[a&16&&{ordered:l[4]},a&64&&an(l[6])]):{};if(a&8388704&&(c.$$scope={dirty:a,ctx:l}),a&32&&i!==(i=l[5].list)){if(e){de();const f=e;_(f.$$.fragment,1,0,()=>{C(f,1)}),pe()}i?(e=Le(i,o(l)),v(e.$$.fragment),g(e.$$.fragment,1),w(e,n.parentNode,n)):e=null}else i&&e.$set(c)},i(l){t||(e&&g(e.$$.fragment,l),t=!0)},o(l){e&&_(e.$$.fragment,l),t=!1},d(l){l&&m(n),e&&C(e,l)}}}function Op(s){let e,n,t;const r=[{ordered:s[4]},s[6]];var i=s[5].list;function o(l){let a={$$slots:{default:[jp]},$$scope:{ctx:l}};for(let c=0;c<r.length;c+=1)a=qt(a,r[c]);return{props:a}}return i&&(e=Le(i,o(s))),{c(){e&&v(e.$$.fragment),n=J()},l(l){e&&E(e.$$.fragment,l),n=J()},m(l,a){e&&w(e,l,a),y(l,n,a),t=!0},p(l,a){const c=a&80?on(r,[a&16&&{ordered:l[4]},a&64&&an(l[6])]):{};if(a&8388704&&(c.$$scope={dirty:a,ctx:l}),a&32&&i!==(i=l[5].list)){if(e){de();const f=e;_(f.$$.fragment,1,0,()=>{C(f,1)}),pe()}i?(e=Le(i,o(l)),v(e.$$.fragment),g(e.$$.fragment,1),w(e,n.parentNode,n)):e=null}else i&&e.$set(c)},i(l){t||(e&&g(e.$$.fragment,l),t=!0)},o(l){e&&_(e.$$.fragment,l),t=!1},d(l){l&&m(n),e&&C(e,l)}}}function Mp(s){let e,n,t;return e=new dr({props:{tokens:s[18].tokens,renderers:s[5]}}),{c(){v(e.$$.fragment),n=W()},l(r){E(e.$$.fragment,r),n=D(r)},m(r,i){w(e,r,i),y(r,n,i),t=!0},p(r,i){const o={};i&64&&(o.tokens=r[18].tokens),i&32&&(o.renderers=r[5]),e.$set(o)},i(r){t||(g(e.$$.fragment,r),t=!0)},o(r){_(e.$$.fragment,r),t=!1},d(r){C(e,r),r&&m(n)}}}function Ga(s){let e,n,t;const r=[s[18]];var i=s[5].unorderedlistitem||s[5].listitem;function o(l){let a={$$slots:{default:[Mp]},$$scope:{ctx:l}};for(let c=0;c<r.length;c+=1)a=qt(a,r[c]);return{props:a}}return i&&(e=Le(i,o(s))),{c(){e&&v(e.$$.fragment),n=J()},l(l){e&&E(e.$$.fragment,l),n=J()},m(l,a){e&&w(e,l,a),y(l,n,a),t=!0},p(l,a){const c=a&64?on(r,[an(l[18])]):{};if(a&8388704&&(c.$$scope={dirty:a,ctx:l}),a&32&&i!==(i=l[5].unorderedlistitem||l[5].listitem)){if(e){de();const f=e;_(f.$$.fragment,1,0,()=>{C(f,1)}),pe()}i?(e=Le(i,o(l)),v(e.$$.fragment),g(e.$$.fragment,1),w(e,n.parentNode,n)):e=null}else i&&e.$set(c)},i(l){t||(e&&g(e.$$.fragment,l),t=!0)},o(l){e&&_(e.$$.fragment,l),t=!1},d(l){l&&m(n),e&&C(e,l)}}}function Wp(s){let e,n,t=s[6].items,r=[];for(let o=0;o<t.length;o+=1)r[o]=Ga(Ba(s,t,o));const i=o=>_(r[o],1,1,()=>{r[o]=null});return{c(){for(let o=0;o<r.length;o+=1)r[o].c();e=J()},l(o){for(let l=0;l<r.length;l+=1)r[l].l(o);e=J()},m(o,l){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(o,l);y(o,e,l),n=!0},p(o,l){if(l&96){t=o[6].items;let a;for(a=0;a<t.length;a+=1){const c=Ba(o,t,a);r[a]?(r[a].p(c,l),g(r[a],1)):(r[a]=Ga(c),r[a].c(),g(r[a],1),r[a].m(e.parentNode,e))}for(de(),a=t.length;a<r.length;a+=1)i(a);pe()}},i(o){if(!n){for(let l=0;l<t.length;l+=1)g(r[l]);n=!0}},o(o){r=r.filter(Boolean);for(let l=0;l<r.length;l+=1)_(r[l]);n=!1},d(o){It(r,o),o&&m(e)}}}function Dp(s){let e,n,t;return e=new dr({props:{tokens:s[18].tokens,renderers:s[5]}}),{c(){v(e.$$.fragment),n=W()},l(r){E(e.$$.fragment,r),n=D(r)},m(r,i){w(e,r,i),y(r,n,i),t=!0},p(r,i){const o={};i&64&&(o.tokens=r[18].tokens),i&32&&(o.renderers=r[5]),e.$set(o)},i(r){t||(g(e.$$.fragment,r),t=!0)},o(r){_(e.$$.fragment,r),t=!1},d(r){C(e,r),r&&m(n)}}}function Ja(s){let e,n,t;const r=[s[18]];var i=s[5].orderedlistitem||s[5].listitem;function o(l){let a={$$slots:{default:[Dp]},$$scope:{ctx:l}};for(let c=0;c<r.length;c+=1)a=qt(a,r[c]);return{props:a}}return i&&(e=Le(i,o(s))),{c(){e&&v(e.$$.fragment),n=J()},l(l){e&&E(e.$$.fragment,l),n=J()},m(l,a){e&&w(e,l,a),y(l,n,a),t=!0},p(l,a){const c=a&64?on(r,[an(l[18])]):{};if(a&8388704&&(c.$$scope={dirty:a,ctx:l}),a&32&&i!==(i=l[5].orderedlistitem||l[5].listitem)){if(e){de();const f=e;_(f.$$.fragment,1,0,()=>{C(f,1)}),pe()}i?(e=Le(i,o(l)),v(e.$$.fragment),g(e.$$.fragment,1),w(e,n.parentNode,n)):e=null}else i&&e.$set(c)},i(l){t||(e&&g(e.$$.fragment,l),t=!0)},o(l){e&&_(e.$$.fragment,l),t=!1},d(l){l&&m(n),e&&C(e,l)}}}function jp(s){let e,n,t=s[6].items,r=[];for(let o=0;o<t.length;o+=1)r[o]=Ja(za(s,t,o));const i=o=>_(r[o],1,1,()=>{r[o]=null});return{c(){for(let o=0;o<r.length;o+=1)r[o].c();e=J()},l(o){for(let l=0;l<r.length;l+=1)r[l].l(o);e=J()},m(o,l){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(o,l);y(o,e,l),n=!0},p(o,l){if(l&96){t=o[6].items;let a;for(a=0;a<t.length;a+=1){const c=za(o,t,a);r[a]?(r[a].p(c,l),g(r[a],1)):(r[a]=Ja(c),r[a].c(),g(r[a],1),r[a].m(e.parentNode,e))}for(de(),a=t.length;a<r.length;a+=1)i(a);pe()}},i(o){if(!n){for(let l=0;l<t.length;l+=1)g(r[l]);n=!0}},o(o){r=r.filter(Boolean);for(let l=0;l<r.length;l+=1)_(r[l]);n=!1},d(o){It(r,o),o&&m(e)}}}function Np(s){let e,n,t;return e=new dr({props:{tokens:s[16].tokens,renderers:s[5]}}),{c(){v(e.$$.fragment),n=W()},l(r){E(e.$$.fragment,r),n=D(r)},m(r,i){w(e,r,i),y(r,n,i),t=!0},p(r,i){const o={};i&4&&(o.tokens=r[16].tokens),i&32&&(o.renderers=r[5]),e.$set(o)},i(r){t||(g(e.$$.fragment,r),t=!0)},o(r){_(e.$$.fragment,r),t=!1},d(r){C(e,r),r&&m(n)}}}function Qa(s){let e,n,t;var r=s[5].tablecell;function i(o){return{props:{header:!0,align:o[6].align[o[15]]||"center",$$slots:{default:[Np]},$$scope:{ctx:o}}}}return r&&(e=Le(r,i(s))),{c(){e&&v(e.$$.fragment),n=J()},l(o){e&&E(e.$$.fragment,o),n=J()},m(o,l){e&&w(e,o,l),y(o,n,l),t=!0},p(o,l){const a={};if(l&64&&(a.align=o[6].align[o[15]]||"center"),l&8388644&&(a.$$scope={dirty:l,ctx:o}),l&32&&r!==(r=o[5].tablecell)){if(e){de();const c=e;_(c.$$.fragment,1,0,()=>{C(c,1)}),pe()}r?(e=Le(r,i(o)),v(e.$$.fragment),g(e.$$.fragment,1),w(e,n.parentNode,n)):e=null}else r&&e.$set(a)},i(o){t||(e&&g(e.$$.fragment,o),t=!0)},o(o){e&&_(e.$$.fragment,o),t=!1},d(o){o&&m(n),e&&C(e,o)}}}function Lp(s){let e,n,t=s[2],r=[];for(let o=0;o<t.length;o+=1)r[o]=Qa(Va(s,t,o));const i=o=>_(r[o],1,1,()=>{r[o]=null});return{c(){for(let o=0;o<r.length;o+=1)r[o].c();e=J()},l(o){for(let l=0;l<r.length;l+=1)r[l].l(o);e=J()},m(o,l){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(o,l);y(o,e,l),n=!0},p(o,l){if(l&100){t=o[2];let a;for(a=0;a<t.length;a+=1){const c=Va(o,t,a);r[a]?(r[a].p(c,l),g(r[a],1)):(r[a]=Qa(c),r[a].c(),g(r[a],1),r[a].m(e.parentNode,e))}for(de(),a=t.length;a<r.length;a+=1)i(a);pe()}},i(o){if(!n){for(let l=0;l<t.length;l+=1)g(r[l]);n=!0}},o(o){r=r.filter(Boolean);for(let l=0;l<r.length;l+=1)_(r[l]);n=!1},d(o){It(r,o),o&&m(e)}}}function Bp(s){let e,n,t;var r=s[5].tablerow;function i(o){return{props:{$$slots:{default:[Lp]},$$scope:{ctx:o}}}}return r&&(e=Le(r,i(s))),{c(){e&&v(e.$$.fragment),n=J()},l(o){e&&E(e.$$.fragment,o),n=J()},m(o,l){e&&w(e,o,l),y(o,n,l),t=!0},p(o,l){const a={};if(l&8388708&&(a.$$scope={dirty:l,ctx:o}),l&32&&r!==(r=o[5].tablerow)){if(e){de();const c=e;_(c.$$.fragment,1,0,()=>{C(c,1)}),pe()}r?(e=Le(r,i(o)),v(e.$$.fragment),g(e.$$.fragment,1),w(e,n.parentNode,n)):e=null}else r&&e.$set(a)},i(o){t||(e&&g(e.$$.fragment,o),t=!0)},o(o){e&&_(e.$$.fragment,o),t=!1},d(o){o&&m(n),e&&C(e,o)}}}function zp(s){let e,n;return e=new dr({props:{tokens:s[13].tokens,renderers:s[5]}}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p(t,r){const i={};r&8&&(i.tokens=t[13].tokens),r&32&&(i.renderers=t[5]),e.$set(i)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Ka(s){let e,n,t;var r=s[5].tablecell;function i(o){return{props:{header:!1,align:o[6].align[o[15]]||"center",$$slots:{default:[zp]},$$scope:{ctx:o}}}}return r&&(e=Le(r,i(s))),{c(){e&&v(e.$$.fragment),n=J()},l(o){e&&E(e.$$.fragment,o),n=J()},m(o,l){e&&w(e,o,l),y(o,n,l),t=!0},p(o,l){const a={};if(l&64&&(a.align=o[6].align[o[15]]||"center"),l&8388648&&(a.$$scope={dirty:l,ctx:o}),l&32&&r!==(r=o[5].tablecell)){if(e){de();const c=e;_(c.$$.fragment,1,0,()=>{C(c,1)}),pe()}r?(e=Le(r,i(o)),v(e.$$.fragment),g(e.$$.fragment,1),w(e,n.parentNode,n)):e=null}else r&&e.$set(a)},i(o){t||(e&&g(e.$$.fragment,o),t=!0)},o(o){e&&_(e.$$.fragment,o),t=!1},d(o){o&&m(n),e&&C(e,o)}}}function Up(s){let e,n,t=s[10],r=[];for(let o=0;o<t.length;o+=1)r[o]=Ka(Fa(s,t,o));const i=o=>_(r[o],1,1,()=>{r[o]=null});return{c(){for(let o=0;o<r.length;o+=1)r[o].c();e=W()},l(o){for(let l=0;l<r.length;l+=1)r[l].l(o);e=D(o)},m(o,l){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(o,l);y(o,e,l),n=!0},p(o,l){if(l&104){t=o[10];let a;for(a=0;a<t.length;a+=1){const c=Fa(o,t,a);r[a]?(r[a].p(c,l),g(r[a],1)):(r[a]=Ka(c),r[a].c(),g(r[a],1),r[a].m(e.parentNode,e))}for(de(),a=t.length;a<r.length;a+=1)i(a);pe()}},i(o){if(!n){for(let l=0;l<t.length;l+=1)g(r[l]);n=!0}},o(o){r=r.filter(Boolean);for(let l=0;l<r.length;l+=1)_(r[l]);n=!1},d(o){It(r,o),o&&m(e)}}}function Ha(s){let e,n,t;var r=s[5].tablerow;function i(o){return{props:{$$slots:{default:[Up]},$$scope:{ctx:o}}}}return r&&(e=Le(r,i(s))),{c(){e&&v(e.$$.fragment),n=J()},l(o){e&&E(e.$$.fragment,o),n=J()},m(o,l){e&&w(e,o,l),y(o,n,l),t=!0},p(o,l){const a={};if(l&8388712&&(a.$$scope={dirty:l,ctx:o}),l&32&&r!==(r=o[5].tablerow)){if(e){de();const c=e;_(c.$$.fragment,1,0,()=>{C(c,1)}),pe()}r?(e=Le(r,i(o)),v(e.$$.fragment),g(e.$$.fragment,1),w(e,n.parentNode,n)):e=null}else r&&e.$set(a)},i(o){t||(e&&g(e.$$.fragment,o),t=!0)},o(o){e&&_(e.$$.fragment,o),t=!1},d(o){o&&m(n),e&&C(e,o)}}}function Fp(s){let e,n,t=s[3],r=[];for(let o=0;o<t.length;o+=1)r[o]=Ha(Ua(s,t,o));const i=o=>_(r[o],1,1,()=>{r[o]=null});return{c(){for(let o=0;o<r.length;o+=1)r[o].c();e=J()},l(o){for(let l=0;l<r.length;l+=1)r[l].l(o);e=J()},m(o,l){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(o,l);y(o,e,l),n=!0},p(o,l){if(l&104){t=o[3];let a;for(a=0;a<t.length;a+=1){const c=Ua(o,t,a);r[a]?(r[a].p(c,l),g(r[a],1)):(r[a]=Ha(c),r[a].c(),g(r[a],1),r[a].m(e.parentNode,e))}for(de(),a=t.length;a<r.length;a+=1)i(a);pe()}},i(o){if(!n){for(let l=0;l<t.length;l+=1)g(r[l]);n=!0}},o(o){r=r.filter(Boolean);for(let l=0;l<r.length;l+=1)_(r[l]);n=!1},d(o){It(r,o),o&&m(e)}}}function Vp(s){let e,n,t,r,i;var o=s[5].tablehead;function l(f){return{props:{$$slots:{default:[Bp]},$$scope:{ctx:f}}}}o&&(e=Le(o,l(s)));var a=s[5].tablebody;function c(f){return{props:{$$slots:{default:[Fp]},$$scope:{ctx:f}}}}return a&&(t=Le(a,c(s))),{c(){e&&v(e.$$.fragment),n=W(),t&&v(t.$$.fragment),r=J()},l(f){e&&E(e.$$.fragment,f),n=D(f),t&&E(t.$$.fragment,f),r=J()},m(f,u){e&&w(e,f,u),y(f,n,u),t&&w(t,f,u),y(f,r,u),i=!0},p(f,u){const d={};if(u&8388708&&(d.$$scope={dirty:u,ctx:f}),u&32&&o!==(o=f[5].tablehead)){if(e){de();const h=e;_(h.$$.fragment,1,0,()=>{C(h,1)}),pe()}o?(e=Le(o,l(f)),v(e.$$.fragment),g(e.$$.fragment,1),w(e,n.parentNode,n)):e=null}else o&&e.$set(d);const p={};if(u&8388712&&(p.$$scope={dirty:u,ctx:f}),u&32&&a!==(a=f[5].tablebody)){if(t){de();const h=t;_(h.$$.fragment,1,0,()=>{C(h,1)}),pe()}a?(t=Le(a,c(f)),v(t.$$.fragment),g(t.$$.fragment,1),w(t,r.parentNode,r)):t=null}else a&&t.$set(p)},i(f){i||(e&&g(e.$$.fragment,f),t&&g(t.$$.fragment,f),i=!0)},o(f){e&&_(e.$$.fragment,f),t&&_(t.$$.fragment,f),i=!1},d(f){e&&C(e,f),f&&m(n),f&&m(r),t&&C(t,f)}}}function Xa(s){let e,n;const t=[s[7],{renderers:s[5]}];let r={};for(let i=0;i<t.length;i+=1)r=qt(r,t[i]);return e=new dr({props:r}),{c(){v(e.$$.fragment)},l(i){E(e.$$.fragment,i)},m(i,o){w(e,i,o),n=!0},p(i,o){const l=o&34?on(t,[o&2&&an(i[7]),o&32&&{renderers:i[5]}]):{};e.$set(l)},i(i){n||(g(e.$$.fragment,i),n=!0)},o(i){_(e.$$.fragment,i),n=!1},d(i){C(e,i)}}}function qp(s){let e,n,t,r;const i=[Cp,wp],o=[];function l(a,c){return a[0]?a[5][a[0]]?1:-1:0}return~(e=l(s))&&(n=o[e]=i[e](s)),{c(){n&&n.c(),t=J()},l(a){n&&n.l(a),t=J()},m(a,c){~e&&o[e].m(a,c),y(a,t,c),r=!0},p(a,[c]){let f=e;e=l(a),e===f?~e&&o[e].p(a,c):(n&&(de(),_(o[f],1,1,()=>{o[f]=null}),pe()),~e?(n=o[e],n?n.p(a,c):(n=o[e]=i[e](a),n.c()),g(n,1),n.m(t.parentNode,t)):n=null)},i(a){r||(g(n),r=!0)},o(a){_(n),r=!1},d(a){~e&&o[e].d(a),a&&m(t)}}}function Gp(s,e,n){const t=["type","tokens","header","rows","ordered","renderers"];let r=la(e,t),{type:i=void 0}=e,{tokens:o=void 0}=e,{header:l=void 0}=e,{rows:a=void 0}=e,{ordered:c=!1}=e,{renderers:f}=e;return vp(),s.$$set=u=>{e=qt(qt({},e),iu(u)),n(6,r=la(e,t)),"type"in u&&n(0,i=u.type),"tokens"in u&&n(1,o=u.tokens),"header"in u&&n(2,l=u.header),"rows"in u&&n(3,a=u.rows),"ordered"in u&&n(4,c=u.ordered),"renderers"in u&&n(5,f=u.renderers)},[i,o,l,a,c,f,r]}let dr=class extends re{constructor(e){super(),ie(this,e,Gp,qp,se,{type:0,tokens:1,header:2,rows:3,ordered:4,renderers:5})}};function Bo(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let Zn=Bo();function Tc(s){Zn=s}const Pc=/[&<>"']/,Jp=new RegExp(Pc.source,"g"),Ac=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,Qp=new RegExp(Ac.source,"g"),Kp={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ya=s=>Kp[s];function Bt(s,e){if(e){if(Pc.test(s))return s.replace(Jp,Ya)}else if(Ac.test(s))return s.replace(Qp,Ya);return s}const Hp=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function Ic(s){return s.replace(Hp,(e,n)=>(n=n.toLowerCase(),n==="colon"?":":n.charAt(0)==="#"?n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):""))}const Xp=/(^|[^\[])\^/g;function Xe(s,e){s=typeof s=="string"?s:s.source,e=e||"";const n={replace:(t,r)=>(r=r.source||r,r=r.replace(Xp,"$1"),s=s.replace(t,r),n),getRegex:()=>new RegExp(s,e)};return n}const Yp=/[^\w:]/g,Zp=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Za(s,e,n){if(s){let t;try{t=decodeURIComponent(Ic(n)).replace(Yp,"").toLowerCase()}catch{return null}if(t.indexOf("javascript:")===0||t.indexOf("vbscript:")===0||t.indexOf("data:")===0)return null}e&&!Zp.test(n)&&(n=rh(e,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch{return null}return n}const Wi={},eh=/^[^:]+:\/*[^/]*$/,th=/^([^:]+:)[\s\S]*$/,nh=/^([^:]+:\/*[^/]*)[\s\S]*$/;function rh(s,e){Wi[" "+s]||(eh.test(s)?Wi[" "+s]=s+"/":Wi[" "+s]=Ji(s,"/",!0)),s=Wi[" "+s];const n=s.indexOf(":")===-1;return e.substring(0,2)==="//"?n?e:s.replace(th,"$1")+e:e.charAt(0)==="/"?n?e:s.replace(nh,"$1")+e:s+e}const os={exec:function(){}};function el(s,e){const n=s.replace(/\|/g,(i,o,l)=>{let a=!1,c=o;for(;--c>=0&&l[c]==="\\";)a=!a;return a?"|":" |"}),t=n.split(/ \|/);let r=0;if(t[0].trim()||t.shift(),t.length>0&&!t[t.length-1].trim()&&t.pop(),t.length>e)t.splice(e);else for(;t.length<e;)t.push("");for(;r<t.length;r++)t[r]=t[r].trim().replace(/\\\|/g,"|");return t}function Ji(s,e,n){const t=s.length;if(t===0)return"";let r=0;for(;r<t;){const i=s.charAt(t-r-1);if(i===e&&!n)r++;else if(i!==e&&n)r++;else break}return s.slice(0,t-r)}function ih(s,e){if(s.indexOf(e[1])===-1)return-1;const n=s.length;let t=0,r=0;for(;r<n;r++)if(s[r]==="\\")r++;else if(s[r]===e[0])t++;else if(s[r]===e[1]&&(t--,t<0))return r;return-1}function sh(s,e){!s||s.silent||(e&&console.warn("marked(): callback is deprecated since version 5.0.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/using_pro#async"),(s.sanitize||s.sanitizer)&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options"),(s.highlight||s.langPrefix!=="language-")&&console.warn("marked(): highlight and langPrefix parameters are deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-highlight."),s.mangle&&console.warn("marked(): mangle parameter is enabled by default, but is deprecated since version 5.0.0, and will be removed in the future. To clear this warning, install https://www.npmjs.com/package/marked-mangle, or disable by setting `{mangle: false}`."),s.baseUrl&&console.warn("marked(): baseUrl parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-base-url."),s.smartypants&&console.warn("marked(): smartypants parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-smartypants."),s.xhtml&&console.warn("marked(): xhtml parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-xhtml."),(s.headerIds||s.headerPrefix)&&console.warn("marked(): headerIds and headerPrefix parameters enabled by default, but are deprecated since version 5.0.0, and will be removed in the future. To clear this warning, install  https://www.npmjs.com/package/marked-gfm-heading-id, or disable by setting `{headerIds: false}`."))}function tl(s,e,n,t){const r=e.href,i=e.title?Bt(e.title):null,o=s[1].replace(/\\([\[\]])/g,"$1");if(s[0].charAt(0)!=="!"){t.state.inLink=!0;const l={type:"link",raw:n,href:r,title:i,text:o,tokens:t.inlineTokens(o)};return t.state.inLink=!1,l}return{type:"image",raw:n,href:r,title:i,text:Bt(o)}}function oh(s,e){const n=s.match(/^(\s+)(?:```)/);if(n===null)return e;const t=n[1];return e.split(`
`).map(r=>{const i=r.match(/^\s+/);if(i===null)return r;const[o]=i;return o.length>=t.length?r.slice(t.length):r}).join(`
`)}class as{constructor(e){this.options=e||Zn}space(e){const n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(e){const n=this.rules.block.code.exec(e);if(n){const t=n[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?t:Ji(t,`
`)}}}fences(e){const n=this.rules.block.fences.exec(e);if(n){const t=n[0],r=oh(t,n[3]||"");return{type:"code",raw:t,lang:n[2]?n[2].trim().replace(this.rules.inline._escapes,"$1"):n[2],text:r}}}heading(e){const n=this.rules.block.heading.exec(e);if(n){let t=n[2].trim();if(/#$/.test(t)){const r=Ji(t,"#");(this.options.pedantic||!r||/ $/.test(r))&&(t=r.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:t,tokens:this.lexer.inline(t)}}}hr(e){const n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:n[0]}}blockquote(e){const n=this.rules.block.blockquote.exec(e);if(n){const t=n[0].replace(/^ *>[ \t]?/gm,""),r=this.lexer.state.top;this.lexer.state.top=!0;const i=this.lexer.blockTokens(t);return this.lexer.state.top=r,{type:"blockquote",raw:n[0],tokens:i,text:t}}}list(e){let n=this.rules.block.list.exec(e);if(n){let t,r,i,o,l,a,c,f,u,d,p,h,b=n[1].trim();const x=b.length>1,$={type:"list",raw:"",ordered:x,start:x?+b.slice(0,-1):"",loose:!1,items:[]};b=x?`\\d{1,9}\\${b.slice(-1)}`:`\\${b}`,this.options.pedantic&&(b=x?b:"[*+-]");const R=new RegExp(`^( {0,3}${b})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;e&&(h=!1,!(!(n=R.exec(e))||this.rules.block.hr.test(e)));){if(t=n[0],e=e.substring(t.length),f=n[2].split(`
`,1)[0].replace(/^\t+/,P=>" ".repeat(3*P.length)),u=e.split(`
`,1)[0],this.options.pedantic?(o=2,p=f.trimLeft()):(o=n[2].search(/[^ ]/),o=o>4?1:o,p=f.slice(o),o+=n[1].length),a=!1,!f&&/^ *$/.test(u)&&(t+=u+`
`,e=e.substring(u.length+1),h=!0),!h){const P=new RegExp(`^ {0,${Math.min(3,o-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),T=new RegExp(`^ {0,${Math.min(3,o-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),F=new RegExp(`^ {0,${Math.min(3,o-1)}}(?:\`\`\`|~~~)`),k=new RegExp(`^ {0,${Math.min(3,o-1)}}#`);for(;e&&(d=e.split(`
`,1)[0],u=d,this.options.pedantic&&(u=u.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(F.test(u)||k.test(u)||P.test(u)||T.test(e)));){if(u.search(/[^ ]/)>=o||!u.trim())p+=`
`+u.slice(o);else{if(a||f.search(/[^ ]/)>=4||F.test(f)||k.test(f)||T.test(f))break;p+=`
`+u}!a&&!u.trim()&&(a=!0),t+=d+`
`,e=e.substring(d.length+1),f=u.slice(o)}}$.loose||(c?$.loose=!0:/\n *\n *$/.test(t)&&(c=!0)),this.options.gfm&&(r=/^\[[ xX]\] /.exec(p),r&&(i=r[0]!=="[ ] ",p=p.replace(/^\[[ xX]\] +/,""))),$.items.push({type:"list_item",raw:t,task:!!r,checked:i,loose:!1,text:p}),$.raw+=t}$.items[$.items.length-1].raw=t.trimRight(),$.items[$.items.length-1].text=p.trimRight(),$.raw=$.raw.trimRight();const S=$.items.length;for(l=0;l<S;l++)if(this.lexer.state.top=!1,$.items[l].tokens=this.lexer.blockTokens($.items[l].text,[]),!$.loose){const P=$.items[l].tokens.filter(F=>F.type==="space"),T=P.length>0&&P.some(F=>/\n.*\n/.test(F.raw));$.loose=T}if($.loose)for(l=0;l<S;l++)$.items[l].loose=!0;return $}}html(e){const n=this.rules.block.html.exec(e);if(n){const t={type:"html",block:!0,raw:n[0],pre:!this.options.sanitizer&&(n[1]==="pre"||n[1]==="script"||n[1]==="style"),text:n[0]};if(this.options.sanitize){const r=this.options.sanitizer?this.options.sanitizer(n[0]):Bt(n[0]);t.type="paragraph",t.text=r,t.tokens=this.lexer.inline(r)}return t}}def(e){const n=this.rules.block.def.exec(e);if(n){const t=n[1].toLowerCase().replace(/\s+/g," "),r=n[2]?n[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",i=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline._escapes,"$1"):n[3];return{type:"def",tag:t,raw:n[0],href:r,title:i}}}table(e){const n=this.rules.block.table.exec(e);if(n){const t={type:"table",header:el(n[1]).map(r=>({text:r})),align:n[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:n[3]&&n[3].trim()?n[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(t.header.length===t.align.length){t.raw=n[0];let r=t.align.length,i,o,l,a;for(i=0;i<r;i++)/^ *-+: *$/.test(t.align[i])?t.align[i]="right":/^ *:-+: *$/.test(t.align[i])?t.align[i]="center":/^ *:-+ *$/.test(t.align[i])?t.align[i]="left":t.align[i]=null;for(r=t.rows.length,i=0;i<r;i++)t.rows[i]=el(t.rows[i],t.header.length).map(c=>({text:c}));for(r=t.header.length,o=0;o<r;o++)t.header[o].tokens=this.lexer.inline(t.header[o].text);for(r=t.rows.length,o=0;o<r;o++)for(a=t.rows[o],l=0;l<a.length;l++)a[l].tokens=this.lexer.inline(a[l].text);return t}}}lheading(e){const n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(e){const n=this.rules.block.paragraph.exec(e);if(n){const t=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:t,tokens:this.lexer.inline(t)}}}text(e){const n=this.rules.block.text.exec(e);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(e){const n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:Bt(n[1])}}tag(e){const n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&/^<a /i.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):Bt(n[0]):n[0]}}link(e){const n=this.rules.inline.link.exec(e);if(n){const t=n[2].trim();if(!this.options.pedantic&&/^</.test(t)){if(!/>$/.test(t))return;const o=Ji(t.slice(0,-1),"\\");if((t.length-o.length)%2===0)return}else{const o=ih(n[2],"()");if(o>-1){const a=(n[0].indexOf("!")===0?5:4)+n[1].length+o;n[2]=n[2].substring(0,o),n[0]=n[0].substring(0,a).trim(),n[3]=""}}let r=n[2],i="";if(this.options.pedantic){const o=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r);o&&(r=o[1],i=o[3])}else i=n[3]?n[3].slice(1,-1):"";return r=r.trim(),/^</.test(r)&&(this.options.pedantic&&!/>$/.test(t)?r=r.slice(1):r=r.slice(1,-1)),tl(n,{href:r&&r.replace(this.rules.inline._escapes,"$1"),title:i&&i.replace(this.rules.inline._escapes,"$1")},n[0],this.lexer)}}reflink(e,n){let t;if((t=this.rules.inline.reflink.exec(e))||(t=this.rules.inline.nolink.exec(e))){let r=(t[2]||t[1]).replace(/\s+/g," ");if(r=n[r.toLowerCase()],!r){const i=t[0].charAt(0);return{type:"text",raw:i,text:i}}return tl(t,r,t[0],this.lexer)}}emStrong(e,n,t=""){let r=this.rules.inline.emStrong.lDelim.exec(e);if(!r||r[3]&&t.match(/[\p{L}\p{N}]/u))return;if(!(r[1]||r[2]||"")||!t||this.rules.inline.punctuation.exec(t)){const o=r[0].length-1;let l,a,c=o,f=0;const u=r[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(u.lastIndex=0,n=n.slice(-1*e.length+o);(r=u.exec(n))!=null;){if(l=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!l)continue;if(a=l.length,r[3]||r[4]){c+=a;continue}else if((r[5]||r[6])&&o%3&&!((o+a)%3)){f+=a;continue}if(c-=a,c>0)continue;a=Math.min(a,a+c+f);const d=e.slice(0,o+r.index+a+1);if(Math.min(o,a)%2){const h=d.slice(1,-1);return{type:"em",raw:d,text:h,tokens:this.lexer.inlineTokens(h)}}const p=d.slice(2,-2);return{type:"strong",raw:d,text:p,tokens:this.lexer.inlineTokens(p)}}}}codespan(e){const n=this.rules.inline.code.exec(e);if(n){let t=n[2].replace(/\n/g," ");const r=/[^ ]/.test(t),i=/^ /.test(t)&&/ $/.test(t);return r&&i&&(t=t.substring(1,t.length-1)),t=Bt(t,!0),{type:"codespan",raw:n[0],text:t}}}br(e){const n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}del(e){const n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(e,n){const t=this.rules.inline.autolink.exec(e);if(t){let r,i;return t[2]==="@"?(r=Bt(this.options.mangle?n(t[1]):t[1]),i="mailto:"+r):(r=Bt(t[1]),i=r),{type:"link",raw:t[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}url(e,n){let t;if(t=this.rules.inline.url.exec(e)){let r,i;if(t[2]==="@")r=Bt(this.options.mangle?n(t[0]):t[0]),i="mailto:"+r;else{let o;do o=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])[0];while(o!==t[0]);r=Bt(t[0]),t[1]==="www."?i="http://"+t[0]:i=t[0]}return{type:"link",raw:t[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(e,n){const t=this.rules.inline.text.exec(e);if(t){let r;return this.lexer.state.inRawBlock?r=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):Bt(t[0]):t[0]:r=Bt(this.options.smartypants?n(t[0]):t[0]),{type:"text",raw:t[0],text:r}}}}const Se={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:os,lheading:/^((?:(?!^bull ).|\n(?!\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};Se._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;Se._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;Se.def=Xe(Se.def).replace("label",Se._label).replace("title",Se._title).getRegex();Se.bullet=/(?:[*+-]|\d{1,9}[.)])/;Se.listItemStart=Xe(/^( *)(bull) */).replace("bull",Se.bullet).getRegex();Se.list=Xe(Se.list).replace(/bull/g,Se.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Se.def.source+")").getRegex();Se._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";Se._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;Se.html=Xe(Se.html,"i").replace("comment",Se._comment).replace("tag",Se._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();Se.lheading=Xe(Se.lheading).replace(/bull/g,Se.bullet).getRegex();Se.paragraph=Xe(Se._paragraph).replace("hr",Se.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Se._tag).getRegex();Se.blockquote=Xe(Se.blockquote).replace("paragraph",Se.paragraph).getRegex();Se.normal={...Se};Se.gfm={...Se.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"};Se.gfm.table=Xe(Se.gfm.table).replace("hr",Se.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Se._tag).getRegex();Se.gfm.paragraph=Xe(Se._paragraph).replace("hr",Se.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Se.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Se._tag).getRegex();Se.pedantic={...Se.normal,html:Xe(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Se._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:os,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Xe(Se.normal._paragraph).replace("hr",Se.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Se.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const he={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:os,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:os,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/};he._punctuation="\\p{P}$+<=>`^|~";he.punctuation=Xe(he.punctuation,"u").replace(/punctuation/g,he._punctuation).getRegex();he.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g;he.anyPunctuation=/\\[punct]/g;he._escapes=/\\([punct])/g;he._comment=Xe(Se._comment).replace("(?:-->|$)","-->").getRegex();he.emStrong.lDelim=Xe(he.emStrong.lDelim,"u").replace(/punct/g,he._punctuation).getRegex();he.emStrong.rDelimAst=Xe(he.emStrong.rDelimAst,"gu").replace(/punct/g,he._punctuation).getRegex();he.emStrong.rDelimUnd=Xe(he.emStrong.rDelimUnd,"gu").replace(/punct/g,he._punctuation).getRegex();he.anyPunctuation=Xe(he.anyPunctuation,"gu").replace(/punct/g,he._punctuation).getRegex();he._escapes=Xe(he._escapes,"gu").replace(/punct/g,he._punctuation).getRegex();he._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;he._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;he.autolink=Xe(he.autolink).replace("scheme",he._scheme).replace("email",he._email).getRegex();he._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;he.tag=Xe(he.tag).replace("comment",he._comment).replace("attribute",he._attribute).getRegex();he._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;he._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;he._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;he.link=Xe(he.link).replace("label",he._label).replace("href",he._href).replace("title",he._title).getRegex();he.reflink=Xe(he.reflink).replace("label",he._label).replace("ref",Se._label).getRegex();he.nolink=Xe(he.nolink).replace("ref",Se._label).getRegex();he.reflinkSearch=Xe(he.reflinkSearch,"g").replace("reflink",he.reflink).replace("nolink",he.nolink).getRegex();he.normal={...he};he.pedantic={...he.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Xe(/^!?\[(label)\]\((.*?)\)/).replace("label",he._label).getRegex(),reflink:Xe(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",he._label).getRegex()};he.gfm={...he.normal,escape:Xe(he.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/};he.gfm.url=Xe(he.gfm.url,"i").replace("email",he.gfm._extended_email).getRegex();he.breaks={...he.gfm,br:Xe(he.br).replace("{2,}","*").getRegex(),text:Xe(he.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};function ah(s){return s.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function nl(s){let e="",n,t;const r=s.length;for(n=0;n<r;n++)t=s.charCodeAt(n),Math.random()>.5&&(t="x"+t.toString(16)),e+="&#"+t+";";return e}class vn{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Zn,this.options.tokenizer=this.options.tokenizer||new as,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={block:Se.normal,inline:he.normal};this.options.pedantic?(n.block=Se.pedantic,n.inline=he.pedantic):this.options.gfm&&(n.block=Se.gfm,this.options.breaks?n.inline=he.breaks:n.inline=he.gfm),this.tokenizer.rules=n}static get rules(){return{block:Se,inline:he}}static lex(e,n){return new vn(n).lex(e)}static lexInline(e,n){return new vn(n).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);let n;for(;n=this.inlineQueue.shift();)this.inlineTokens(n.src,n.tokens);return this.tokens}blockTokens(e,n=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(l,a,c)=>a+"    ".repeat(c.length));let t,r,i,o;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(l=>(t=l.call({lexer:this},e,n))?(e=e.substring(t.raw.length),n.push(t),!0):!1))){if(t=this.tokenizer.space(e)){e=e.substring(t.raw.length),t.raw.length===1&&n.length>0?n[n.length-1].raw+=`
`:n.push(t);continue}if(t=this.tokenizer.code(e)){e=e.substring(t.raw.length),r=n[n.length-1],r&&(r.type==="paragraph"||r.type==="text")?(r.raw+=`
`+t.raw,r.text+=`
`+t.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text):n.push(t);continue}if(t=this.tokenizer.fences(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.heading(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.hr(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.blockquote(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.list(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.html(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.def(e)){e=e.substring(t.raw.length),r=n[n.length-1],r&&(r.type==="paragraph"||r.type==="text")?(r.raw+=`
`+t.raw,r.text+=`
`+t.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text):this.tokens.links[t.tag]||(this.tokens.links[t.tag]={href:t.href,title:t.title});continue}if(t=this.tokenizer.table(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.lheading(e)){e=e.substring(t.raw.length),n.push(t);continue}if(i=e,this.options.extensions&&this.options.extensions.startBlock){let l=1/0;const a=e.slice(1);let c;this.options.extensions.startBlock.forEach(function(f){c=f.call({lexer:this},a),typeof c=="number"&&c>=0&&(l=Math.min(l,c))}),l<1/0&&l>=0&&(i=e.substring(0,l+1))}if(this.state.top&&(t=this.tokenizer.paragraph(i))){r=n[n.length-1],o&&r.type==="paragraph"?(r.raw+=`
`+t.raw,r.text+=`
`+t.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):n.push(t),o=i.length!==e.length,e=e.substring(t.raw.length);continue}if(t=this.tokenizer.text(e)){e=e.substring(t.raw.length),r=n[n.length-1],r&&r.type==="text"?(r.raw+=`
`+t.raw,r.text+=`
`+t.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):n.push(t);continue}if(e){const l="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(l);break}else throw new Error(l)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){let t,r,i,o=e,l,a,c;if(this.tokens.links){const f=Object.keys(this.tokens.links);if(f.length>0)for(;(l=this.tokenizer.rules.inline.reflinkSearch.exec(o))!=null;)f.includes(l[0].slice(l[0].lastIndexOf("[")+1,-1))&&(o=o.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(l=this.tokenizer.rules.inline.blockSkip.exec(o))!=null;)o=o.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(l=this.tokenizer.rules.inline.anyPunctuation.exec(o))!=null;)o=o.slice(0,l.index)+"++"+o.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(a||(c=""),a=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(f=>(t=f.call({lexer:this},e,n))?(e=e.substring(t.raw.length),n.push(t),!0):!1))){if(t=this.tokenizer.escape(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.tag(e)){e=e.substring(t.raw.length),r=n[n.length-1],r&&t.type==="text"&&r.type==="text"?(r.raw+=t.raw,r.text+=t.text):n.push(t);continue}if(t=this.tokenizer.link(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(t.raw.length),r=n[n.length-1],r&&t.type==="text"&&r.type==="text"?(r.raw+=t.raw,r.text+=t.text):n.push(t);continue}if(t=this.tokenizer.emStrong(e,o,c)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.codespan(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.br(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.del(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.autolink(e,nl)){e=e.substring(t.raw.length),n.push(t);continue}if(!this.state.inLink&&(t=this.tokenizer.url(e,nl))){e=e.substring(t.raw.length),n.push(t);continue}if(i=e,this.options.extensions&&this.options.extensions.startInline){let f=1/0;const u=e.slice(1);let d;this.options.extensions.startInline.forEach(function(p){d=p.call({lexer:this},u),typeof d=="number"&&d>=0&&(f=Math.min(f,d))}),f<1/0&&f>=0&&(i=e.substring(0,f+1))}if(t=this.tokenizer.inlineText(i,ah)){e=e.substring(t.raw.length),t.raw.slice(-1)!=="_"&&(c=t.raw.slice(-1)),a=!0,r=n[n.length-1],r&&r.type==="text"?(r.raw+=t.raw,r.text+=t.text):n.push(t);continue}if(e){const f="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(f);break}else throw new Error(f)}}return n}}class ls{constructor(e){this.options=e||Zn}code(e,n,t){const r=(n||"").match(/\S*/)[0];if(this.options.highlight){const i=this.options.highlight(e,r);i!=null&&i!==e&&(t=!0,e=i)}return e=e.replace(/\n$/,"")+`
`,r?'<pre><code class="'+this.options.langPrefix+Bt(r)+'">'+(t?e:Bt(e,!0))+`</code></pre>
`:"<pre><code>"+(t?e:Bt(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e,n){return e}heading(e,n,t,r){if(this.options.headerIds){const i=this.options.headerPrefix+r.slug(t);return`<h${n} id="${i}">${e}</h${n}>
`}return`<h${n}>${e}</h${n}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,n,t){const r=n?"ol":"ul",i=n&&t!==1?' start="'+t+'"':"";return"<"+r+i+`>
`+e+"</"+r+`>
`}listitem(e){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>
`}table(e,n){return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+n+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,n){const t=n.header?"th":"td";return(n.align?`<${t} align="${n.align}">`:`<${t}>`)+e+`</${t}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,n,t){if(e=Za(this.options.sanitize,this.options.baseUrl,e),e===null)return t;let r='<a href="'+e+'"';return n&&(r+=' title="'+n+'"'),r+=">"+t+"</a>",r}image(e,n,t){if(e=Za(this.options.sanitize,this.options.baseUrl,e),e===null)return t;let r=`<img src="${e}" alt="${t}"`;return n&&(r+=` title="${n}"`),r+=this.options.xhtml?"/>":">",r}text(e){return e}}class zo{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,n,t){return""+t}image(e,n,t){return""+t}br(){return""}}class Ts{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,n){let t=e,r=0;if(this.seen.hasOwnProperty(t)){r=this.seen[e];do r++,t=e+"-"+r;while(this.seen.hasOwnProperty(t))}return n||(this.seen[e]=r,this.seen[t]=0),t}slug(e,n={}){const t=this.serialize(e);return this.getNextSafeSlug(t,n.dryrun)}}class Wn{constructor(e){this.options=e||Zn,this.options.renderer=this.options.renderer||new ls,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new zo,this.slugger=new Ts}static parse(e,n){return new Wn(n).parse(e)}static parseInline(e,n){return new Wn(n).parseInline(e)}parse(e,n=!0){let t="",r,i,o,l,a,c,f,u,d,p,h,b,x,$,R,S,P,T,F;const k=e.length;for(r=0;r<k;r++){if(p=e[r],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[p.type]&&(F=this.options.extensions.renderers[p.type].call({parser:this},p),F!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(p.type))){t+=F||"";continue}switch(p.type){case"space":continue;case"hr":{t+=this.renderer.hr();continue}case"heading":{t+=this.renderer.heading(this.parseInline(p.tokens),p.depth,Ic(this.parseInline(p.tokens,this.textRenderer)),this.slugger);continue}case"code":{t+=this.renderer.code(p.text,p.lang,p.escaped);continue}case"table":{for(u="",f="",l=p.header.length,i=0;i<l;i++)f+=this.renderer.tablecell(this.parseInline(p.header[i].tokens),{header:!0,align:p.align[i]});for(u+=this.renderer.tablerow(f),d="",l=p.rows.length,i=0;i<l;i++){for(c=p.rows[i],f="",a=c.length,o=0;o<a;o++)f+=this.renderer.tablecell(this.parseInline(c[o].tokens),{header:!1,align:p.align[o]});d+=this.renderer.tablerow(f)}t+=this.renderer.table(u,d);continue}case"blockquote":{d=this.parse(p.tokens),t+=this.renderer.blockquote(d);continue}case"list":{for(h=p.ordered,b=p.start,x=p.loose,l=p.items.length,d="",i=0;i<l;i++)R=p.items[i],S=R.checked,P=R.task,$="",R.task&&(T=this.renderer.checkbox(S),x?R.tokens.length>0&&R.tokens[0].type==="paragraph"?(R.tokens[0].text=T+" "+R.tokens[0].text,R.tokens[0].tokens&&R.tokens[0].tokens.length>0&&R.tokens[0].tokens[0].type==="text"&&(R.tokens[0].tokens[0].text=T+" "+R.tokens[0].tokens[0].text)):R.tokens.unshift({type:"text",text:T}):$+=T),$+=this.parse(R.tokens,x),d+=this.renderer.listitem($,P,S);t+=this.renderer.list(d,h,b);continue}case"html":{t+=this.renderer.html(p.text,p.block);continue}case"paragraph":{t+=this.renderer.paragraph(this.parseInline(p.tokens));continue}case"text":{for(d=p.tokens?this.parseInline(p.tokens):p.text;r+1<k&&e[r+1].type==="text";)p=e[++r],d+=`
`+(p.tokens?this.parseInline(p.tokens):p.text);t+=n?this.renderer.paragraph(d):d;continue}default:{const j='Token with "'+p.type+'" type was not found.';if(this.options.silent){console.error(j);return}else throw new Error(j)}}}return t}parseInline(e,n){n=n||this.renderer;let t="",r,i,o;const l=e.length;for(r=0;r<l;r++){if(i=e[r],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]&&(o=this.options.extensions.renderers[i.type].call({parser:this},i),o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type))){t+=o||"";continue}switch(i.type){case"escape":{t+=n.text(i.text);break}case"html":{t+=n.html(i.text);break}case"link":{t+=n.link(i.href,i.title,this.parseInline(i.tokens,n));break}case"image":{t+=n.image(i.href,i.title,i.text);break}case"strong":{t+=n.strong(this.parseInline(i.tokens,n));break}case"em":{t+=n.em(this.parseInline(i.tokens,n));break}case"codespan":{t+=n.codespan(i.text);break}case"br":{t+=n.br();break}case"del":{t+=n.del(this.parseInline(i.tokens,n));break}case"text":{t+=n.text(i.text);break}default:{const a='Token with "'+i.type+'" type was not found.';if(this.options.silent){console.error(a);return}else throw new Error(a)}}}return t}}class si{constructor(e){this.options=e||Zn}preprocess(e){return e}postprocess(e){return e}}qe(si,"passThroughHooks",new Set(["preprocess","postprocess"]));var vi,no,$s,Oc;class lh{constructor(...e){yt(this,vi);yt(this,$s);qe(this,"defaults",Bo());qe(this,"options",this.setOptions);qe(this,"parse",bt(this,vi,no).call(this,vn.lex,Wn.parse));qe(this,"parseInline",bt(this,vi,no).call(this,vn.lexInline,Wn.parseInline));qe(this,"Parser",Wn);qe(this,"parser",Wn.parse);qe(this,"Renderer",ls);qe(this,"TextRenderer",zo);qe(this,"Lexer",vn);qe(this,"lexer",vn.lex);qe(this,"Tokenizer",as);qe(this,"Slugger",Ts);qe(this,"Hooks",si);this.use(...e)}walkTokens(e,n){let t=[];for(const r of e)switch(t=t.concat(n.call(this,r)),r.type){case"table":{for(const i of r.header)t=t.concat(this.walkTokens(i.tokens,n));for(const i of r.rows)for(const o of i)t=t.concat(this.walkTokens(o.tokens,n));break}case"list":{t=t.concat(this.walkTokens(r.items,n));break}default:this.defaults.extensions&&this.defaults.extensions.childTokens&&this.defaults.extensions.childTokens[r.type]?this.defaults.extensions.childTokens[r.type].forEach(i=>{t=t.concat(this.walkTokens(r[i],n))}):r.tokens&&(t=t.concat(this.walkTokens(r.tokens,n)))}return t}use(...e){const n=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(t=>{const r={...t};if(r.async=this.defaults.async||r.async||!1,t.extensions&&(t.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if(i.renderer){const o=n.renderers[i.name];o?n.renderers[i.name]=function(...l){let a=i.renderer.apply(this,l);return a===!1&&(a=o.apply(this,l)),a}:n.renderers[i.name]=i.renderer}if(i.tokenizer){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");n[i.level]?n[i.level].unshift(i.tokenizer):n[i.level]=[i.tokenizer],i.start&&(i.level==="block"?n.startBlock?n.startBlock.push(i.start):n.startBlock=[i.start]:i.level==="inline"&&(n.startInline?n.startInline.push(i.start):n.startInline=[i.start]))}i.childTokens&&(n.childTokens[i.name]=i.childTokens)}),r.extensions=n),t.renderer){const i=this.defaults.renderer||new ls(this.defaults);for(const o in t.renderer){const l=i[o];i[o]=(...a)=>{let c=t.renderer[o].apply(i,a);return c===!1&&(c=l.apply(i,a)),c}}r.renderer=i}if(t.tokenizer){const i=this.defaults.tokenizer||new as(this.defaults);for(const o in t.tokenizer){const l=i[o];i[o]=(...a)=>{let c=t.tokenizer[o].apply(i,a);return c===!1&&(c=l.apply(i,a)),c}}r.tokenizer=i}if(t.hooks){const i=this.defaults.hooks||new si;for(const o in t.hooks){const l=i[o];si.passThroughHooks.has(o)?i[o]=a=>{if(this.defaults.async)return Promise.resolve(t.hooks[o].call(i,a)).then(f=>l.call(i,f));const c=t.hooks[o].call(i,a);return l.call(i,c)}:i[o]=(...a)=>{let c=t.hooks[o].apply(i,a);return c===!1&&(c=l.apply(i,a)),c}}r.hooks=i}if(t.walkTokens){const i=this.defaults.walkTokens;r.walkTokens=function(o){let l=[];return l.push(t.walkTokens.call(this,o)),i&&(l=l.concat(i.call(this,o))),l}}this.defaults={...this.defaults,...r}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}}vi=new WeakSet,no=function(e,n){return(t,r,i)=>{typeof r=="function"&&(i=r,r=null);const o={...r};r={...this.defaults,...o};const l=bt(this,$s,Oc).call(this,r.silent,r.async,i);if(typeof t>"u"||t===null)return l(new Error("marked(): input parameter is undefined or null"));if(typeof t!="string")return l(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));if(sh(r,i),r.hooks&&(r.hooks.options=r),i){const a=r.highlight;let c;try{r.hooks&&(t=r.hooks.preprocess(t)),c=e(t,r)}catch(d){return l(d)}const f=d=>{let p;if(!d)try{r.walkTokens&&this.walkTokens(c,r.walkTokens),p=n(c,r),r.hooks&&(p=r.hooks.postprocess(p))}catch(h){d=h}return r.highlight=a,d?l(d):i(null,p)};if(!a||a.length<3||(delete r.highlight,!c.length))return f();let u=0;this.walkTokens(c,d=>{d.type==="code"&&(u++,setTimeout(()=>{a(d.text,d.lang,(p,h)=>{if(p)return f(p);h!=null&&h!==d.text&&(d.text=h,d.escaped=!0),u--,u===0&&f()})},0))}),u===0&&f();return}if(r.async)return Promise.resolve(r.hooks?r.hooks.preprocess(t):t).then(a=>e(a,r)).then(a=>r.walkTokens?Promise.all(this.walkTokens(a,r.walkTokens)).then(()=>a):a).then(a=>n(a,r)).then(a=>r.hooks?r.hooks.postprocess(a):a).catch(l);try{r.hooks&&(t=r.hooks.preprocess(t));const a=e(t,r);r.walkTokens&&this.walkTokens(a,r.walkTokens);let c=n(a,r);return r.hooks&&(c=r.hooks.postprocess(c)),c}catch(a){return l(a)}}},$s=new WeakSet,Oc=function(e,n,t){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const i="<p>An error occurred:</p><pre>"+Bt(r.message+"",!0)+"</pre>";if(n)return Promise.resolve(i);if(t){t(null,i);return}return i}if(n)return Promise.reject(r);if(t){t(r);return}throw r}};const lr=new lh(Zn);function Ze(s,e,n){return lr.parse(s,e,n)}Ze.options=Ze.setOptions=function(s){return lr.setOptions(s),Ze.defaults=lr.defaults,Tc(Ze.defaults),Ze};Ze.getDefaults=Bo;Ze.defaults=Zn;Ze.use=function(...s){return lr.use(...s),Ze.defaults=lr.defaults,Tc(Ze.defaults),Ze};Ze.walkTokens=function(s,e){return lr.walkTokens(s,e)};Ze.parseInline=lr.parseInline;Ze.Parser=Wn;Ze.parser=Wn.parse;Ze.Renderer=ls;Ze.TextRenderer=zo;Ze.Lexer=vn;Ze.lexer=vn.lex;Ze.Tokenizer=as;Ze.Slugger=Ts;Ze.Hooks=si;Ze.parse=Ze;Ze.options;Ze.setOptions;Ze.use;Ze.walkTokens;Ze.parseInline;Wn.parse;vn.lex;const Mc={};function ch(s){let e;return{c(){e=le(s[1])},l(n){e=ce(n,s[1])},m(n,t){y(n,e,t)},p(n,t){t&2&&De(e,n[1])},i:V,o:V,d(n){n&&m(e)}}}function fh(s){let e,n;const t=s[5].default,r=tt(t,s,s[4],null);return{c(){e=O("h6"),r&&r.c(),this.h()},l(i){e=M(i,"H6",{id:!0});var o=z(e);r&&r.l(o),o.forEach(m),this.h()},h(){B(e,"id",s[2])},m(i,o){y(i,e,o),r&&r.m(e,null),n=!0},p(i,o){r&&r.p&&(!n||o&16)&&nt(r,t,i,i[4],n?it(t,i[4],o,null):rt(i[4]),null),(!n||o&4)&&B(e,"id",i[2])},i(i){n||(g(r,i),n=!0)},o(i){_(r,i),n=!1},d(i){i&&m(e),r&&r.d(i)}}}function uh(s){let e,n;const t=s[5].default,r=tt(t,s,s[4],null);return{c(){e=O("h5"),r&&r.c(),this.h()},l(i){e=M(i,"H5",{id:!0});var o=z(e);r&&r.l(o),o.forEach(m),this.h()},h(){B(e,"id",s[2])},m(i,o){y(i,e,o),r&&r.m(e,null),n=!0},p(i,o){r&&r.p&&(!n||o&16)&&nt(r,t,i,i[4],n?it(t,i[4],o,null):rt(i[4]),null),(!n||o&4)&&B(e,"id",i[2])},i(i){n||(g(r,i),n=!0)},o(i){_(r,i),n=!1},d(i){i&&m(e),r&&r.d(i)}}}function dh(s){let e,n;const t=s[5].default,r=tt(t,s,s[4],null);return{c(){e=O("h4"),r&&r.c(),this.h()},l(i){e=M(i,"H4",{id:!0});var o=z(e);r&&r.l(o),o.forEach(m),this.h()},h(){B(e,"id",s[2])},m(i,o){y(i,e,o),r&&r.m(e,null),n=!0},p(i,o){r&&r.p&&(!n||o&16)&&nt(r,t,i,i[4],n?it(t,i[4],o,null):rt(i[4]),null),(!n||o&4)&&B(e,"id",i[2])},i(i){n||(g(r,i),n=!0)},o(i){_(r,i),n=!1},d(i){i&&m(e),r&&r.d(i)}}}function ph(s){let e,n;const t=s[5].default,r=tt(t,s,s[4],null);return{c(){e=O("h3"),r&&r.c(),this.h()},l(i){e=M(i,"H3",{id:!0});var o=z(e);r&&r.l(o),o.forEach(m),this.h()},h(){B(e,"id",s[2])},m(i,o){y(i,e,o),r&&r.m(e,null),n=!0},p(i,o){r&&r.p&&(!n||o&16)&&nt(r,t,i,i[4],n?it(t,i[4],o,null):rt(i[4]),null),(!n||o&4)&&B(e,"id",i[2])},i(i){n||(g(r,i),n=!0)},o(i){_(r,i),n=!1},d(i){i&&m(e),r&&r.d(i)}}}function hh(s){let e,n;const t=s[5].default,r=tt(t,s,s[4],null);return{c(){e=O("h2"),r&&r.c(),this.h()},l(i){e=M(i,"H2",{id:!0});var o=z(e);r&&r.l(o),o.forEach(m),this.h()},h(){B(e,"id",s[2])},m(i,o){y(i,e,o),r&&r.m(e,null),n=!0},p(i,o){r&&r.p&&(!n||o&16)&&nt(r,t,i,i[4],n?it(t,i[4],o,null):rt(i[4]),null),(!n||o&4)&&B(e,"id",i[2])},i(i){n||(g(r,i),n=!0)},o(i){_(r,i),n=!1},d(i){i&&m(e),r&&r.d(i)}}}function mh(s){let e,n;const t=s[5].default,r=tt(t,s,s[4],null);return{c(){e=O("h1"),r&&r.c(),this.h()},l(i){e=M(i,"H1",{id:!0});var o=z(e);r&&r.l(o),o.forEach(m),this.h()},h(){B(e,"id",s[2])},m(i,o){y(i,e,o),r&&r.m(e,null),n=!0},p(i,o){r&&r.p&&(!n||o&16)&&nt(r,t,i,i[4],n?it(t,i[4],o,null):rt(i[4]),null),(!n||o&4)&&B(e,"id",i[2])},i(i){n||(g(r,i),n=!0)},o(i){_(r,i),n=!1},d(i){i&&m(e),r&&r.d(i)}}}function gh(s){let e,n,t,r;const i=[mh,hh,ph,dh,uh,fh,ch],o=[];function l(a,c){return a[0]===1?0:a[0]===2?1:a[0]===3?2:a[0]===4?3:a[0]===5?4:a[0]===6?5:6}return e=l(s),n=o[e]=i[e](s),{c(){n.c(),t=J()},l(a){n.l(a),t=J()},m(a,c){o[e].m(a,c),y(a,t,c),r=!0},p(a,[c]){let f=e;e=l(a),e===f?o[e].p(a,c):(de(),_(o[f],1,1,()=>{o[f]=null}),pe(),n=o[e],n?n.p(a,c):(n=o[e]=i[e](a),n.c()),g(n,1),n.m(t.parentNode,t))},i(a){r||(g(n),r=!0)},o(a){_(n),r=!1},d(a){o[e].d(a),a&&m(t)}}}function _h(s,e,n){let t,{$$slots:r={},$$scope:i}=e,{depth:o}=e,{raw:l}=e,{text:a}=e;const{slug:c,getOptions:f}=su(Mc),u=f();return s.$$set=d=>{"depth"in d&&n(0,o=d.depth),"raw"in d&&n(1,l=d.raw),"text"in d&&n(3,a=d.text),"$$scope"in d&&n(4,i=d.$$scope)},s.$$.update=()=>{s.$$.dirty&8&&n(2,t=u.headerIds?u.headerPrefix+c(a):void 0)},[o,l,t,a,i,r]}class bh extends re{constructor(e){super(),ie(this,e,_h,gh,se,{depth:0,raw:1,text:3})}}function $h(s){let e,n;const t=s[1].default,r=tt(t,s,s[0],null);return{c(){e=O("p"),r&&r.c()},l(i){e=M(i,"P",{});var o=z(e);r&&r.l(o),o.forEach(m)},m(i,o){y(i,e,o),r&&r.m(e,null),n=!0},p(i,[o]){r&&r.p&&(!n||o&1)&&nt(r,t,i,i[0],n?it(t,i[0],o,null):rt(i[0]),null)},i(i){n||(g(r,i),n=!0)},o(i){_(r,i),n=!1},d(i){i&&m(e),r&&r.d(i)}}}function xh(s,e,n){let{$$slots:t={},$$scope:r}=e;return s.$$set=i=>{"$$scope"in i&&n(0,r=i.$$scope)},[r,t]}class yh extends re{constructor(e){super(),ie(this,e,xh,$h,se,{})}}function kh(s){let e;const n=s[3].default,t=tt(n,s,s[2],null);return{c(){t&&t.c()},l(r){t&&t.l(r)},m(r,i){t&&t.m(r,i),e=!0},p(r,[i]){t&&t.p&&(!e||i&4)&&nt(t,n,r,r[2],e?it(n,r[2],i,null):rt(r[2]),null)},i(r){e||(g(t,r),e=!0)},o(r){_(t,r),e=!1},d(r){t&&t.d(r)}}}function vh(s,e,n){let{$$slots:t={},$$scope:r}=e,{text:i}=e,{raw:o}=e;return s.$$set=l=>{"text"in l&&n(0,i=l.text),"raw"in l&&n(1,o=l.raw),"$$scope"in l&&n(2,r=l.$$scope)},[i,o,r,t]}class wh extends re{constructor(e){super(),ie(this,e,vh,kh,se,{text:0,raw:1})}}function Ch(s){let e,n;return{c(){e=O("img"),this.h()},l(t){e=M(t,"IMG",{src:!0,title:!0,alt:!0}),this.h()},h(){ca(e.src,n=s[0])||B(e,"src",n),B(e,"title",s[1]),B(e,"alt",s[2])},m(t,r){y(t,e,r)},p(t,[r]){r&1&&!ca(e.src,n=t[0])&&B(e,"src",n),r&2&&B(e,"title",t[1]),r&4&&B(e,"alt",t[2])},i:V,o:V,d(t){t&&m(e)}}}function Sh(s,e,n){let{href:t=""}=e,{title:r=void 0}=e,{text:i=""}=e;return s.$$set=o=>{"href"in o&&n(0,t=o.href),"title"in o&&n(1,r=o.title),"text"in o&&n(2,i=o.text)},[t,r,i]}let Eh=class extends re{constructor(e){super(),ie(this,e,Sh,Ch,se,{href:0,title:1,text:2})}};function Rh(s){let e,n;const t=s[3].default,r=tt(t,s,s[2],null);return{c(){e=O("a"),r&&r.c(),this.h()},l(i){e=M(i,"A",{href:!0,title:!0});var o=z(e);r&&r.l(o),o.forEach(m),this.h()},h(){B(e,"href",s[0]),B(e,"title",s[1])},m(i,o){y(i,e,o),r&&r.m(e,null),n=!0},p(i,[o]){r&&r.p&&(!n||o&4)&&nt(r,t,i,i[2],n?it(t,i[2],o,null):rt(i[2]),null),(!n||o&1)&&B(e,"href",i[0]),(!n||o&2)&&B(e,"title",i[1])},i(i){n||(g(r,i),n=!0)},o(i){_(r,i),n=!1},d(i){i&&m(e),r&&r.d(i)}}}function Th(s,e,n){let{$$slots:t={},$$scope:r}=e,{href:i=""}=e,{title:o=void 0}=e;return s.$$set=l=>{"href"in l&&n(0,i=l.href),"title"in l&&n(1,o=l.title),"$$scope"in l&&n(2,r=l.$$scope)},[i,o,r,t]}class Ph extends re{constructor(e){super(),ie(this,e,Th,Rh,se,{href:0,title:1})}}function Ah(s){let e,n;const t=s[1].default,r=tt(t,s,s[0],null);return{c(){e=O("em"),r&&r.c()},l(i){e=M(i,"EM",{});var o=z(e);r&&r.l(o),o.forEach(m)},m(i,o){y(i,e,o),r&&r.m(e,null),n=!0},p(i,[o]){r&&r.p&&(!n||o&1)&&nt(r,t,i,i[0],n?it(t,i[0],o,null):rt(i[0]),null)},i(i){n||(g(r,i),n=!0)},o(i){_(r,i),n=!1},d(i){i&&m(e),r&&r.d(i)}}}function Ih(s,e,n){let{$$slots:t={},$$scope:r}=e;return s.$$set=i=>{"$$scope"in i&&n(0,r=i.$$scope)},[r,t]}class Oh extends re{constructor(e){super(),ie(this,e,Ih,Ah,se,{})}}function Mh(s){let e,n;const t=s[1].default,r=tt(t,s,s[0],null);return{c(){e=O("del"),r&&r.c()},l(i){e=M(i,"DEL",{});var o=z(e);r&&r.l(o),o.forEach(m)},m(i,o){y(i,e,o),r&&r.m(e,null),n=!0},p(i,[o]){r&&r.p&&(!n||o&1)&&nt(r,t,i,i[0],n?it(t,i[0],o,null):rt(i[0]),null)},i(i){n||(g(r,i),n=!0)},o(i){_(r,i),n=!1},d(i){i&&m(e),r&&r.d(i)}}}function Wh(s,e,n){let{$$slots:t={},$$scope:r}=e;return s.$$set=i=>{"$$scope"in i&&n(0,r=i.$$scope)},[r,t]}class Dh extends re{constructor(e){super(),ie(this,e,Wh,Mh,se,{})}}function jh(s){let e,n=s[0].replace(/`/g,"")+"",t;return{c(){e=O("code"),t=le(n)},l(r){e=M(r,"CODE",{});var i=z(e);t=ce(i,n),i.forEach(m)},m(r,i){y(r,e,i),N(e,t)},p(r,[i]){i&1&&n!==(n=r[0].replace(/`/g,"")+"")&&De(t,n)},i:V,o:V,d(r){r&&m(e)}}}function Nh(s,e,n){let{raw:t}=e;return s.$$set=r=>{"raw"in r&&n(0,t=r.raw)},[t]}class Lh extends re{constructor(e){super(),ie(this,e,Nh,jh,se,{raw:0})}}function Bh(s){let e,n;const t=s[1].default,r=tt(t,s,s[0],null);return{c(){e=O("strong"),r&&r.c()},l(i){e=M(i,"STRONG",{});var o=z(e);r&&r.l(o),o.forEach(m)},m(i,o){y(i,e,o),r&&r.m(e,null),n=!0},p(i,[o]){r&&r.p&&(!n||o&1)&&nt(r,t,i,i[0],n?it(t,i[0],o,null):rt(i[0]),null)},i(i){n||(g(r,i),n=!0)},o(i){_(r,i),n=!1},d(i){i&&m(e),r&&r.d(i)}}}function zh(s,e,n){let{$$slots:t={},$$scope:r}=e;return s.$$set=i=>{"$$scope"in i&&n(0,r=i.$$scope)},[r,t]}class Uh extends re{constructor(e){super(),ie(this,e,zh,Bh,se,{})}}function Fh(s){let e,n;const t=s[1].default,r=tt(t,s,s[0],null);return{c(){e=O("table"),r&&r.c()},l(i){e=M(i,"TABLE",{});var o=z(e);r&&r.l(o),o.forEach(m)},m(i,o){y(i,e,o),r&&r.m(e,null),n=!0},p(i,[o]){r&&r.p&&(!n||o&1)&&nt(r,t,i,i[0],n?it(t,i[0],o,null):rt(i[0]),null)},i(i){n||(g(r,i),n=!0)},o(i){_(r,i),n=!1},d(i){i&&m(e),r&&r.d(i)}}}function Vh(s,e,n){let{$$slots:t={},$$scope:r}=e;return s.$$set=i=>{"$$scope"in i&&n(0,r=i.$$scope)},[r,t]}class qh extends re{constructor(e){super(),ie(this,e,Vh,Fh,se,{})}}function Gh(s){let e,n;const t=s[1].default,r=tt(t,s,s[0],null);return{c(){e=O("thead"),r&&r.c()},l(i){e=M(i,"THEAD",{});var o=z(e);r&&r.l(o),o.forEach(m)},m(i,o){y(i,e,o),r&&r.m(e,null),n=!0},p(i,[o]){r&&r.p&&(!n||o&1)&&nt(r,t,i,i[0],n?it(t,i[0],o,null):rt(i[0]),null)},i(i){n||(g(r,i),n=!0)},o(i){_(r,i),n=!1},d(i){i&&m(e),r&&r.d(i)}}}function Jh(s,e,n){let{$$slots:t={},$$scope:r}=e;return s.$$set=i=>{"$$scope"in i&&n(0,r=i.$$scope)},[r,t]}class Qh extends re{constructor(e){super(),ie(this,e,Jh,Gh,se,{})}}function Kh(s){let e,n;const t=s[1].default,r=tt(t,s,s[0],null);return{c(){e=O("tbody"),r&&r.c()},l(i){e=M(i,"TBODY",{});var o=z(e);r&&r.l(o),o.forEach(m)},m(i,o){y(i,e,o),r&&r.m(e,null),n=!0},p(i,[o]){r&&r.p&&(!n||o&1)&&nt(r,t,i,i[0],n?it(t,i[0],o,null):rt(i[0]),null)},i(i){n||(g(r,i),n=!0)},o(i){_(r,i),n=!1},d(i){i&&m(e),r&&r.d(i)}}}function Hh(s,e,n){let{$$slots:t={},$$scope:r}=e;return s.$$set=i=>{"$$scope"in i&&n(0,r=i.$$scope)},[r,t]}class Xh extends re{constructor(e){super(),ie(this,e,Hh,Kh,se,{})}}function Yh(s){let e,n;const t=s[1].default,r=tt(t,s,s[0],null);return{c(){e=O("tr"),r&&r.c()},l(i){e=M(i,"TR",{});var o=z(e);r&&r.l(o),o.forEach(m)},m(i,o){y(i,e,o),r&&r.m(e,null),n=!0},p(i,[o]){r&&r.p&&(!n||o&1)&&nt(r,t,i,i[0],n?it(t,i[0],o,null):rt(i[0]),null)},i(i){n||(g(r,i),n=!0)},o(i){_(r,i),n=!1},d(i){i&&m(e),r&&r.d(i)}}}function Zh(s,e,n){let{$$slots:t={},$$scope:r}=e;return s.$$set=i=>{"$$scope"in i&&n(0,r=i.$$scope)},[r,t]}class em extends re{constructor(e){super(),ie(this,e,Zh,Yh,se,{})}}function tm(s){let e,n;const t=s[3].default,r=tt(t,s,s[2],null);return{c(){e=O("td"),r&&r.c(),this.h()},l(i){e=M(i,"TD",{align:!0});var o=z(e);r&&r.l(o),o.forEach(m),this.h()},h(){B(e,"align",s[1])},m(i,o){y(i,e,o),r&&r.m(e,null),n=!0},p(i,o){r&&r.p&&(!n||o&4)&&nt(r,t,i,i[2],n?it(t,i[2],o,null):rt(i[2]),null),(!n||o&2)&&B(e,"align",i[1])},i(i){n||(g(r,i),n=!0)},o(i){_(r,i),n=!1},d(i){i&&m(e),r&&r.d(i)}}}function nm(s){let e,n;const t=s[3].default,r=tt(t,s,s[2],null);return{c(){e=O("th"),r&&r.c(),this.h()},l(i){e=M(i,"TH",{align:!0});var o=z(e);r&&r.l(o),o.forEach(m),this.h()},h(){B(e,"align",s[1])},m(i,o){y(i,e,o),r&&r.m(e,null),n=!0},p(i,o){r&&r.p&&(!n||o&4)&&nt(r,t,i,i[2],n?it(t,i[2],o,null):rt(i[2]),null),(!n||o&2)&&B(e,"align",i[1])},i(i){n||(g(r,i),n=!0)},o(i){_(r,i),n=!1},d(i){i&&m(e),r&&r.d(i)}}}function rm(s){let e,n,t,r;const i=[nm,tm],o=[];function l(a,c){return a[0]?0:1}return e=l(s),n=o[e]=i[e](s),{c(){n.c(),t=J()},l(a){n.l(a),t=J()},m(a,c){o[e].m(a,c),y(a,t,c),r=!0},p(a,[c]){let f=e;e=l(a),e===f?o[e].p(a,c):(de(),_(o[f],1,1,()=>{o[f]=null}),pe(),n=o[e],n?n.p(a,c):(n=o[e]=i[e](a),n.c()),g(n,1),n.m(t.parentNode,t))},i(a){r||(g(n),r=!0)},o(a){_(n),r=!1},d(a){o[e].d(a),a&&m(t)}}}function im(s,e,n){let{$$slots:t={},$$scope:r}=e,{header:i}=e,{align:o}=e;return s.$$set=l=>{"header"in l&&n(0,i=l.header),"align"in l&&n(1,o=l.align),"$$scope"in l&&n(2,r=l.$$scope)},[i,o,r,t]}class sm extends re{constructor(e){super(),ie(this,e,im,rm,se,{header:0,align:1})}}function om(s){let e,n;const t=s[3].default,r=tt(t,s,s[2],null);return{c(){e=O("ul"),r&&r.c()},l(i){e=M(i,"UL",{});var o=z(e);r&&r.l(o),o.forEach(m)},m(i,o){y(i,e,o),r&&r.m(e,null),n=!0},p(i,o){r&&r.p&&(!n||o&4)&&nt(r,t,i,i[2],n?it(t,i[2],o,null):rt(i[2]),null)},i(i){n||(g(r,i),n=!0)},o(i){_(r,i),n=!1},d(i){i&&m(e),r&&r.d(i)}}}function am(s){let e,n;const t=s[3].default,r=tt(t,s,s[2],null);return{c(){e=O("ol"),r&&r.c(),this.h()},l(i){e=M(i,"OL",{start:!0});var o=z(e);r&&r.l(o),o.forEach(m),this.h()},h(){B(e,"start",s[1])},m(i,o){y(i,e,o),r&&r.m(e,null),n=!0},p(i,o){r&&r.p&&(!n||o&4)&&nt(r,t,i,i[2],n?it(t,i[2],o,null):rt(i[2]),null),(!n||o&2)&&B(e,"start",i[1])},i(i){n||(g(r,i),n=!0)},o(i){_(r,i),n=!1},d(i){i&&m(e),r&&r.d(i)}}}function lm(s){let e,n,t,r;const i=[am,om],o=[];function l(a,c){return a[0]?0:1}return e=l(s),n=o[e]=i[e](s),{c(){n.c(),t=J()},l(a){n.l(a),t=J()},m(a,c){o[e].m(a,c),y(a,t,c),r=!0},p(a,[c]){let f=e;e=l(a),e===f?o[e].p(a,c):(de(),_(o[f],1,1,()=>{o[f]=null}),pe(),n=o[e],n?n.p(a,c):(n=o[e]=i[e](a),n.c()),g(n,1),n.m(t.parentNode,t))},i(a){r||(g(n),r=!0)},o(a){_(n),r=!1},d(a){o[e].d(a),a&&m(t)}}}function cm(s,e,n){let{$$slots:t={},$$scope:r}=e,{ordered:i}=e,{start:o}=e;return s.$$set=l=>{"ordered"in l&&n(0,i=l.ordered),"start"in l&&n(1,o=l.start),"$$scope"in l&&n(2,r=l.$$scope)},[i,o,r,t]}class fm extends re{constructor(e){super(),ie(this,e,cm,lm,se,{ordered:0,start:1})}}function um(s){let e,n;const t=s[1].default,r=tt(t,s,s[0],null);return{c(){e=O("li"),r&&r.c()},l(i){e=M(i,"LI",{});var o=z(e);r&&r.l(o),o.forEach(m)},m(i,o){y(i,e,o),r&&r.m(e,null),n=!0},p(i,[o]){r&&r.p&&(!n||o&1)&&nt(r,t,i,i[0],n?it(t,i[0],o,null):rt(i[0]),null)},i(i){n||(g(r,i),n=!0)},o(i){_(r,i),n=!1},d(i){i&&m(e),r&&r.d(i)}}}function dm(s,e,n){let{$$slots:t={},$$scope:r}=e;return s.$$set=i=>{"$$scope"in i&&n(0,r=i.$$scope)},[r,t]}class pm extends re{constructor(e){super(),ie(this,e,dm,um,se,{})}}function hm(s){let e;return{c(){e=O("hr")},l(n){e=M(n,"HR",{})},m(n,t){y(n,e,t)},p:V,i:V,o:V,d(n){n&&m(e)}}}class mm extends re{constructor(e){super(),ie(this,e,null,hm,se,{})}}function gm(s){let e,n;return{c(){e=new To(!1),n=J(),this.h()},l(t){e=Po(t,!1),n=J(),this.h()},h(){e.a=n},m(t,r){e.m(s[0],t,r),y(t,n,r)},p(t,[r]){r&1&&e.p(t[0])},i:V,o:V,d(t){t&&m(n),t&&e.d()}}}function _m(s,e,n){let{text:t}=e;return s.$$set=r=>{"text"in r&&n(0,t=r.text)},[t]}class bm extends re{constructor(e){super(),ie(this,e,_m,gm,se,{text:0})}}function $m(s){let e,n;const t=s[1].default,r=tt(t,s,s[0],null);return{c(){e=O("blockquote"),r&&r.c()},l(i){e=M(i,"BLOCKQUOTE",{});var o=z(e);r&&r.l(o),o.forEach(m)},m(i,o){y(i,e,o),r&&r.m(e,null),n=!0},p(i,[o]){r&&r.p&&(!n||o&1)&&nt(r,t,i,i[0],n?it(t,i[0],o,null):rt(i[0]),null)},i(i){n||(g(r,i),n=!0)},o(i){_(r,i),n=!1},d(i){i&&m(e),r&&r.d(i)}}}function xm(s,e,n){let{$$slots:t={},$$scope:r}=e;return s.$$set=i=>{"$$scope"in i&&n(0,r=i.$$scope)},[r,t]}class ym extends re{constructor(e){super(),ie(this,e,xm,$m,se,{})}}function km(s){let e,n,t;return{c(){e=O("pre"),n=O("code"),t=le(s[1]),this.h()},l(r){e=M(r,"PRE",{class:!0});var i=z(e);n=M(i,"CODE",{});var o=z(n);t=ce(o,s[1]),o.forEach(m),i.forEach(m),this.h()},h(){B(e,"class",s[0])},m(r,i){y(r,e,i),N(e,n),N(n,t)},p(r,[i]){i&2&&De(t,r[1]),i&1&&B(e,"class",r[0])},i:V,o:V,d(r){r&&m(e)}}}function vm(s,e,n){let{lang:t}=e,{text:r}=e;return s.$$set=i=>{"lang"in i&&n(0,t=i.lang),"text"in i&&n(1,r=i.text)},[t,r]}class wm extends re{constructor(e){super(),ie(this,e,vm,km,se,{lang:0,text:1})}}function Cm(s){let e,n;const t=s[1].default,r=tt(t,s,s[0],null);return{c(){e=O("br"),r&&r.c()},l(i){e=M(i,"BR",{}),r&&r.l(i)},m(i,o){y(i,e,o),r&&r.m(i,o),n=!0},p(i,[o]){r&&r.p&&(!n||o&1)&&nt(r,t,i,i[0],n?it(t,i[0],o,null):rt(i[0]),null)},i(i){n||(g(r,i),n=!0)},o(i){_(r,i),n=!1},d(i){i&&m(e),r&&r.d(i)}}}function Sm(s,e,n){let{$$slots:t={},$$scope:r}=e;return s.$$set=i=>{"$$scope"in i&&n(0,r=i.$$scope)},[r,t]}class Em extends re{constructor(e){super(),ie(this,e,Sm,Cm,se,{})}}const Rm={heading:bh,paragraph:yh,text:wh,image:Eh,link:Ph,em:Oh,strong:Uh,codespan:Lh,del:Dh,table:qh,tablehead:Qh,tablebody:Xh,tablerow:em,tablecell:sm,list:fm,orderedlistitem:null,unorderedlistitem:null,listitem:pm,hr:mm,html:bm,blockquote:ym,code:wm,br:Em},Tm={baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,xhtml:!1};function Pm(s){let e,n;return e=new dr({props:{tokens:s[0],renderers:s[1]}}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p(t,[r]){const i={};r&1&&(i.tokens=t[0]),r&2&&(i.renderers=t[1]),e.$set(i)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Am(s,e,n){let t,r,i,o,{source:l=[]}=e,{renderers:a={}}=e,{options:c={}}=e,{isInline:f=!1}=e;const u=at();let d,p,h;return ou(Mc,{slug:b=>r?r.slug(b):"",getOptions:()=>i}),Et(()=>{n(7,h=!0)}),s.$$set=b=>{"source"in b&&n(2,l=b.source),"renderers"in b&&n(3,a=b.renderers),"options"in b&&n(4,c=b.options),"isInline"in b&&n(5,f=b.isInline)},s.$$.update=()=>{s.$$.dirty&4&&n(8,t=Array.isArray(l)),s.$$.dirty&4&&(r=l?new Ts:void 0),s.$$.dirty&16&&n(9,i={...Tm,...c}),s.$$.dirty&869&&(t?n(0,d=l):(n(6,p=new vn(i)),n(0,d=f?p.inlineTokens(l):p.lex(l)),u("parsed",{tokens:d}))),s.$$.dirty&8&&n(1,o={...Rm,...a}),s.$$.dirty&385&&h&&!t&&u("parsed",{tokens:d})},[d,o,l,a,c,f,p,h,t,i]}class Im extends re{constructor(e){super(),ie(this,e,Am,Pm,se,{source:2,renderers:3,options:4,isInline:5})}}function Om(s){let e,n,t;return n=new Im({props:{source:s[0]}}),{c(){e=O("div"),v(n.$$.fragment),this.h()},l(r){e=M(r,"DIV",{class:!0});var i=z(e);E(n.$$.fragment,i),i.forEach(m),this.h()},h(){B(e,"class","format-markdown svelte-12hc1an")},m(r,i){y(r,e,i),w(n,e,null),t=!0},p(r,[i]){const o={};i&1&&(o.source=r[0]),n.$set(o)},i(r){t||(g(n.$$.fragment,r),t=!0)},o(r){_(n.$$.fragment,r),t=!1},d(r){r&&m(e),C(n)}}}function Mm(s,e,n){let{source:t=""}=e;return s.$$set=r=>{"source"in r&&n(0,t=r.source)},[t]}class Wm extends re{constructor(e){super(),ie(this,e,Mm,Om,se,{source:0})}}let rl={};class Dm extends cn{constructor(){super("load",!0,!0,"Load the content of a specific file into the terminal.",[{usage:"load [file]",description:"To load the content of file [file]."},{usage:"load [path]",description:"To load the content of the file located under [path]."}],[{parameter:"[file]",type:"Valid file name in the current working directory.",description:"The name of a valid file in the current working directory."},{parameter:"[path]",type:"Valid file path.",description:'A valid file path. Paths are delimited by "/".'}])}async exec(e){if(e.length>0){let n=new wn(e[0]);if(!n.valid)return ue.html(`<br>Location ${n.raw} invalid.<br><br>`);let t=Ye.copy();n.is_absolute()&&(t=Ye.fs.get_iterator());try{if(await t.move(n.raw),t.current_node.mounted||await t.load(),t.current_node instanceof mt){if(t.current_node.hidden)return ue.html("<br><span>No such file. Error code 1.</span><br><br>");switch(t.current_node.api_type){case"text":return ue.text(t.current_node.content);case"html":return ue.html(t.current_node.content);case"md":return ue.component(Wm,{source:t.current_node.content});case"component":if(t.current_node.descriptor in rl){let r=rl[t.current_node.descriptor];return ue.component(r)}else ue.html("<br><span>An error occurred while loading the file content.</span><br><br>");default:return ue.html("<br><span>File type not supported.</span><br><br>")}}else return ue.html("<br><span>No such file. Error code 1.</span><br><br>")}catch(r){switch(console.devlog(r.message),r.message){case gt.error_codes.network:return ue.html("<br>Network error. Operation temporarily not possible.<br><br>");default:return ue.html("<br>No such file. Error code 2.<br><br>")}}}else return ue.html("<br><span>Please specify a file to load.</span><br><br>")}}const jm=new Dm;function il(s,e,n){const t=s.slice();return t[5]=e[n],t[7]=n,t}function Nm(s){let e,n;return e=new ur({props:{cols:[s[5],"exe",Lr(s[0].executables[s[5]].modified_date)]}}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p(t,r){const i={};r&1&&(i.cols=[t[5],"exe",Lr(t[0].executables[t[5]].modified_date)]),e.$set(i)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Lm(s){let e,n;return e=new ur({props:{cols:[s[5],"file",Lr(s[0].files[s[5]].modified_date)]}}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p(t,r){const i={};r&1&&(i.cols=[t[5],"file",Lr(t[0].files[t[5]].modified_date)]),e.$set(i)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Bm(s){let e,n;return e=new ur({props:{cols:[s[5],"dir",Lr(s[0].subdirs[s[5]].modified_date)]}}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p(t,r){const i={};r&1&&(i.cols=[t[5],"dir",Lr(t[0].subdirs[t[5]].modified_date)]),e.$set(i)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function sl(s){let e,n,t,r;const i=[Bm,Lm,Nm],o=[];function l(a,c){return a[5]in a[0].subdirs&&!a[0].subdirs[a[5]].hidden?0:a[5]in a[0].files&&!a[0].files[a[5]].hidden?1:a[5]in a[0].executables&&!a[0].executables[a[5]].hidden?2:-1}return~(e=l(s))&&(n=o[e]=i[e](s)),{c(){n&&n.c(),t=J()},l(a){n&&n.l(a),t=J()},m(a,c){~e&&o[e].m(a,c),y(a,t,c),r=!0},p(a,c){let f=e;e=l(a),e===f?~e&&o[e].p(a,c):(n&&(de(),_(o[f],1,1,()=>{o[f]=null}),pe()),~e?(n=o[e],n?n.p(a,c):(n=o[e]=i[e](a),n.c()),g(n,1),n.m(t.parentNode,t)):n=null)},i(a){r||(g(n),r=!0)},o(a){_(n),r=!1},d(a){~e&&o[e].d(a),a&&m(t)}}}function zm(s){let e,n,t=s[1],r=[];for(let o=0;o<t.length;o+=1)r[o]=sl(il(s,t,o));const i=o=>_(r[o],1,1,()=>{r[o]=null});return{c(){for(let o=0;o<r.length;o+=1)r[o].c();e=J()},l(o){for(let l=0;l<r.length;l+=1)r[l].l(o);e=J()},m(o,l){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(o,l);y(o,e,l),n=!0},p(o,l){if(l&3){t=o[1];let a;for(a=0;a<t.length;a+=1){const c=il(o,t,a);r[a]?(r[a].p(c,l),g(r[a],1)):(r[a]=sl(c),r[a].c(),g(r[a],1),r[a].m(e.parentNode,e))}for(de(),a=t.length;a<r.length;a+=1)i(a);pe()}},i(o){if(!n){for(let l=0;l<t.length;l+=1)g(r[l]);n=!0}},o(o){r=r.filter(Boolean);for(let l=0;l<r.length;l+=1)_(r[l]);n=!1},d(o){It(r,o),o&&m(e)}}}function Um(s){let e,n,t,r,i,o;return t=new Si({props:{cols:["Name","Type","Modified"],$$slots:{default:[zm]},$$scope:{ctx:s}}}),{c(){e=O("br"),n=W(),v(t.$$.fragment),r=W(),i=O("br")},l(l){e=M(l,"BR",{}),n=D(l),E(t.$$.fragment,l),r=D(l),i=M(l,"BR",{})},m(l,a){y(l,e,a),y(l,n,a),w(t,l,a),y(l,r,a),y(l,i,a),o=!0},p(l,[a]){const c={};a&257&&(c.$$scope={dirty:a,ctx:l}),t.$set(c)},i(l){o||(g(t.$$.fragment,l),o=!0)},o(l){_(t.$$.fragment,l),o=!1},d(l){l&&m(e),l&&m(n),C(t,l),l&&m(r),l&&m(i)}}}function ol(s){const e=parseInt(s);return e<10?`0${e}`:`${e}`}function Lr(s){const e=new Date(s),n=e.toLocaleDateString("de-DE").split(".");return`${ol(n[0])}.${ol(n[1])}.${n[2]} ${e.toLocaleTimeString("de-DE")}`}function Fm(s,e,n){let{dir:t}=e;const r=Object.keys(t.subdirs),i=Object.keys(t.files),o=Object.keys(t.executables),l=r.concat(i).concat(o);return console.dev("ls.entries:",l),l.sort(),s.$$set=a=>{"dir"in a&&n(0,t=a.dir)},[t,l]}class Vm extends re{constructor(e){super(),ie(this,e,Fm,Um,se,{dir:0})}}class qm extends cn{constructor(){super("ls",!0,!0,"Show list of files.",[{usage:"ls",description:"To list all files in the current working directory."}])}async exec(){let e=Ye.current_node;if(!e.mounted)try{await Ye.load()}catch(n){switch(n.message){case gt.error_codes.network:return ue.html("<br>Network error. Operation temporarily not possible.<br><br>");default:return console.devlog(n),ue.html("<br>Unable to load directory.<br><br>")}}return ue.component(Vm,{dir:structuredClone(e)})}}const Gm=new qm;class Jm extends cn{constructor(){super("mkdir",!0,!0,"Create directory, if it does not already exists.",[{usage:"mkdir [name]",description:"To create the directory."},{usage:"mkdir [path]",description:"To create the directory under the specified location."}],[{parameter:"[name]",type:"Valid directory name in the current working directory.",description:"The name of a valid directory in the current working directory."},{parameter:"[path]",type:"Valid directory path.",description:'Directory paths do not have a file ending. The last path segments is the name of the directory to create. All previous path segments must correspond to existing directories. Paths are delimited by "/".'}])}async exec(e){if(e.length==0)return ue.html("<br><span>No directory specified.</span><br><br>");if(e.length>1)return ue.html("<br><span>Too many parameters.</span><br><br>");let n=Ye.copy(),t=new wn(e[0]),r="";if(!t.raw.match(wn.valid_dir))return ue.html("<br><span>A directory with this invalid name cannot be created.</span><br><br>");if(t.is_path()){r=t.get_name(),t=t.pop();try{await n.move(t.raw)}catch{return ue.html("<br><span>A directory under this location cannot be created. Error code 1.</span><br><br>")}}else r=e[0];if(!n.current_node.mounted)try{await n.load()}catch(o){switch(o.message){case gt.error_codes.network:return ue.html("<br>Network error. Cannot create directory.<br><br>");default:return ue.html("<br><span>A directory under this location cannot be created. Error code 2.</span><br><br>")}}if(r in n.current_node.subdirs)return ue.html("<br><span>A directory with this name already exists!</span><br><br>");const i=Ct.init(r,r,n.current_node).set_virtual().set_mounted().set_modified_date(Date.now());return n.current_node.add_node(i),n.fs.vfs.persist(i),ue.html(`<br><span>Directory "${r}" created.</span><br><br>`)}}const Qm=new Jm;var wo,Km,xs,Wc;const Kn=class Kn{constructor(e,n,t,r,i){yt(this,wo);yt(this,xs);this.name=e,this.nargs=n,this.required=t,this.type=r,this.default_value=i,this.matched=!1,this.value=bt(this,xs,Wc).call(this,this.type,this.nargs,this.default_value)}static valid_type(e,n){if(n==null)return!0;switch(e){case Kn.types.bool:if(typeof n=="boolean")return!0;break;case Kn.types.int:if(Number.isInteger(n))return!0;break;case Kn.types.float:if(!Number.isNaN(Number.parseFloat(n)))return!0;break;case Kn.types.string:if(typeof n=="string")return!0;break}return!1}toString(){return`-${this.name}`}};wo=new WeakSet,Km=function(e){return!!(Number.isInteger(e)&&e>0||e=="+")},xs=new WeakSet,Wc=function(e,n,t){if(Number.isInteger(n)&&n>0)return[];if(n=="*"||n=="+")return[];if(t){if(Kn.valid_type(e,t))return t;throw new Error("Invalid default type.")}return null},qe(Kn,"types",{bool:"bool",int:"int",float:"float",string:"string"});let Tn=Kn;var rr;class Hm{constructor(){yt(this,rr,void 0);Ws(this,rr,{}),this.args=[],this.unmatched=[],this.unbound=[]}add_argument(e,n=0,t,r=Tn.types.string,i=null){if(!r in Tn.types)throw new Error(`Type ${r} is not defined.`);const o=new Tn(e,n,t,r,i);if(e in Gn(this,rr))throw new Error(`Parameter ${e} already defined.`);Gn(this,rr)[e]=o,this.args.push(o)}is_arg(e){return e[0]=="-"||e.substring(0,2)=="--"?this.match_arg(e)!=null:!1}arg_name(e){return e.substring(0,2)=="--"?e.substring(2):e.substring(1)}match_arg(e){let n=this.arg_name(e);for(const t of this.args)if(t.name==n)return t;return null}cast_value(e,n){switch(e.type){case Tn.types.bool:if(typeof n=="string"){if(n.toLowerCase()=="true")return!0;if(n.toLowerCase()=="false")return!1}else throw new Error(`"${n}" is not an boolean.`);case Tn.types.int:{const t=parseInt(n);if(isNaN(t))throw new Error(`"${n}" is not an int.`);return t}case Tn.types.float:{const t=parseFloat(n);if(isNaN(t))throw new Error(`"${n}" is not an float.`);return t}case Tn.types.string:{if(typeof n=="string")return n;throw new Error(`"${n}" is not an string.`)}}}match_nargs(e,n,t){if(Number.isInteger(t.nargs)&&t.nargs>0){for(let r=0;r<t.nargs;r++){let i=r+n+1;if(i>=e.length)throw new Error(`Too few values for parameter "${t.name}".`);let o=e[i];if(this.is_arg(o))throw new Error(`Value mismatch for parameter "${t.name}".`);t.value.push(this.cast_value(t,o)),console.dev(t.value)}return t.nargs}if(t.nargs=="?"){let r=n+1;if(r>=e.length)return 0;let i=e[r];return this.is_arg(i)?0:(t.value=this.cast_value(t,i),1)}if(t.nargs=="*"||t.nargs=="+"){let r=0;for(let i=n+1;i<e.length;i++){if(i>=e.length)throw new Error(`Too few values for parameter "${t.name}".`);let o=e[i];if(console.dev(o),this.is_arg(o))break;t.value.push(this.cast_value(t,o)),r++}if(t.nargs=="+"&&r<1)throw new Error(`Too few values for parameter "${t.name}".`);return r}return 0}parse(e){for(let n=0;n<e.length;n++){let t=e[n];if(this.is_arg(t)){let r=this.match_arg(t);if(r){const i=this.match_nargs(e,n,r);r.matched=!0,console.dev("skip",i),n+=i;continue}}else this.unbound.push(t)}for(const n of this.args)n.matched==!1&&this.unmatched.push(n)}get(e){return Gn(this,rr)[e]}description(){let e="";for(const n of this.args){let t="";n.required?t=`-${n.name}`:t=`[-${n.name}]`,t=`${t} ${n.nargs} #${n.type}`,t=`${t}
`,e+=t}return e}}rr=new WeakMap;function Xm(s,e,n){let{pid:t}=e,{hidden:r}=e,{ipc_channel:i}=e,{timeout:o}=e,{expiration:l}=e;return Et(async()=>{n(0,o=setTimeout(()=>{location.reload()},l))}),zn(async()=>{clearTimeout(o)}),s.$$set=a=>{"pid"in a&&n(1,t=a.pid),"hidden"in a&&n(2,r=a.hidden),"ipc_channel"in a&&n(3,i=a.ipc_channel),"timeout"in a&&n(0,o=a.timeout),"expiration"in a&&n(4,l=a.expiration)},[o,t,r,i,l]}class Ym extends re{constructor(e){super(),ie(this,e,Xm,null,se,{pid:1,hidden:2,ipc_channel:3,timeout:0,expiration:4})}}function Zm(s){let e,n,t=new Date(s[0].value).toISOString().substring(11,23)+"",r,i,o,l;return{c(){e=O("br"),n=le(`\r
Terminal will be restarted in `),r=le(t),i=le(`.\r
`),o=O("br"),l=O("br")},l(a){e=M(a,"BR",{}),n=ce(a,`\r
Terminal will be restarted in `),r=ce(a,t),i=ce(a,`.\r
`),o=M(a,"BR",{}),l=M(a,"BR",{})},m(a,c){y(a,e,c),y(a,n,c),y(a,r,c),y(a,i,c),y(a,o,c),y(a,l,c)},p(a,[c]){c&1&&t!==(t=new Date(a[0].value).toISOString().substring(11,23)+"")&&De(r,t)},i:V,o:V,d(a){a&&m(e),a&&m(n),a&&m(r),a&&m(i),a&&m(o),a&&m(l)}}}function e0(s,e,n){let{expiration:t}=e,{interval:r}=e;return Et(async()=>{n(1,r=setInterval(()=>{n(0,t.value-=1e3,t)},1e3))}),zn(async()=>{clearTimeout(r)}),s.$$set=i=>{"expiration"in i&&n(0,t=i.expiration),"interval"in i&&n(1,r=i.interval)},[t,r]}class t0 extends re{constructor(e){super(),ie(this,e,e0,Zm,se,{expiration:0,interval:1})}}class n0 extends cn{constructor(){super("restart",!0,!0,"Restarts the terminal.",[{usage:"restart",description:"To restart the terminal instantly."},{usage:"restart -t [ms]",description:"To restart the terminal after [ms] milliseconds."}],[{parameter:"[ms]",type:"Integer greater 0.",description:"Duration in milliseconds after which the terminal is restarted."}])}async exec(e){let n=new Hm;if(n.add_argument("t",1,!1,Tn.types.int),console.dev(n.description()),e.length>2)return ue.html("<br>Invalid number of parameters<br><br>");try{n.parse(e);const t=n.get("t");if(t.matched){console.dev(parseInt(t.value[0]));const r=parseInt(t.value[0]);return r<0?ue.html("<br>Time to restart must be greater than 0.<br><br>"):(r==0&&location.reload(),pt.create(new Do(this.name,Ym,{expiration:r}),!0),ue.component(t0,{expiration:{value:r}}))}else{if(n.unbound.length>0)return ue.html(`<br>Unknown parameters: ${n.unbound.join(" ")}<br><br>`);location.reload()}}catch(t){return console.devlog(t.message),ue.html(`<br>${t.message}<br><br>`)}}}const r0=new n0;function Jn(s,e=void 0){return typeof e<"u"?{key:s,value:e}:{key:s}}class i0 extends cn{constructor(){super("rm",!0,!0,"Remove files or directories.",[{usage:"rm [name]",description:"To remove the file or empty directory with the corresponding name."},{usage:"rm [path]",description:"To remove the file or empty directory under the specified location."},{usage:"rm -r [name/path]",description:"To remove the non-empty directory with the corresponding name or under the specified location."}],[{parameter:"[name]",type:"Valid file or directory name in the current working directory.",description:"The name of a valid file or directory in the current working directory."},{parameter:"[path]",type:"Valid file or directory path.",description:'A valid file or directory path. Paths are delimited by "/".'}])}async remove_target(e,n,t=!1){try{await e.move(n.raw),e.current_node.mounted||await e.load();const r=e.current_node.name;if(!e.current_node.virtual)return ue.html("<br><span>Cannot remove target. Missing permission. Error code 1.</span><br><br>");if(e.current_node instanceof mt)return e.fs.vfs.purge(e.current_node),e.unload(),ue.html("<br><span>File successfully removed.</span><br><br>");if(e.current_node instanceof Ct){if(Ye.current_path.to_name().startsWith(n.to_string()))return ue.html("<br><span>Cannot remove directory while being inside the directory.</span><br><br>");const i=e.current_node.parent;return Object.keys(e.current_node.files).length==0&&Object.keys(e.current_node.subdirs).length==0||t?(e.fs.vfs.purge(e.current_node),e.unload(),ue.html("<br><span>Directory successfully removed.</span><br><br>")):ue.html('<br><span>Cannot remove directory. Directory is not empty. Use parameter "-r".</span><br><br>')}else return console.devlog(e.current_node),ue.html("<br><span>Cannot remove target. Missing permission. Error code 2.</span><br><br>")}catch(r){return console.devlog(r),ue.html("<br><span>A directory under this location cannot be removed.</span><br><br>")}}async exec(e){if(e.length==0)return ue.html("<br><span>No target specified.</span><br><br>");let n=Ye.copy();if(e.length==1){const t=new wn(e[0]);return this.remove_target(n,t)}else if(e.length==2)if(e.includes("-r")){console.dev((e.indexOf("-f")+1)%2);const t=new wn(e[(e.indexOf("-r")+1)%2]);return this.remove_target(n,t,!0)}else return ue.html("<br><span>Invalid parameters.</span><br><br>");else if(e.length>2)return ue.html("<br><span>Invalid number of parameters.</span><br><br>")}}const s0=new i0;function o0(s){let e,n,t,r,i;const o=[s[2]];var l=s[0];function a(d){let p={};for(let h=0;h<o.length;h+=1)p=qt(p,o[h]);return{props:p}}l&&(e=Le(l,a()));const c=[s[3]];var f=s[1];function u(d){let p={};for(let h=0;h<c.length;h+=1)p=qt(p,c[h]);return{props:p}}return f&&(t=Le(f,u())),{c(){e&&v(e.$$.fragment),n=W(),t&&v(t.$$.fragment),r=J()},l(d){e&&E(e.$$.fragment,d),n=D(d),t&&E(t.$$.fragment,d),r=J()},m(d,p){e&&w(e,d,p),y(d,n,p),t&&w(t,d,p),y(d,r,p),i=!0},p(d,[p]){const h=p&4?on(o,[an(d[2])]):{};if(p&1&&l!==(l=d[0])){if(e){de();const x=e;_(x.$$.fragment,1,0,()=>{C(x,1)}),pe()}l?(e=Le(l,a()),v(e.$$.fragment),g(e.$$.fragment,1),w(e,n.parentNode,n)):e=null}else l&&e.$set(h);const b=p&8?on(c,[an(d[3])]):{};if(p&2&&f!==(f=d[1])){if(t){de();const x=t;_(x.$$.fragment,1,0,()=>{C(x,1)}),pe()}f?(t=Le(f,u()),v(t.$$.fragment),g(t.$$.fragment,1),w(t,r.parentNode,r)):t=null}else f&&t.$set(b)},i(d){i||(e&&g(e.$$.fragment,d),t&&g(t.$$.fragment,d),i=!0)},o(d){e&&_(e.$$.fragment,d),t&&_(t.$$.fragment,d),i=!1},d(d){e&&C(e,d),d&&m(n),d&&m(r),t&&C(t,d)}}}function a0(s,e,n){let{componentA:t}=e,{componentB:r}=e,{propsA:i}=e,{propsB:o}=e;return s.$$set=l=>{"componentA"in l&&n(0,t=l.componentA),"componentB"in l&&n(1,r=l.componentB),"propsA"in l&&n(2,i=l.propsA),"propsB"in l&&n(3,o=l.propsB)},[t,r,i,o]}class l0 extends re{constructor(e){super(),ie(this,e,a0,o0,se,{componentA:0,componentB:1,propsA:2,propsB:3})}}function c0(s){let e,n;return{c(){e=new To(!1),n=J(),this.h()},l(t){e=Po(t,!1),n=J(),this.h()},h(){e.a=n},m(t,r){e.m(s[0],t,r),y(t,n,r)},p(t,[r]){r&1&&e.p(t[0])},i:V,o:V,d(t){t&&m(n),t&&e.d()}}}function f0(s,e,n){let{content:t}=e;return s.$$set=r=>{"content"in r&&n(0,t=r.content)},[t]}class ro extends re{constructor(e){super(),ie(this,e,f0,c0,se,{content:0})}}class Uo{constructor(e,n){this.exitcode=e,this.content=n}}class u0 extends Uo{constructor(e){super(0,e)}}class d0 extends Uo{constructor(e,n){if(super(e,n),e==0)throw new Error("Exit code cannot be 0 for an exception.")}}function kr(s,e){return s==0?new u0(e):new d0(s,e)}class pr{constructor(e){this.name=e}async exec(){}}function qn(s,e={}){const n=new Set;let t;function r(f){if(!(f instanceof Function))throw new TypeError("callback is not a function");return n.add(f),f(s),()=>n.delete(f)}function i(f,u,d){const p={from:s,to:f,event:u,args:d};o("_exit",p),s=f,n.forEach(h=>h(s)),o("_enter",p)}function o(f,...u){var p,h;const d=((p=e[s])==null?void 0:p[f])??((h=e["*"])==null?void 0:h[f]);return d instanceof Function?d.apply(t,u):d}function l(f,...u){var p;const d=(p=o(f,...u))==null?void 0:p.valueOf();return["string","symbol"].includes(typeof d)&&d!==s&&i(d,f,u),s}const a={};async function c(f,u=100,...d){return clearTimeout(a[f]),u===null?s:(await new Promise(p=>a[f]=setTimeout(p,u)),delete a[f],l(f,...d))}return t=new Proxy({subscribe:r},{get(f,u){return Reflect.has(f,u)||(f[u]=l.bind(null,u),f[u].debounce=c.bind(null,u)),Reflect.get(f,u)}}),o("_enter",{from:null,to:s,event:null,args:[]}),t}class io{constructor(){}check(){throw new Error("Not implemented")}obtain(){throw new Error("Not implemented")}}class al{static of(e){return typeof e}static get Number(){return"number"}static get Boolean(){return"boolean"}static get String(){return"string"}static get Object(){return"object"}}class ll extends io{constructor(e,n){if(super(),this.Type=e,this.Type!==typeof n)throw new Error(`Initalized TypeValue "${n}" with wrong type "${e}"`);this.value=n}check(e){return this.Type===typeof e}obtain(){return this.value}}class Dc extends Error{constructor(e){super(e),this.name="AccessorError"}}class p0 extends Dc{constructor(){super("Key not in schema"),this.name="KeyNotInSchema"}}class h0 extends Dc{constructor(){super("Key is no value"),this.name="KeyIsNoValue"}}function m0(s,e){return n=>s[e]=n}var wi,so;class g0{constructor(e,n){yt(this,wi);this.schema=e,this.object=n}get(e){const[n,t,r]=bt(this,wi,so).call(this,e.split("."));return n.check(t)?t:n.obtain()}set(e,n){const[t,r,i]=bt(this,wi,so).call(this,e.split("."));return t.check(n)?(i(n),!0):(i(t.obtain()),!1)}}wi=new WeakSet,so=function(e){let n=this.schema,t=this.object,r=null;for(let i=0;i<e.length;i++){const o=e[i];if(o in n)n=n[o],o in t||(n instanceof io?t[o]=n.obtain():t[o]={}),r=m0(t,o),t=t[o];else throw new p0}if(n instanceof io)return[n,t,r];throw new h0};const _0={visited:new ll(al.Boolean,!1),forceNonMobile:new ll(al.Boolean,!1)};var Ci;const li=class li extends g0{constructor(e){if(Gn(li,Ci))throw new Error("Singleton classes can't be instantiated more than once.");let n=localStorage.getItem("environment");n===null?n={}:n=JSON.parse(n),super(e,n),Ws(li,Ci,this)}persist(){localStorage.setItem("environment",JSON.stringify(this.object))}setPersistent(e,n){this.set(e,n),this.persist()}};Ci=new WeakMap,yt(li,Ci,null);let oo=li;const oi=new oo(_0);function b0(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}let ve=!1;oi.get("forceNonMobile")?ve=!1:ve=b0();function $0(s){let e,n;return{c:V,l:V,m(t,r){e||(n=Tt(document,"keydown",s[0]),e=!0)},p:V,i:V,o:V,d(t){e=!1,n()}}}const x0="<h3>About this Website</h3>",y0="<h3>Accessing Data</h3>",k0="<h3>Dynamic Content</h3>",v0='Besides files and directories, small programs are stored on the filesystem. These programs have the file type "exe". You can run these programs inside this terminal using the "run" command. Typically, programs offer their own user interface (UI), allowing you to interact with them. As a matter of fact, the CLI is also just a program. If you switch to a different program, the scheduler in the background preempts the CLI process and starts a new process. If the target process already exists, it continues. Processes can even interact with each other through sending messages. For example, this allows some processes without a UI to take advantage of the CLI. In fact, this tutorial is a small program running in the background, utilizing the CLI to display messages.',w0="Remember that this website has little similarity to an actual computer system. For example, the mentioned scheduler does not manage code running on a (virtual) machine. There is no point in doing so. Instead, this website shall give a general resemblance of such a system. Nevertheless, be assured that there is a lot of overengineered magic running the background as I am a tech enthusiast focussing on low-level computer systems ;) For example, the filesystem actually corresponds to directories and files on the server that are loaded asynchronously. Made changes are persisted locally and replayed when you revisit the website.";function C0(s,e,n){let{pid:t}=e,{hidden:r}=e,{ipc_channel:i}=e,{c2m_channel:o}=e,{m2c_channel:l}=e;const a=at();let c=pt.process(0),f="",u=F,d=!0,p=!1;const h='The website detected that your device has touchscreen capabilities. Do you want to operate this website using your touchscreen? Only choose "no" if you have a hardware keyboard attached to your device! Otherwise you will be locked out of this website and have to delete all website data to restart this dialouge.',b="According to my non-cookie data, you are visiting this website for the first time.",x='Do you require assistance? Type "yes" or "no" (y/n) using your keyboard, or select the matching button when using a touchscreen device.',$="This website is structured around a command-line interface (CLI), like bash or PowerShell. As a computer scientist, I wanted to pay tribute to the interface type I most commonly use. Do not worry if you are unfamiliar with its handling. There is nothing that can get broken. If you are in front of your desktop computer, your primary tool is the keyboard. If you are using your smartphone or a device with a touchscreen, use the input box and buttons at the bottom. Please note that currently, this website does not support all actions for touchscreen devices.",R='The basic handling of the console is achieved by typing in commands and pressing ENTER. For example, you can type "help" to print a list of all available commands. If you need more details, you can type "help help" to get an explanation of how to use the "help" command. You can type whenever there is a blinking cursor. The CLI is case-sensitive, so watch out for auto-correction on mobile devices.',S='This console is backed by a filesystem, meaning some pieces of information are stored in files on the filesystem. To list the content and structure of the current directory, use "ls". To change the current directory, use the "cd" command. You can load the content of files into the console by using the "load" command. Remember that you can get more information on these commands using the "help" command like "help cd".',P='By pressing ENTER, you complete the introduction and can explore the console. You can always restart the introduction by entering "run /user/first.exe"';p=oi.get("visited");const T=qn(ve&&!p?"touchscreen":"required",{touchscreen:{_enter(){c.ipc.append(me(Oe,{type:"html",content:"<br>"})),c.ipc.append(me(Oe,{type:"html",content:"<h2>Before we begin.</h2>"})),c.ipc.append(me(Oe,{type:"text",content:h})),c.ipc.append(me(Oe,{type:"html",content:"<br>"})),c.ipc.append(me(Oe,{content:"",active:!0})),c.ipc.scroll_from_bottom(5)},input(Z){if(Z=="y"||Z=="yes")return"required";(Z=="n"||Z=="no")&&(oi.setPersistent("forceNonMobile",!0),location.reload())}},required:{_enter(){c.ipc.append(me(Oe,{type:"html",content:"<br>"})),c.ipc.append(me(Oe,{type:"html",content:"<h2>Hello!</h2>"})),c.ipc.append(me(Oe,{type:"text",content:p?x:`${b} ${x}`})),c.ipc.append(me(Oe,{type:"html",content:"<br>"})),c.ipc.append(me(Oe,{content:"",active:!0})),c.ipc.scroll_from_bottom(5)},input(Z){if(Z=="y"||Z=="yes")return"text_2";if(Z=="n"||Z=="no")return"terminate";c.ipc.append(me(Oe,{type:"text",content:"Please type: (y/n)"})),c.ipc.append(me(Oe,{type:"html",content:"<br>"})),c.ipc.append(me(Oe,{active:!0})),c.ipc.scroll_from_bottom(3)}},text_2:{_enter(){u=k,ve&&o.push("enter"),c.ipc.append(me(Oe,{type:"html",content:"<br>"})),c.ipc.append(me(Oe,{type:"html",content:x0})),c.ipc.append(me(Oe,{type:"text",content:$})),c.ipc.append(me(Oe,{type:"text",content:R})),c.ipc.append(me(Oe,{type:"html",content:"<br>"})),c.ipc.append(me(Oe,{type:"text",content:"Press ENTER to continue."})),c.ipc.scroll_from_bottom(6)},input(Z){if(Z=="Enter")return"text_3"}},text_3:{_enter(){c.ipc.append(me(Oe,{type:"html",content:"<br>"})),c.ipc.append(me(Oe,{type:"html",content:y0})),c.ipc.append(me(Oe,{type:"text",content:S})),c.ipc.append(me(Oe,{type:"html",content:"<br>"})),c.ipc.append(me(Oe,{type:"text",content:"Press ENTER to continue."})),c.ipc.scroll_from_bottom(5)},input(Z){if(Z=="Enter")return"text_4"}},text_4:{_enter(){c.ipc.append(me(Oe,{type:"html",content:"<br>"})),c.ipc.append(me(Oe,{type:"html",content:k0})),c.ipc.append(me(Oe,{type:"text",content:v0})),c.ipc.append(me(Oe,{type:"html",content:"<br>"})),c.ipc.append(me(Oe,{type:"text",content:"Press ENTER to continue."})),c.ipc.scroll_from_bottom(5)},input(Z){if(Z=="Enter")return"text_4_2"}},text_4_2:{_enter(){c.ipc.append(me(Oe,{type:"html",content:"<br>"})),c.ipc.append(me(Oe,{type:"text",content:w0})),c.ipc.append(me(Oe,{type:"html",content:"<br>"})),c.ipc.append(me(Oe,{type:"text",content:P})),c.ipc.append(me(Oe,{type:"html",content:"<br>"})),c.ipc.append(me(Oe,{type:"text",content:"Press ENTER to exit."})),c.ipc.scroll_from_bottom(6)},input(Z){if(Z=="Enter")return"terminate"}},terminate:{_enter(){oi.setPersistent("visited",!0),Pt.terminate(a)}}});function F(Z){switch(Z.key){case"Enter":c.ipc.replace(me(Oe,{type:"text",content:f})),T.input(f),f="";break;case"Backspace":f=f.slice(0,-1),c.ipc.replace(me(Oe,{type:"text",content:f,active:!0}));break;default:Bn.printable.includes(Z.key)&&(f+=Z.key,c.ipc.replace(me(Oe,{type:"text",content:f,active:!0})))}}function k(Z){switch(Z.key){case"Enter":T.input("Enter");break}}function j(Z){ve||u(Z)}async function fe(){for(;d;){let Z=await l.shift();if(Z)switch(Z.key){case"Yes":c.ipc.replace(me(Oe,{type:"text",content:"yes"})),T.input("yes");break;case"No":c.ipc.replace(me(Oe,{type:"text",content:"no"})),T.input("no");break;case"Enter":T.input("Enter");break}}}return Et(async()=>{ve&&fe()}),zn(async()=>{o.close(),l.close(),d=!1}),s.$$set=Z=>{"pid"in Z&&n(1,t=Z.pid),"hidden"in Z&&n(2,r=Z.hidden),"ipc_channel"in Z&&n(3,i=Z.ipc_channel),"c2m_channel"in Z&&n(4,o=Z.c2m_channel),"m2c_channel"in Z&&n(5,l=Z.m2c_channel)},[j,t,r,i,o,l]}class S0 extends re{constructor(e){super(),ie(this,e,C0,$0,se,{pid:1,hidden:2,ipc_channel:3,c2m_channel:4,m2c_channel:5})}}class cs extends fn{constructor(e){const n=Cn`
            min-height: ${e}px;
        `;super(n,[`min_h${e}`])}static StyleOrEmpty(e){return e==""?"":new cs(e).css_value}}function E0(s){let e,n,t,r,i;return{c(){e=O("button"),n=le(s[0]),this.h()},l(o){e=M(o,"BUTTON",{type:!0,class:!0});var l=z(e);n=ce(l,s[0]),l.forEach(m),this.h()},h(){B(e,"type","button"),B(e,"class",t=s[1]+" "+s[2]+" "+cs.StyleOrEmpty(s[3])+" svelte-1v7xok")},m(o,l){y(o,e,l),N(e,n),r||(i=[Tt(e,"click",s[4]),Tt(e,"mousedown",s[5]),Tt(e,"mouseup",s[6]),Tt(e,"touchstart",s[7]),Tt(e,"touchend",s[8])],r=!0)},p(o,[l]){l&1&&De(n,o[0]),l&14&&t!==(t=o[1]+" "+o[2]+" "+cs.StyleOrEmpty(o[3])+" svelte-1v7xok")&&B(e,"class",t)},i:V,o:V,d(o){o&&m(e),r=!1,ws(i)}}}function R0(s,e,n){let{descriptor:t}=e,{pos:r}=e,{color:i=ae.c0_b_bs_c}=e,{min_height:o=""}=e;function l(d){Hn.call(this,s,d)}function a(d){Hn.call(this,s,d)}function c(d){Hn.call(this,s,d)}function f(d){Hn.call(this,s,d)}function u(d){Hn.call(this,s,d)}return s.$$set=d=>{"descriptor"in d&&n(0,t=d.descriptor),"pos"in d&&n(1,r=d.pos),"color"in d&&n(2,i=d.color),"min_height"in d&&n(3,o=d.min_height)},[t,r,i,o,l,a,c,f,u]}class Te extends re{constructor(e){super(),ie(this,e,R0,E0,se,{descriptor:0,pos:1,color:2,min_height:3})}}function T0(s){let e,n;return e=new Te({props:{descriptor:"Continue",pos:"g-1-1"}}),e.$on("click",s[6]),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p:V,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function P0(s){let e,n,t,r;return e=new Te({props:{descriptor:"yes",pos:"g-1-1"}}),e.$on("click",s[4]),t=new Te({props:{descriptor:"no",pos:"g-1-2"}}),t.$on("click",s[5]),{c(){v(e.$$.fragment),n=W(),v(t.$$.fragment)},l(i){E(e.$$.fragment,i),n=D(i),E(t.$$.fragment,i)},m(i,o){w(e,i,o),y(i,n,o),w(t,i,o),r=!0},p:V,i(i){r||(g(e.$$.fragment,i),g(t.$$.fragment,i),r=!0)},o(i){_(e.$$.fragment,i),_(t.$$.fragment,i),r=!1},d(i){C(e,i),i&&m(n),C(t,i)}}}function A0(s){let e,n,t,r;const i=[P0,T0],o=[];function l(a,c){return a[0]=="yesno"?0:1}return n=l(s),t=o[n]=i[n](s),{c(){e=O("div"),t.c(),this.h()},l(a){e=M(a,"DIV",{class:!0});var c=z(e);t.l(c),c.forEach(m),this.h()},h(){B(e,"class","svelte-r8nvjt")},m(a,c){y(a,e,c),o[n].m(e,null),r=!0},p(a,[c]){let f=n;n=l(a),n===f?o[n].p(a,c):(de(),_(o[f],1,1,()=>{o[f]=null}),pe(),t=o[n],t?t.p(a,c):(t=o[n]=i[n](a),t.c()),g(t,1),t.m(e,null))},i(a){r||(g(t),r=!0)},o(a){_(t),r=!1},d(a){a&&m(e),o[n].d()}}}function I0(s,e,n){let{c2m_channel:t}=e,{m2c_channel:r}=e,i="yesno",o=!0;async function l(){for(;o;)n(0,i=await t.shift())}function a(d){r.push(d)}Et(async()=>{l()}),zn(async()=>{o=!1});const c=()=>a(ke.artificial("Yes")),f=()=>a(ke.artificial("No")),u=()=>a(ke.artificial("Enter"));return s.$$set=d=>{"c2m_channel"in d&&n(2,t=d.c2m_channel),"m2c_channel"in d&&n(3,r=d.m2c_channel)},[i,a,t,r,c,f,u]}class O0 extends re{constructor(e){super(),ie(this,e,I0,A0,se,{c2m_channel:2,m2c_channel:3})}}class M0 extends pr{constructor(){super("first")}async exec(){const e=Zs(),n=Zs();return new ln(new Wo(this.name,S0,{c2m_channel:e,m2c_channel:n},zr,!0,me(O0,{c2m_channel:e,m2c_channel:n})))}}const W0=new M0;function D0(s){let e,n,t,r,i,o,l,a,c,f,u,d,p,h;const b=s[6].default,x=tt(b,s,s[5],null);return{c(){e=O("div"),n=O("div"),t=O("span"),r=le(s[1]),i=W(),o=O("span"),l=le(s[2]),a=W(),c=O("span"),f=le(s[3]),d=W(),x&&x.c(),this.h()},l($){e=M($,"DIV",{id:!0,class:!0});var R=z(e);n=M(R,"DIV",{id:!0,class:!0});var S=z(n);t=M(S,"SPAN",{id:!0,class:!0});var P=z(t);r=ce(P,s[1]),P.forEach(m),i=D(S),o=M(S,"SPAN",{id:!0,class:!0});var T=z(o);l=ce(T,s[2]),T.forEach(m),a=D(S),c=M(S,"SPAN",{id:!0,class:!0});var F=z(c);f=ce(F,s[3]),F.forEach(m),S.forEach(m),d=D(R),x&&x.l(R),R.forEach(m),this.h()},h(){B(t,"id","top-id"),B(t,"class","g-1 svelte-12su11m"),B(o,"id","top-info"),B(o,"class","g-2 svelte-12su11m"),B(c,"id","top-version"),B(c,"class","g-3 svelte-12su11m"),B(n,"id","top-bar"),B(n,"class",u="grid "+s[4]+" svelte-12su11m"),B(e,"id",s[1]),B(e,"class",p="container "+(s[0]?"hidden":"")+" svelte-12su11m")},m($,R){y($,e,R),N(e,n),N(n,t),N(t,r),N(n,i),N(n,o),N(o,l),N(n,a),N(n,c),N(c,f),N(e,d),x&&x.m(e,null),h=!0},p($,[R]){(!h||R&2)&&De(r,$[1]),(!h||R&4)&&De(l,$[2]),(!h||R&8)&&De(f,$[3]),(!h||R&16&&u!==(u="grid "+$[4]+" svelte-12su11m"))&&B(n,"class",u),x&&x.p&&(!h||R&32)&&nt(x,b,$,$[5],h?it(b,$[5],R,null):rt($[5]),null),(!h||R&2)&&B(e,"id",$[1]),(!h||R&1&&p!==(p="container "+($[0]?"hidden":"")+" svelte-12su11m"))&&B(e,"class",p)},i($){h||(g(x,$),h=!0)},o($){_(x,$),h=!1},d($){$&&m(e),x&&x.d($)}}}function j0(s,e,n){let{$$slots:t={},$$scope:r}=e,{hidden:i=!0}=e,{name:o}=e,{info:l}=e,{version:a}=e,{color:c=ae.c0_b_bg_c$dg}=e;return s.$$set=f=>{"hidden"in f&&n(0,i=f.hidden),"name"in f&&n(1,o=f.name),"info"in f&&n(2,l=f.info),"version"in f&&n(3,a=f.version),"color"in f&&n(4,c=f.color),"$$scope"in f&&n(5,r=f.$$scope)},[i,o,l,a,c,r,t]}class Ti extends re{constructor(e){super(),ie(this,e,j0,D0,se,{hidden:0,name:1,info:2,version:3,color:4})}}function N0(s){let e,n,t;const r=s[3].default,i=tt(r,s,s[2],null);return{c(){e=O("div"),i&&i.c(),this.h()},l(o){e=M(o,"DIV",{class:!0});var l=z(e);i&&i.l(l),l.forEach(m),this.h()},h(){B(e,"class",n=(s[0]?"noselect":"")+" "+(s[1]?"":"pad")+" svelte-1lcgiac")},m(o,l){y(o,e,l),i&&i.m(e,null),t=!0},p(o,[l]){i&&i.p&&(!t||l&4)&&nt(i,r,o,o[2],t?it(r,o[2],l,null):rt(o[2]),null),(!t||l&3&&n!==(n=(o[0]?"noselect":"")+" "+(o[1]?"":"pad")+" svelte-1lcgiac"))&&B(e,"class",n)},i(o){t||(g(i,o),t=!0)},o(o){_(i,o),t=!1},d(o){o&&m(e),i&&i.d(o)}}}function L0(s,e,n){let{$$slots:t={},$$scope:r}=e,{noselect:i=!0}=e,{nopadding:o=!1}=e;return s.$$set=l=>{"noselect"in l&&n(0,i=l.noselect),"nopadding"in l&&n(1,o=l.nopadding),"$$scope"in l&&n(2,r=l.$$scope)},[i,o,r,t]}class Yt extends re{constructor(e){super(),ie(this,e,L0,N0,se,{noselect:0,nopadding:1})}}function B0(s){let e,n;const t=s[1].default,r=tt(t,s,s[0],null);return{c(){e=O("div"),r&&r.c(),this.h()},l(i){e=M(i,"DIV",{class:!0});var o=z(e);r&&r.l(o),o.forEach(m),this.h()},h(){B(e,"class","grid svelte-1vp1gtx")},m(i,o){y(i,e,o),r&&r.m(e,null),n=!0},p(i,[o]){r&&r.p&&(!n||o&1)&&nt(r,t,i,i[0],n?it(t,i[0],o,null):rt(i[0]),null)},i(i){n||(g(r,i),n=!0)},o(i){_(r,i),n=!1},d(i){i&&m(e),r&&r.d(i)}}}function z0(s,e,n){let{$$slots:t={},$$scope:r}=e;return s.$$set=i=>{"$$scope"in i&&n(0,r=i.$$scope)},[r,t]}class Wt extends re{constructor(e){super(),ie(this,e,z0,B0,se,{})}}function U0(s){let e,n,t,r,i,o,l;return{c(){e=O("div"),n=O("span"),t=le(s[0]),i=O("span"),o=le(s[1]),this.h()},l(a){e=M(a,"DIV",{class:!0});var c=z(e);n=M(c,"SPAN",{class:!0});var f=z(n);t=ce(f,s[0]),f.forEach(m),i=M(c,"SPAN",{class:!0});var u=z(i);o=ce(u,s[1]),u.forEach(m),c.forEach(m),this.h()},h(){B(n,"class",r="key "+s[3]+" "+(s[0]!=""?"key-padding":"")+" "+(s[0]!=""&&s[4]?"pad-left":"")+" svelte-2k2er0"),B(i,"class","svelte-2k2er0"),B(e,"class",l=Ln(s[2])+" svelte-2k2er0")},m(a,c){y(a,e,c),N(e,n),N(n,t),N(e,i),N(i,o)},p(a,[c]){c&1&&De(t,a[0]),c&25&&r!==(r="key "+a[3]+" "+(a[0]!=""?"key-padding":"")+" "+(a[0]!=""&&a[4]?"pad-left":"")+" svelte-2k2er0")&&B(n,"class",r),c&2&&De(o,a[1]),c&4&&l!==(l=Ln(a[2])+" svelte-2k2er0")&&B(e,"class",l)},i:V,o:V,d(a){a&&m(e)}}}function F0(s,e,n){let{key:t=""}=e,{desc:r=""}=e,{pos:i}=e,{color:o=ae.c0_b_bg_c$dg}=e,{padleft:l=!1}=e;return s.$$set=a=>{"key"in a&&n(0,t=a.key),"desc"in a&&n(1,r=a.desc),"pos"in a&&n(2,i=a.pos),"color"in a&&n(3,o=a.color),"padleft"in a&&n(4,l=a.padleft)},[t,r,i,o,l]}class Ie extends re{constructor(e){super(),ie(this,e,F0,U0,se,{key:0,desc:1,pos:2,color:3,padleft:4})}}function V0(s){let e,n;return e=new Ie({props:{pos:"g-1"}}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p:V,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function q0(s){let e,n,t;const r=s[2].default,i=tt(r,s,s[1],null),o=i||V0();return{c(){e=O("div"),o&&o.c(),this.h()},l(l){e=M(l,"DIV",{class:!0});var a=z(e);o&&o.l(a),a.forEach(m),this.h()},h(){B(e,"class",n=Ln(s[0])+" svelte-1kbx5z5")},m(l,a){y(l,e,a),o&&o.m(e,null),t=!0},p(l,[a]){i&&i.p&&(!t||a&2)&&nt(i,r,l,l[1],t?it(r,l[1],a,null):rt(l[1]),null),(!t||a&1&&n!==(n=Ln(l[0])+" svelte-1kbx5z5"))&&B(e,"class",n)},i(l){t||(g(o,l),t=!0)},o(l){_(o,l),t=!1},d(l){l&&m(e),o&&o.d(l)}}}function G0(s,e,n){let{$$slots:t={},$$scope:r}=e,{pos:i}=e;return s.$$set=o=>{"pos"in o&&n(0,i=o.pos),"$$scope"in o&&n(1,r=o.$$scope)},[i,r,t]}class et extends re{constructor(e){super(),ie(this,e,G0,q0,se,{pos:0})}}function J0(s){let e,n,t,r;return e=new Ie({props:{key:"strg+S",desc:"Save",pos:"g-1"}}),t=new Ie({props:{key:"strg+X",desc:"Exit",pos:"g-2"}}),{c(){v(e.$$.fragment),n=W(),v(t.$$.fragment)},l(i){E(e.$$.fragment,i),n=D(i),E(t.$$.fragment,i)},m(i,o){w(e,i,o),y(i,n,o),w(t,i,o),r=!0},p:V,i(i){r||(g(e.$$.fragment,i),g(t.$$.fragment,i),r=!0)},o(i){_(e.$$.fragment,i),_(t.$$.fragment,i),r=!1},d(i){C(e,i),i&&m(n),C(t,i)}}}function Q0(s){let e,n,t,r;return e=new Ie({props:{pos:"g-1"}}),t=new Ie({props:{pos:"g-2"}}),{c(){v(e.$$.fragment),n=W(),v(t.$$.fragment)},l(i){E(e.$$.fragment,i),n=D(i),E(t.$$.fragment,i)},m(i,o){w(e,i,o),y(i,n,o),w(t,i,o),r=!0},p:V,i(i){r||(g(e.$$.fragment,i),g(t.$$.fragment,i),r=!0)},o(i){_(e.$$.fragment,i),_(t.$$.fragment,i),r=!1},d(i){C(e,i),i&&m(n),C(t,i)}}}function K0(s){let e,n,t,r;return e=new Ie({props:{pos:"g-1"}}),t=new Ie({props:{pos:"g-2"}}),{c(){v(e.$$.fragment),n=W(),v(t.$$.fragment)},l(i){E(e.$$.fragment,i),n=D(i),E(t.$$.fragment,i)},m(i,o){w(e,i,o),y(i,n,o),w(t,i,o),r=!0},p:V,i(i){r||(g(e.$$.fragment,i),g(t.$$.fragment,i),r=!0)},o(i){_(e.$$.fragment,i),_(t.$$.fragment,i),r=!1},d(i){C(e,i),i&&m(n),C(t,i)}}}function H0(s){let e,n,t,r,i,o;return e=new et({props:{pos:"g-1",$$slots:{default:[J0]},$$scope:{ctx:s}}}),t=new et({props:{pos:"g-2",$$slots:{default:[Q0]},$$scope:{ctx:s}}}),i=new et({props:{pos:"g-3",$$slots:{default:[K0]},$$scope:{ctx:s}}}),{c(){v(e.$$.fragment),n=W(),v(t.$$.fragment),r=W(),v(i.$$.fragment)},l(l){E(e.$$.fragment,l),n=D(l),E(t.$$.fragment,l),r=D(l),E(i.$$.fragment,l)},m(l,a){w(e,l,a),y(l,n,a),w(t,l,a),y(l,r,a),w(i,l,a),o=!0},p(l,a){const c={};a&1&&(c.$$scope={dirty:a,ctx:l}),e.$set(c);const f={};a&1&&(f.$$scope={dirty:a,ctx:l}),t.$set(f);const u={};a&1&&(u.$$scope={dirty:a,ctx:l}),i.$set(u)},i(l){o||(g(e.$$.fragment,l),g(t.$$.fragment,l),g(i.$$.fragment,l),o=!0)},o(l){_(e.$$.fragment,l),_(t.$$.fragment,l),_(i.$$.fragment,l),o=!1},d(l){C(e,l),l&&m(n),C(t,l),l&&m(r),C(i,l)}}}function X0(s){let e,n;return e=new Wt({props:{$$slots:{default:[H0]},$$scope:{ctx:s}}}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p(t,[r]){const i={};r&1&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}class Y0 extends re{constructor(e){super(),ie(this,e,null,X0,se,{})}}function Z0(s){let e,n;const t=s[2].default,r=tt(t,s,s[1],null);return{c(){e=O("div"),r&&r.c(),this.h()},l(i){e=M(i,"DIV",{class:!0});var o=z(e);r&&r.l(o),o.forEach(m),this.h()},h(){B(e,"class",s[0])},m(i,o){y(i,e,o),r&&r.m(e,null),n=!0},p(i,[o]){r&&r.p&&(!n||o&2)&&nt(r,t,i,i[1],n?it(t,i[1],o,null):rt(i[1]),null),(!n||o&1)&&B(e,"class",i[0])},i(i){n||(g(r,i),n=!0)},o(i){_(r,i),n=!1},d(i){i&&m(e),r&&r.d(i)}}}function eg(s,e,n){let{$$slots:t={},$$scope:r}=e,{color:i=ae.c0_b_bg_c$dg}=e;return s.$$set=o=>{"color"in o&&n(0,i=o.color),"$$scope"in o&&n(1,r=o.$$scope)},[i,r,t]}class Pi extends re{constructor(e){super(),ie(this,e,eg,Z0,se,{color:0})}}function tg(s){let e,n;return{c(){e=O("span"),n=le("Save modified buffer?")},l(t){e=M(t,"SPAN",{});var r=z(e);n=ce(r,"Save modified buffer?"),r.forEach(m)},m(t,r){y(t,e,r),N(e,n)},p:V,d(t){t&&m(e)}}}function ng(s){let e,n;return e=new Pi({props:{$$slots:{default:[tg]},$$scope:{ctx:s}}}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p(t,r){const i={};r&2&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function cl(s){let e,n;return e=new Wt({props:{$$slots:{default:[og]},$$scope:{ctx:s}}}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function rg(s){let e,n,t,r;return e=new Ie({props:{key:"Y",desc:"Yes",pos:"g-1"}}),t=new Ie({props:{key:"N",desc:"No",pos:"g-2"}}),{c(){v(e.$$.fragment),n=W(),v(t.$$.fragment)},l(i){E(e.$$.fragment,i),n=D(i),E(t.$$.fragment,i)},m(i,o){w(e,i,o),y(i,n,o),w(t,i,o),r=!0},p:V,i(i){r||(g(e.$$.fragment,i),g(t.$$.fragment,i),r=!0)},o(i){_(e.$$.fragment,i),_(t.$$.fragment,i),r=!1},d(i){C(e,i),i&&m(n),C(t,i)}}}function ig(s){let e,n,t,r;return e=new Ie({props:{pos:"g-1"}}),t=new Ie({props:{key:"strg+C",desc:"Cancel",pos:"g-2",padleft:!0}}),{c(){v(e.$$.fragment),n=W(),v(t.$$.fragment)},l(i){E(e.$$.fragment,i),n=D(i),E(t.$$.fragment,i)},m(i,o){w(e,i,o),y(i,n,o),w(t,i,o),r=!0},p:V,i(i){r||(g(e.$$.fragment,i),g(t.$$.fragment,i),r=!0)},o(i){_(e.$$.fragment,i),_(t.$$.fragment,i),r=!1},d(i){C(e,i),i&&m(n),C(t,i)}}}function sg(s){let e,n,t,r;return e=new Ie({props:{pos:"g-1"}}),t=new Ie({props:{pos:"g-2"}}),{c(){v(e.$$.fragment),n=W(),v(t.$$.fragment)},l(i){E(e.$$.fragment,i),n=D(i),E(t.$$.fragment,i)},m(i,o){w(e,i,o),y(i,n,o),w(t,i,o),r=!0},p:V,i(i){r||(g(e.$$.fragment,i),g(t.$$.fragment,i),r=!0)},o(i){_(e.$$.fragment,i),_(t.$$.fragment,i),r=!1},d(i){C(e,i),i&&m(n),C(t,i)}}}function og(s){let e,n,t,r,i,o;return e=new et({props:{pos:"g-1",$$slots:{default:[rg]},$$scope:{ctx:s}}}),t=new et({props:{pos:"g-2",$$slots:{default:[ig]},$$scope:{ctx:s}}}),i=new et({props:{pos:"g-3",$$slots:{default:[sg]},$$scope:{ctx:s}}}),{c(){v(e.$$.fragment),n=W(),v(t.$$.fragment),r=W(),v(i.$$.fragment)},l(l){E(e.$$.fragment,l),n=D(l),E(t.$$.fragment,l),r=D(l),E(i.$$.fragment,l)},m(l,a){w(e,l,a),y(l,n,a),w(t,l,a),y(l,r,a),w(i,l,a),o=!0},p(l,a){const c={};a&2&&(c.$$scope={dirty:a,ctx:l}),e.$set(c);const f={};a&2&&(f.$$scope={dirty:a,ctx:l}),t.$set(f);const u={};a&2&&(u.$$scope={dirty:a,ctx:l}),i.$set(u)},i(l){o||(g(e.$$.fragment,l),g(t.$$.fragment,l),g(i.$$.fragment,l),o=!0)},o(l){_(e.$$.fragment,l),_(t.$$.fragment,l),_(i.$$.fragment,l),o=!1},d(l){C(e,l),l&&m(n),C(t,l),l&&m(r),C(i,l)}}}function ag(s){let e,n,t,r;e=new Wt({props:{$$slots:{default:[ng]},$$scope:{ctx:s}}});let i=!s[0]&&cl(s);return{c(){v(e.$$.fragment),n=W(),i&&i.c(),t=J()},l(o){E(e.$$.fragment,o),n=D(o),i&&i.l(o),t=J()},m(o,l){w(e,o,l),y(o,n,l),i&&i.m(o,l),y(o,t,l),r=!0},p(o,[l]){const a={};l&2&&(a.$$scope={dirty:l,ctx:o}),e.$set(a),o[0]?i&&(de(),_(i,1,1,()=>{i=null}),pe()):i?l&1&&g(i,1):(i=cl(o),i.c(),g(i,1),i.m(t.parentNode,t))},i(o){r||(g(e.$$.fragment,o),g(i),r=!0)},o(o){_(e.$$.fragment,o),_(i),r=!1},d(o){C(e,o),o&&m(n),i&&i.d(o),o&&m(t)}}}function lg(s,e,n){let{mobile:t}=e;return s.$$set=r=>{"mobile"in r&&n(0,t=r.mobile)},[t]}class cg extends re{constructor(e){super(),ie(this,e,lg,ag,se,{mobile:0})}}function fg(s){let e,n,t,r,i,o;return i=new Cs({}),{c(){e=O("span"),n=le("File Name to write:"),t=O("span"),r=le(s[0]),v(i.$$.fragment),this.h()},l(l){e=M(l,"SPAN",{});var a=z(e);n=ce(a,"File Name to write:"),a.forEach(m),t=M(l,"SPAN",{class:!0});var c=z(t);r=ce(c,s[0]),c.forEach(m),E(i.$$.fragment,l),this.h()},h(){B(t,"class","file-name svelte-1o1axa1")},m(l,a){y(l,e,a),N(e,n),y(l,t,a),N(t,r),w(i,l,a),o=!0},p(l,a){(!o||a&1)&&De(r,l[0])},i(l){o||(g(i.$$.fragment,l),o=!0)},o(l){_(i.$$.fragment,l),o=!1},d(l){l&&m(e),l&&m(t),C(i,l)}}}function ug(s){let e,n;return e=new Pi({props:{$$slots:{default:[fg]},$$scope:{ctx:s}}}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p(t,r){const i={};r&5&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function fl(s){let e,n;return e=new Wt({props:{$$slots:{default:[pg]},$$scope:{ctx:s}}}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function dg(s){let e,n;return e=new Ie({props:{key:"strg+C",desc:"Cancel",pos:"g-1"}}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p:V,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function pg(s){let e,n,t,r,i,o;return e=new et({props:{pos:"g-1",$$slots:{default:[dg]},$$scope:{ctx:s}}}),t=new et({props:{pos:"g-2"}}),i=new et({props:{pos:"g-3"}}),{c(){v(e.$$.fragment),n=W(),v(t.$$.fragment),r=W(),v(i.$$.fragment)},l(l){E(e.$$.fragment,l),n=D(l),E(t.$$.fragment,l),r=D(l),E(i.$$.fragment,l)},m(l,a){w(e,l,a),y(l,n,a),w(t,l,a),y(l,r,a),w(i,l,a),o=!0},p(l,a){const c={};a&4&&(c.$$scope={dirty:a,ctx:l}),e.$set(c)},i(l){o||(g(e.$$.fragment,l),g(t.$$.fragment,l),g(i.$$.fragment,l),o=!0)},o(l){_(e.$$.fragment,l),_(t.$$.fragment,l),_(i.$$.fragment,l),o=!1},d(l){C(e,l),l&&m(n),C(t,l),l&&m(r),C(i,l)}}}function hg(s){let e,n,t,r;e=new Wt({props:{$$slots:{default:[ug]},$$scope:{ctx:s}}});let i=!s[1]&&fl(s);return{c(){v(e.$$.fragment),n=W(),i&&i.c(),t=J()},l(o){E(e.$$.fragment,o),n=D(o),i&&i.l(o),t=J()},m(o,l){w(e,o,l),y(o,n,l),i&&i.m(o,l),y(o,t,l),r=!0},p(o,[l]){const a={};l&5&&(a.$$scope={dirty:l,ctx:o}),e.$set(a),o[1]?i&&(de(),_(i,1,1,()=>{i=null}),pe()):i?l&2&&g(i,1):(i=fl(o),i.c(),g(i,1),i.m(t.parentNode,t))},i(o){r||(g(e.$$.fragment,o),g(i),r=!0)},o(o){_(e.$$.fragment,o),_(i),r=!1},d(o){C(e,o),o&&m(n),i&&i.d(o),o&&m(t)}}}function mg(s,e,n){let{file_name:t}=e,{mobile:r}=e;return s.$$set=i=>{"file_name"in i&&n(0,t=i.file_name),"mobile"in i&&n(1,r=i.mobile)},[t,r]}class gg extends re{constructor(e){super(),ie(this,e,mg,hg,se,{file_name:0,mobile:1})}}function _g(s){let e,n,t,r,i,o;return e=new Te({props:{descriptor:"Yes",pos:"g-1-1"}}),e.$on("click",s[1]),t=new Te({props:{descriptor:"No",pos:"g-2-1"}}),t.$on("click",s[2]),i=new Te({props:{descriptor:"Cancel",pos:"g-2-2"}}),i.$on("click",s[3]),{c(){v(e.$$.fragment),n=W(),v(t.$$.fragment),r=W(),v(i.$$.fragment)},l(l){E(e.$$.fragment,l),n=D(l),E(t.$$.fragment,l),r=D(l),E(i.$$.fragment,l)},m(l,a){w(e,l,a),y(l,n,a),w(t,l,a),y(l,r,a),w(i,l,a),o=!0},p:V,i(l){o||(g(e.$$.fragment,l),g(t.$$.fragment,l),g(i.$$.fragment,l),o=!0)},o(l){_(e.$$.fragment,l),_(t.$$.fragment,l),_(i.$$.fragment,l),o=!1},d(l){C(e,l),l&&m(n),C(t,l),l&&m(r),C(i,l)}}}function bg(s){const e=at();return[e,()=>e("vinput",ke.artificial("y")),()=>e("vinput",ke.artificial("n")),()=>e("vinput",ke.artificial("c",!0))]}class $g extends re{constructor(e){super(),ie(this,e,bg,_g,se,{})}}function xg(s){let e,n,t,r,i,o,l,a;return e=new Te({props:{descriptor:"Save",pos:"g-1-1"}}),e.$on("click",s[1]),t=new Te({props:{descriptor:"Exit",pos:"g-2-1"}}),t.$on("click",s[2]),i=new Te({props:{descriptor:"^",pos:"g-1-2"}}),i.$on("click",s[3]),l=new Te({props:{descriptor:"v",pos:"g-2-2"}}),l.$on("click",s[4]),{c(){v(e.$$.fragment),n=W(),v(t.$$.fragment),r=W(),v(i.$$.fragment),o=W(),v(l.$$.fragment)},l(c){E(e.$$.fragment,c),n=D(c),E(t.$$.fragment,c),r=D(c),E(i.$$.fragment,c),o=D(c),E(l.$$.fragment,c)},m(c,f){w(e,c,f),y(c,n,f),w(t,c,f),y(c,r,f),w(i,c,f),y(c,o,f),w(l,c,f),a=!0},p:V,i(c){a||(g(e.$$.fragment,c),g(t.$$.fragment,c),g(i.$$.fragment,c),g(l.$$.fragment,c),a=!0)},o(c){_(e.$$.fragment,c),_(t.$$.fragment,c),_(i.$$.fragment,c),_(l.$$.fragment,c),a=!1},d(c){C(e,c),c&&m(n),C(t,c),c&&m(r),C(i,c),c&&m(o),C(l,c)}}}function yg(s){const e=at();return[e,()=>e("vinput",ke.artificial("s",!0)),()=>e("vinput",ke.artificial("x",!0)),()=>e("vinput",ke.artificial("ArrowUp")),()=>e("vinput",ke.artificial("ArrowDown"))]}class kg extends re{constructor(e){super(),ie(this,e,yg,xg,se,{})}}function ul(s,e,n){const t=s.slice();return t[32]=e[n],t}function dl(s){let e,n,t;const r=[s[32].props];var i=s[32].component;function o(l){let a={};for(let c=0;c<r.length;c+=1)a=qt(a,r[c]);return{props:a}}return i&&(e=Le(i,o())),{c(){e&&v(e.$$.fragment),n=J()},l(l){e&&E(e.$$.fragment,l),n=J()},m(l,a){e&&w(e,l,a),y(l,n,a),t=!0},p(l,a){const c=a[0]&8?on(r,[an(l[32].props)]):{};if(a[0]&8&&i!==(i=l[32].component)){if(e){de();const f=e;_(f.$$.fragment,1,0,()=>{C(f,1)}),pe()}i?(e=Le(i,o()),v(e.$$.fragment),g(e.$$.fragment,1),w(e,n.parentNode,n)):e=null}else i&&e.$set(c)},i(l){t||(e&&g(e.$$.fragment,l),t=!0)},o(l){e&&_(e.$$.fragment,l),t=!1},d(l){l&&m(n),e&&C(e,l)}}}function vg(s){let e,n;return e=new gg({props:{file_name:s[0],mobile:ve}}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p(t,r){const i={};r[0]&1&&(i.file_name=t[0]),e.$set(i)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function wg(s){let e,n;return e=new cg({props:{mobile:ve}}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p:V,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Cg(s){let e,n;return e=new Y0({}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p:V,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Sg(s){let e,n,t,r;e=new Yt({props:{$$slots:{default:[Pg]},$$scope:{ctx:s}}});let i=(s[5]=="edit"||s[5]=="choose_name")&&pl(s);return{c(){v(e.$$.fragment),n=W(),i&&i.c(),t=J()},l(o){E(e.$$.fragment,o),n=D(o),i&&i.l(o),t=J()},m(o,l){w(e,o,l),y(o,n,l),i&&i.m(o,l),y(o,t,l),r=!0},p(o,l){const a={};l[0]&32|l[1]&16&&(a.$$scope={dirty:l,ctx:o}),e.$set(a),o[5]=="edit"||o[5]=="choose_name"?i?(i.p(o,l),l[0]&32&&g(i,1)):(i=pl(o),i.c(),g(i,1),i.m(t.parentNode,t)):i&&(de(),_(i,1,1,()=>{i=null}),pe())},i(o){r||(g(e.$$.fragment,o),g(i),r=!0)},o(o){_(e.$$.fragment,o),_(i),r=!1},d(o){C(e,o),o&&m(n),i&&i.d(o),o&&m(t)}}}function Eg(s){let e,n;return e=new Te({props:{descriptor:"Cancel",pos:"g-1-1"}}),e.$on("click",s[16]),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p:V,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Rg(s){let e,n;return e=new $g({}),e.$on("vinput",s[15]),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p:V,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Tg(s){let e,n;return e=new kg({}),e.$on("vinput",s[14]),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p:V,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Pg(s){let e,n,t,r;const i=[Tg,Rg,Eg],o=[];function l(a,c){return a[5]=="edit"?0:a[5]=="unsaved"?1:a[5]=="choose_name"?2:-1}return~(e=l(s))&&(n=o[e]=i[e](s)),{c(){n&&n.c(),t=J()},l(a){n&&n.l(a),t=J()},m(a,c){~e&&o[e].m(a,c),y(a,t,c),r=!0},p(a,c){let f=e;e=l(a),e===f?~e&&o[e].p(a,c):(n&&(de(),_(o[f],1,1,()=>{o[f]=null}),pe()),~e?(n=o[e],n?n.p(a,c):(n=o[e]=i[e](a),n.c()),g(n,1),n.m(t.parentNode,t)):n=null)},i(a){r||(g(n),r=!0)},o(a){_(n),r=!1},d(a){~e&&o[e].d(a),a&&m(t)}}}function pl(s){let e,n;return e=new Yt({props:{$$slots:{default:[Ag]},$$scope:{ctx:s}}}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p(t,r){const i={};r[0]&16|r[1]&16&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Ag(s){let e,n,t;function r(o){s[17](o)}let i={};return s[4]!==void 0&&(i.value=s[4]),e=new Ri({props:i}),jt.push(()=>Ft(e,"value",r)),e.$on("vinput",s[18]),e.$on("change",s[8]),{c(){v(e.$$.fragment)},l(o){E(e.$$.fragment,o)},m(o,l){w(e,o,l),t=!0},p(o,l){const a={};!n&&l[0]&16&&(n=!0,a.value=o[4],Vt(()=>n=!1)),e.$set(a)},i(o){t||(g(e.$$.fragment,o),t=!0)},o(o){_(e.$$.fragment,o),t=!1},d(o){C(e,o)}}}function Ig(s){let e,n,t,r,i,o,l,a,c,f=s[3],u=[];for(let $=0;$<f.length;$+=1)u[$]=dl(ul(s,f,$));const d=$=>_(u[$],1,1,()=>{u[$]=null}),p=[Cg,wg,vg],h=[];function b($,R){return $[5]=="edit"&&!ve?0:$[5]=="unsaved"?1:$[5]=="choose_name"?2:-1}~(r=b(s))&&(i=h[r]=p[r](s));let x=ve&&Sg(s);return{c(){e=O("div");for(let $=0;$<u.length;$+=1)u[$].c();n=W(),t=O("div"),i&&i.c(),l=W(),x&&x.c(),a=J(),this.h()},l($){e=M($,"DIV",{class:!0});var R=z(e);for(let P=0;P<u.length;P+=1)u[P].l(R);R.forEach(m),n=D($),t=M($,"DIV",{class:!0});var S=z(t);i&&i.l(S),S.forEach(m),l=D($),x&&x.l($),a=J(),this.h()},h(){B(e,"class","content svelte-1ma4vmt"),B(t,"class",o="control "+(ve&&s[5]=="edit"?"hidden":"")+" svelte-1ma4vmt")},m($,R){y($,e,R);for(let S=0;S<u.length;S+=1)u[S]&&u[S].m(e,null);y($,n,R),y($,t,R),~r&&h[r].m(t,null),y($,l,R),x&&x.m($,R),y($,a,R),c=!0},p($,R){if(R[0]&8){f=$[3];let P;for(P=0;P<f.length;P+=1){const T=ul($,f,P);u[P]?(u[P].p(T,R),g(u[P],1)):(u[P]=dl(T),u[P].c(),g(u[P],1),u[P].m(e,null))}for(de(),P=f.length;P<u.length;P+=1)d(P);pe()}let S=r;r=b($),r===S?~r&&h[r].p($,R):(i&&(de(),_(h[S],1,1,()=>{h[S]=null}),pe()),~r?(i=h[r],i?i.p($,R):(i=h[r]=p[r]($),i.c()),g(i,1),i.m(t,null)):i=null),(!c||R[0]&32&&o!==(o="control "+(ve&&$[5]=="edit"?"hidden":"")+" svelte-1ma4vmt"))&&B(t,"class",o),ve&&x.p($,R)},i($){if(!c){for(let R=0;R<f.length;R+=1)g(u[R]);g(i),g(x),c=!0}},o($){u=u.filter(Boolean);for(let R=0;R<u.length;R+=1)_(u[R]);_(i),_(x),c=!1},d($){$&&m(e),It(u,$),$&&m(n),$&&m(t),~r&&h[r].d(),$&&m(l),x&&x.d($),$&&m(a)}}}function Og(s){let e,n,t,r,i;return n=new Ti({props:{hidden:s[1],name:"Editor",info:s[2],version:"v2.0",$$slots:{default:[Ig]},$$scope:{ctx:s}}}),{c(){e=W(),v(n.$$.fragment)},l(o){e=D(o),E(n.$$.fragment,o)},m(o,l){y(o,e,l),w(n,o,l),t=!0,r||(i=Tt(document,"keydown",s[6]),r=!0)},p(o,l){const a={};l[0]&2&&(a.hidden=o[1]),l[0]&4&&(a.info=o[2]),l[0]&57|l[1]&16&&(a.$$scope={dirty:l,ctx:o}),n.$set(a)},i(o){t||(g(n.$$.fragment,o),t=!0)},o(o){_(n.$$.fragment,o),t=!1},d(o){o&&m(e),C(n,o),r=!1,i()}}}function Mg(s,e,n){let t,{pid:r}=e,{hidden:i=!1}=e,{ipc_channel:o}=e,{file_name:l=""}=e,{initial:a=""}=e;const c=at();let f=l==""?"New Buffer":l,u=[me(Oe,{id:0,content:"",active:!0,wordbreak:!0})],d=0,p=!1,h=!1,b="";window.lines=u,window.iter=Ye,window.fs=Ye.fs;function x(K){n(3,u[d].props.content+=K,u),j()}function $(K){n(3,u[d].props.content=K,u),j()}function R(){let K=u[d].props.content;ve?n(3,u[d].props.content=b,u):n(3,u[d].props.content=u[d].props.content.slice(0,-1),u),d>0&&K==""&&u[d].props.content==""&&(u.splice(d,1),n(13,d-=1),n(3,u[d].props.active=!0,u)),j()}function S(){n(3,u[d].props.active=!1,u),u.splice(d+1,0,me(Oe,{id:u.length,content:"",active:!0,wordbreak:!0})),n(13,d+=1),j()}function P(){n(3,u[d].props.active=!1,u),d>0&&n(13,d-=1),n(3,u[d].props.active=!0,u)}function T(){n(3,u[d].props.active=!1,u),d<u.length-1&&n(13,d+=1),n(3,u[d].props.active=!0,u)}function F(){let K="";for(const G of u)K+=`${G.props.content}
`;K=K.slice(0,-1);let we=l.endsWith(".html")?"html":"text";if(l in Ye.current_node.files){const G=Ye.current_node.files[l];G.set_content(K).set_modified_date(Date.now()).set_virtual().set_virtual_write_needed(),Ye.fs.vfs.persist(G)}else{const G=mt.init(l,l,Ye.current_node,we).set_content(K).set_modified_date(Date.now()).set_mounted().set_virtual();Ye.current_node.add_node(G),Ye.fs.vfs.persist(G)}p=!1,n(2,f=l)}function k(){n(3,u=[]);let K=a.split(`
`);for(let we of K)u.push(me(Oe,{id:u.length,content:we,active:!1,wordbreak:!0}));n(13,d=u.length-1)}function j(){p||(p=!0,n(2,f=`*${f}`))}function fe(){n(4,b=u[d].props.content)}function Z(K){!i&&t!="init"&&!ve&&A.input(K)}function ee(K){!i&&t!="init"&&ve&&A.input(K)}function te(){t=="edit"?$(b):n(0,l=b)}const A=qn("init",{init:{start:"edit"},edit:{_enter(){n(3,u[d].props.active=!0,u)},input(K){switch(K.key){case"Enter":S();break;case"Backspace":R();break;case"ArrowUp":P();break;case"ArrowDown":T();break;default:if(K.ctrlKey&&K.key=="s")return K instanceof KeyboardEvent&&K.preventDefault(),"choose_name";if(K.ctrlKey&&K.key=="x")return p?(h=!0,"unsaved"):"terminate";if(Bn.printable.includes(K.key)){ve?$(b):x(K.key);break}}},_exit(){n(3,u[d].props.active=!1,u)}},unsaved:{input(K){switch(K.key){case"y":return"choose_name";case"n":return"terminate";default:if(K.ctrlKey&&K.key=="c")return h=!1,"edit"}}},choose_name:{_enter(){n(4,b=l)},input(K){switch(K.key){case"Enter":return F(),h?"terminate":"edit";case"Backspace":if(!ve)n(0,l=l.slice(0,-1));else{if(b.includes(" "))break;n(0,l=b)}break;default:if(K.ctrlKey&&K.key=="c")return"edit";if(Bn.printable.includes(K.key)){if(K.key==" ")break;if(!ve)n(0,l+=K.key);else{if(b.includes(" "))break;n(0,l=b)}break}}},_exit(){n(4,b=u[d].props.content)}},terminate:{_enter(){Pt.terminate(c)}}});fr(s,A,K=>n(5,t=K)),Et(async()=>{a!=""&&k(),A.start()});const Q=K=>ee(K.detail),U=K=>ee(K.detail),X=()=>ee(ke.artificial("c",!0));function q(K){b=K,n(4,b)}const ge=K=>ee(K.detail);return s.$$set=K=>{"pid"in K&&n(10,r=K.pid),"hidden"in K&&n(1,i=K.hidden),"ipc_channel"in K&&n(11,o=K.ipc_channel),"file_name"in K&&n(0,l=K.file_name),"initial"in K&&n(12,a=K.initial)},s.$$.update=()=>{s.$$.dirty[0]&8192&&fe()},[l,i,f,u,b,t,Z,ee,te,A,r,o,a,d,Q,U,X,q,ge]}class hl extends re{constructor(e){super(),ie(this,e,Mg,Og,se,{pid:10,hidden:1,ipc_channel:11,file_name:0,initial:12},null,[-1,-1])}}function Wg(s){let e,n;return{c(){e=O("span"),n=le(s[0])},l(t){e=M(t,"SPAN",{});var r=z(e);n=ce(r,s[0]),r.forEach(m)},m(t,r){y(t,e,r),N(e,n)},p(t,[r]){r&1&&De(n,t[0])},i:V,o:V,d(t){t&&m(e)}}}function Dg(s,e,n){let{content:t}=e;return s.$$set=r=>{"content"in r&&n(0,t=r.content)},[t]}class jg extends re{constructor(e){super(),ie(this,e,Dg,Wg,se,{content:0})}}class vr{static empty(){return null}static text(e){return me(jg,{content:e})}static html(e){return me(ro,{content:e})}static component(e,n){return me(e,n)}}class Gr extends Error{constructor(e){super("Failed to load the file."),this.name="LoadError",this.response=e}}class Ng extends pr{constructor(){super("editor")}async load_file(e){const n=new wn(e[0]);if(!n.valid)throw new Gr(kr(1,vr.html(`<br>Location ${n.raw} invalid!<br><br>`)));const t=Ye.copy();try{if(await t.move(n.raw),t.current_node.mounted||await t.load(),t.current_node instanceof mt){if(t.current_node.api_type==mt.api_types.text)return[t.current_node.name,t.current_node.content];throw new Gr(kr(2,vr.html(`<br> ${t.current_node} cannot be read.<br><br>`)))}else throw new Gr(kr(3,vr.html(`<br> ${t.current_node} is not a file!<br><br>`)))}catch(r){throw console.devlog(r),new Gr(kr(4,vr.html("<br>Cannot open file!<br><br>")))}}async exec(e){if(e.length>0)try{let[n,t]=await this.load_file(e);return console.devlog(`editor: "${n}" "${t}"`),new ln(new Vn(this.name,hl,{file_name:n,initial:t}))}catch(n){return n instanceof Gr?n.response:kr(5,vr.empty())}return new ln(new Vn(this.name,hl))}}const Lg=new Ng;class Bg{constructor(e,n,t,r){this.id=e,this.title=n,this.audio=t,this.duration=t.duration,this.credits=r}format_duration(){let e=new Date(0);return e.setSeconds(this.duration),e.toISOString().substring(11,19)}}class zg{constructor(e,n,t,r){this.author=e,this.author_link=n,this.site=t,this.music_link=r}}class mi{constructor(){this._promise=new Promise((e,n)=>{this.resolve=e,this.reject=n}),this.then=this._promise.then.bind(this._promise),this.catch=this._promise.catch.bind(this._promise),this[Symbol.toStringTag]="Promise"}}function Ug(s){let e,n,t,r,i,o,l;return{c(){e=O("div"),n=O("span"),t=le(s[0]),r=O("span"),i=le(s[1]),o=O("span"),l=le(s[2]),this.h()},l(a){e=M(a,"DIV",{class:!0});var c=z(e);n=M(c,"SPAN",{class:!0});var f=z(n);t=ce(f,s[0]),f.forEach(m),r=M(c,"SPAN",{class:!0});var u=z(r);i=ce(u,s[1]),u.forEach(m),o=M(c,"SPAN",{class:!0});var d=z(o);l=ce(d,s[2]),d.forEach(m),c.forEach(m),this.h()},h(){B(n,"class","id svelte-1bg8j6a"),B(r,"class","title svelte-1bg8j6a"),B(o,"class","duration svelte-1bg8j6a"),B(e,"class","svelte-1bg8j6a"),rs(e,"selected",s[3])},m(a,c){y(a,e,c),N(e,n),N(n,t),N(e,r),N(r,i),N(e,o),N(o,l)},p(a,[c]){c&1&&De(t,a[0]),c&2&&De(i,a[1]),c&4&&De(l,a[2]),c&8&&rs(e,"selected",a[3])},i:V,o:V,d(a){a&&m(e)}}}function Fg(s,e,n){let{id:t}=e,{title:r}=e,{duration:i}=e,{selected:o=!1}=e;return s.$$set=l=>{"id"in l&&n(0,t=l.id),"title"in l&&n(1,r=l.title),"duration"in l&&n(2,i=l.duration),"selected"in l&&n(3,o=l.selected)},[t,r,i,o]}class Vg extends re{constructor(e){super(),ie(this,e,Fg,Ug,se,{id:0,title:1,duration:2,selected:3})}}function qg(s){let e,n,t,r,i,o,l,a,c,f,u,d;return e=new Te({props:{descriptor:"Play",pos:"g-1-1",color:ae.c1_b_bs_c}}),e.$on("click",s[1]),t=new Te({props:{descriptor:"Info",pos:"g-1-2",color:ae.c1_b_bs_c}}),t.$on("click",s[2]),i=new Te({props:{descriptor:"^",pos:"g-1-3",color:ae.c1_b_bs_c}}),i.$on("click",s[3]),l=new Te({props:{descriptor:"Minimize",pos:"g-2-1",color:ae.c1_b_bs_c}}),l.$on("click",s[4]),c=new Te({props:{descriptor:"Exit",pos:"g-2-2",color:ae.c1_b_bs_c}}),c.$on("click",s[5]),u=new Te({props:{descriptor:"v",pos:"g-2-3",color:ae.c1_b_bs_c}}),u.$on("click",s[6]),{c(){v(e.$$.fragment),n=W(),v(t.$$.fragment),r=W(),v(i.$$.fragment),o=W(),v(l.$$.fragment),a=W(),v(c.$$.fragment),f=W(),v(u.$$.fragment)},l(p){E(e.$$.fragment,p),n=D(p),E(t.$$.fragment,p),r=D(p),E(i.$$.fragment,p),o=D(p),E(l.$$.fragment,p),a=D(p),E(c.$$.fragment,p),f=D(p),E(u.$$.fragment,p)},m(p,h){w(e,p,h),y(p,n,h),w(t,p,h),y(p,r,h),w(i,p,h),y(p,o,h),w(l,p,h),y(p,a,h),w(c,p,h),y(p,f,h),w(u,p,h),d=!0},p:V,i(p){d||(g(e.$$.fragment,p),g(t.$$.fragment,p),g(i.$$.fragment,p),g(l.$$.fragment,p),g(c.$$.fragment,p),g(u.$$.fragment,p),d=!0)},o(p){_(e.$$.fragment,p),_(t.$$.fragment,p),_(i.$$.fragment,p),_(l.$$.fragment,p),_(c.$$.fragment,p),_(u.$$.fragment,p),d=!1},d(p){C(e,p),p&&m(n),C(t,p),p&&m(r),C(i,p),p&&m(o),C(l,p),p&&m(a),C(c,p),p&&m(f),C(u,p)}}}function Gg(s){const e=at();return[e,()=>e("vinput",ke.artificial("p")),()=>e("vinput",ke.artificial("i")),()=>e("vinput",ke.artificial("ArrowUp")),()=>e("vinput",ke.artificial("m")),()=>e("vinput",ke.artificial("x")),()=>e("vinput",ke.artificial("ArrowDown"))]}class Jg extends re{constructor(e){super(),ie(this,e,Gg,qg,se,{})}}function Qg(s){let e,n;return e=new Te({props:{descriptor:"Resume",pos:"g-1-2",color:ae.c1_b_bs_c}}),e.$on("click",s[4]),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p:V,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Kg(s){let e,n;return e=new Te({props:{descriptor:"Pause",pos:"g-1-2",color:ae.c1_b_bs_c}}),e.$on("click",s[3]),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p:V,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Hg(s){let e,n,t,r,i,o,l,a,c,f,u,d,p;e=new Te({props:{descriptor:"<",pos:"g-1-1",color:ae.c1_b_bs_c}}),e.$on("click",s[2]);const h=[Kg,Qg],b=[];function x($,R){return $[0]?1:0}return t=x(s),r=b[t]=h[t](s),o=new Te({props:{descriptor:">",pos:"g-1-3",color:ae.c1_b_bs_c}}),o.$on("click",s[5]),a=new Te({props:{descriptor:"Stop",pos:"g-2-1",color:ae.c1_b_bs_c}}),a.$on("click",s[6]),f=new Te({props:{descriptor:"Minimize",pos:"g-2-2",color:ae.c1_b_bs_c}}),f.$on("click",s[7]),d=new Te({props:{descriptor:"Exit",pos:"g-2-3",color:ae.c1_b_bs_c}}),d.$on("click",s[8]),{c(){v(e.$$.fragment),n=W(),r.c(),i=W(),v(o.$$.fragment),l=W(),v(a.$$.fragment),c=W(),v(f.$$.fragment),u=W(),v(d.$$.fragment)},l($){E(e.$$.fragment,$),n=D($),r.l($),i=D($),E(o.$$.fragment,$),l=D($),E(a.$$.fragment,$),c=D($),E(f.$$.fragment,$),u=D($),E(d.$$.fragment,$)},m($,R){w(e,$,R),y($,n,R),b[t].m($,R),y($,i,R),w(o,$,R),y($,l,R),w(a,$,R),y($,c,R),w(f,$,R),y($,u,R),w(d,$,R),p=!0},p($,[R]){let S=t;t=x($),t===S?b[t].p($,R):(de(),_(b[S],1,1,()=>{b[S]=null}),pe(),r=b[t],r?r.p($,R):(r=b[t]=h[t]($),r.c()),g(r,1),r.m(i.parentNode,i))},i($){p||(g(e.$$.fragment,$),g(r),g(o.$$.fragment,$),g(a.$$.fragment,$),g(f.$$.fragment,$),g(d.$$.fragment,$),p=!0)},o($){_(e.$$.fragment,$),_(r),_(o.$$.fragment,$),_(a.$$.fragment,$),_(f.$$.fragment,$),_(d.$$.fragment,$),p=!1},d($){C(e,$),$&&m(n),b[t].d($),$&&m(i),C(o,$),$&&m(l),C(a,$),$&&m(c),C(f,$),$&&m(u),C(d,$)}}}function Xg(s,e,n){let{paused:t=!1}=e;const r=at(),i=()=>r("vinput",ke.artificial("ArrowLeft")),o=()=>r("vinput",ke.artificial("p")),l=()=>r("vinput",ke.artificial("r")),a=()=>r("vinput",ke.artificial("ArrowRight")),c=()=>r("vinput",ke.artificial("s")),f=()=>r("vinput",ke.artificial("m")),u=()=>r("vinput",ke.artificial("x"));return s.$$set=d=>{"paused"in d&&n(0,t=d.paused)},[t,r,i,o,l,a,c,f,u]}let jc=class extends re{constructor(e){super(),ie(this,e,Xg,Hg,se,{paused:0})}};function Yg(s){let e,n,t,r;return e=new Ie({props:{key:"P",desc:"Play",pos:"g-1",color:ae.c1_b_bg_c$dg}}),t=new Ie({props:{key:"M",desc:"Minimize",pos:"g-2",color:ae.c1_b_bg_c$dg}}),{c(){v(e.$$.fragment),n=W(),v(t.$$.fragment)},l(i){E(e.$$.fragment,i),n=D(i),E(t.$$.fragment,i)},m(i,o){w(e,i,o),y(i,n,o),w(t,i,o),r=!0},p:V,i(i){r||(g(e.$$.fragment,i),g(t.$$.fragment,i),r=!0)},o(i){_(e.$$.fragment,i),_(t.$$.fragment,i),r=!1},d(i){C(e,i),i&&m(n),C(t,i)}}}function Zg(s){let e,n,t,r;return e=new Ie({props:{key:"I",desc:"Info",pos:"g-1",color:ae.c1_b_bg_c$dg,padleft:!0}}),t=new Ie({props:{key:"X",desc:"Exit",pos:"g-2",color:ae.c1_b_bg_c$dg,padleft:!0}}),{c(){v(e.$$.fragment),n=W(),v(t.$$.fragment)},l(i){E(e.$$.fragment,i),n=D(i),E(t.$$.fragment,i)},m(i,o){w(e,i,o),y(i,n,o),w(t,i,o),r=!0},p:V,i(i){r||(g(e.$$.fragment,i),g(t.$$.fragment,i),r=!0)},o(i){_(e.$$.fragment,i),_(t.$$.fragment,i),r=!1},d(i){C(e,i),i&&m(n),C(t,i)}}}function e_(s){let e,n,t,r;return e=new et({props:{pos:"g-1",$$slots:{default:[Yg]},$$scope:{ctx:s}}}),t=new et({props:{pos:"g-2",$$slots:{default:[Zg]},$$scope:{ctx:s}}}),{c(){v(e.$$.fragment),n=W(),v(t.$$.fragment)},l(i){E(e.$$.fragment,i),n=D(i),E(t.$$.fragment,i)},m(i,o){w(e,i,o),y(i,n,o),w(t,i,o),r=!0},p(i,o){const l={};o&1&&(l.$$scope={dirty:o,ctx:i}),e.$set(l);const a={};o&1&&(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i(i){r||(g(e.$$.fragment,i),g(t.$$.fragment,i),r=!0)},o(i){_(e.$$.fragment,i),_(t.$$.fragment,i),r=!1},d(i){C(e,i),i&&m(n),C(t,i)}}}function t_(s){let e,n;return e=new Wt({props:{$$slots:{default:[e_]},$$scope:{ctx:s}}}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p(t,[r]){const i={};r&1&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}class n_ extends re{constructor(e){super(),ie(this,e,null,t_,se,{})}}function r_(s){let e,n,t,r;return e=new Ie({props:{key:"B",desc:"Back",pos:"g-1",color:ae.c1_b_bg_c$dg}}),t=new Ie({props:{pos:"g-2",color:ae.c1_b_bg_c$dg}}),{c(){v(e.$$.fragment),n=W(),v(t.$$.fragment)},l(i){E(e.$$.fragment,i),n=D(i),E(t.$$.fragment,i)},m(i,o){w(e,i,o),y(i,n,o),w(t,i,o),r=!0},p:V,i(i){r||(g(e.$$.fragment,i),g(t.$$.fragment,i),r=!0)},o(i){_(e.$$.fragment,i),_(t.$$.fragment,i),r=!1},d(i){C(e,i),i&&m(n),C(t,i)}}}function i_(s){let e,n;return e=new et({props:{pos:"g-1",$$slots:{default:[r_]},$$scope:{ctx:s}}}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p(t,r){const i={};r&1&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function s_(s){let e,n;return e=new Wt({props:{$$slots:{default:[i_]},$$scope:{ctx:s}}}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p(t,[r]){const i={};r&1&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}class o_ extends re{constructor(e){super(),ie(this,e,null,s_,se,{})}}function a_(s){let e,n,t,r;return{c(){e=O("div"),n=O("div"),this.h()},l(i){e=M(i,"DIV",{class:!0});var o=z(e);n=M(o,"DIV",{class:!0,style:!0}),z(n).forEach(m),o.forEach(m),this.h()},h(){B(n,"class",t="bar "+s[1]+" svelte-z44mxr"),fa(n,"width",s[2]+"%"),B(e,"class",r=Ln(s[0])+" svelte-z44mxr")},m(i,o){y(i,e,o),N(e,n)},p(i,[o]){o&2&&t!==(t="bar "+i[1]+" svelte-z44mxr")&&B(n,"class",t),o&4&&fa(n,"width",i[2]+"%"),o&1&&r!==(r=Ln(i[0])+" svelte-z44mxr")&&B(e,"class",r)},i:V,o:V,d(i){i&&m(e)}}}function l_(s,e,n){let{color_frame:t=ae.c1_b_bb}=e,{color_bar:r=ae.c1_b_bg}=e,{progress:i=0}=e;return s.$$set=o=>{"color_frame"in o&&n(0,t=o.color_frame),"color_bar"in o&&n(1,r=o.color_bar),"progress"in o&&n(2,i=o.progress)},[t,r,i]}class c_ extends re{constructor(e){super(),ie(this,e,l_,a_,se,{color_frame:0,color_bar:1,progress:2})}}function f_(s){let e,n;return e=new c_({props:{progress:s[2],color_frame:ae.c1_bb,color_bar:ae.c1_b_bg_c$dg}}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p(t,r){const i={};r&4&&(i.progress=t[2]),e.$set(i)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function u_(s){let e,n;return e=new et({props:{pos:"g-1",$$slots:{default:[f_]},$$scope:{ctx:s}}}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p(t,r){const i={};r&12&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function ml(s){let e,n;return e=new Wt({props:{$$slots:{default:[b_]},$$scope:{ctx:s}}}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p(t,r){const i={};r&10&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function d_(s){let e,n,t,r;return e=new Ie({props:{key:"<",desc:"Back",pos:"g-1",color:ae.c1_b_bg_c$dg}}),t=new Ie({props:{key:"M",desc:"Minimize",pos:"g-2",color:ae.c1_b_bg_c$dg}}),{c(){v(e.$$.fragment),n=W(),v(t.$$.fragment)},l(i){E(e.$$.fragment,i),n=D(i),E(t.$$.fragment,i)},m(i,o){w(e,i,o),y(i,n,o),w(t,i,o),r=!0},p:V,i(i){r||(g(e.$$.fragment,i),g(t.$$.fragment,i),r=!0)},o(i){_(e.$$.fragment,i),_(t.$$.fragment,i),r=!1},d(i){C(e,i),i&&m(n),C(t,i)}}}function p_(s){let e,n;return e=new Ie({props:{key:"R",desc:"Resume",pos:"g-1",color:ae.c1_b_bg_c$dg,padleft:!0}}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p:V,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function h_(s){let e,n;return e=new Ie({props:{key:"P",desc:"Pause",pos:"g-1",color:ae.c1_b_bg_c$dg,padleft:!0}}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p:V,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function m_(s){let e,n,t,r,i;const o=[h_,p_],l=[];function a(c,f){return c[1]?1:0}return e=a(s),n=l[e]=o[e](s),r=new Ie({props:{key:"X",desc:"Exit",pos:"g-2",color:ae.c1_b_bg_c$dg,padleft:!0}}),{c(){n.c(),t=W(),v(r.$$.fragment)},l(c){n.l(c),t=D(c),E(r.$$.fragment,c)},m(c,f){l[e].m(c,f),y(c,t,f),w(r,c,f),i=!0},p(c,f){let u=e;e=a(c),e===u?l[e].p(c,f):(de(),_(l[u],1,1,()=>{l[u]=null}),pe(),n=l[e],n?n.p(c,f):(n=l[e]=o[e](c),n.c()),g(n,1),n.m(t.parentNode,t))},i(c){i||(g(n),g(r.$$.fragment,c),i=!0)},o(c){_(n),_(r.$$.fragment,c),i=!1},d(c){l[e].d(c),c&&m(t),C(r,c)}}}function g_(s){let e,n,t,r;return e=new Ie({props:{key:"S",desc:"Stop",pos:"g-1",color:ae.c1_b_bg_c$dg,padleft:!0}}),t=new Ie({props:{pos:"g-2",color:ae.c1_b_bg_c$dg}}),{c(){v(e.$$.fragment),n=W(),v(t.$$.fragment)},l(i){E(e.$$.fragment,i),n=D(i),E(t.$$.fragment,i)},m(i,o){w(e,i,o),y(i,n,o),w(t,i,o),r=!0},p:V,i(i){r||(g(e.$$.fragment,i),g(t.$$.fragment,i),r=!0)},o(i){_(e.$$.fragment,i),_(t.$$.fragment,i),r=!1},d(i){C(e,i),i&&m(n),C(t,i)}}}function __(s){let e,n,t,r;return e=new Ie({props:{key:">",desc:"Forth",pos:"g-1",color:ae.c1_b_bg_c$dg,padleft:!0}}),t=new Ie({props:{pos:"g-2",color:ae.c1_b_bg_c$dg}}),{c(){v(e.$$.fragment),n=W(),v(t.$$.fragment)},l(i){E(e.$$.fragment,i),n=D(i),E(t.$$.fragment,i)},m(i,o){w(e,i,o),y(i,n,o),w(t,i,o),r=!0},p:V,i(i){r||(g(e.$$.fragment,i),g(t.$$.fragment,i),r=!0)},o(i){_(e.$$.fragment,i),_(t.$$.fragment,i),r=!1},d(i){C(e,i),i&&m(n),C(t,i)}}}function b_(s){let e,n,t,r,i,o,l,a;return e=new et({props:{pos:"g-1",$$slots:{default:[d_]},$$scope:{ctx:s}}}),t=new et({props:{pos:"g-2",$$slots:{default:[m_]},$$scope:{ctx:s}}}),i=new et({props:{pos:"g-3",$$slots:{default:[g_]},$$scope:{ctx:s}}}),l=new et({props:{pos:"g-4",$$slots:{default:[__]},$$scope:{ctx:s}}}),{c(){v(e.$$.fragment),n=W(),v(t.$$.fragment),r=W(),v(i.$$.fragment),o=W(),v(l.$$.fragment)},l(c){E(e.$$.fragment,c),n=D(c),E(t.$$.fragment,c),r=D(c),E(i.$$.fragment,c),o=D(c),E(l.$$.fragment,c)},m(c,f){w(e,c,f),y(c,n,f),w(t,c,f),y(c,r,f),w(i,c,f),y(c,o,f),w(l,c,f),a=!0},p(c,f){const u={};f&8&&(u.$$scope={dirty:f,ctx:c}),e.$set(u);const d={};f&10&&(d.$$scope={dirty:f,ctx:c}),t.$set(d);const p={};f&8&&(p.$$scope={dirty:f,ctx:c}),i.$set(p);const h={};f&8&&(h.$$scope={dirty:f,ctx:c}),l.$set(h)},i(c){a||(g(e.$$.fragment,c),g(t.$$.fragment,c),g(i.$$.fragment,c),g(l.$$.fragment,c),a=!0)},o(c){_(e.$$.fragment,c),_(t.$$.fragment,c),_(i.$$.fragment,c),_(l.$$.fragment,c),a=!1},d(c){C(e,c),c&&m(n),C(t,c),c&&m(r),C(i,c),c&&m(o),C(l,c)}}}function $_(s){let e,n,t,r;e=new Wt({props:{$$slots:{default:[u_]},$$scope:{ctx:s}}});let i=!s[0]&&ml(s);return{c(){v(e.$$.fragment),n=W(),i&&i.c(),t=J()},l(o){E(e.$$.fragment,o),n=D(o),i&&i.l(o),t=J()},m(o,l){w(e,o,l),y(o,n,l),i&&i.m(o,l),y(o,t,l),r=!0},p(o,[l]){const a={};l&12&&(a.$$scope={dirty:l,ctx:o}),e.$set(a),o[0]?i&&(de(),_(i,1,1,()=>{i=null}),pe()):i?(i.p(o,l),l&1&&g(i,1)):(i=ml(o),i.c(),g(i,1),i.m(t.parentNode,t))},i(o){r||(g(e.$$.fragment,o),g(i),r=!0)},o(o){_(e.$$.fragment,o),_(i),r=!1},d(o){C(e,o),o&&m(n),i&&i.d(o),o&&m(t)}}}function x_(s,e,n){let{mobile:t=!1}=e,{paused:r=!1}=e,{progress:i=0}=e;return s.$$set=o=>{"mobile"in o&&n(0,t=o.mobile),"paused"in o&&n(1,r=o.paused),"progress"in o&&n(2,i=o.progress)},[t,r,i]}class Nc extends re{constructor(e){super(),ie(this,e,x_,$_,se,{mobile:0,paused:1,progress:2})}}function y_(s){let e,n,t,r,i,o,l,a,c,f;return o=new jr({props:{url:s[1].author_link,text:s[1].author}}),a=new jr({props:{url:s[1].music_link,text:s[1].site}}),{c(){e=O("div"),n=le("Song "),t=O("span"),r=le(s[0]),i=le(" by "),v(o.$$.fragment),l=le(" from "),v(a.$$.fragment),c=le("."),this.h()},l(u){e=M(u,"DIV",{});var d=z(e);n=ce(d,"Song "),t=M(d,"SPAN",{class:!0});var p=z(t);r=ce(p,s[0]),p.forEach(m),i=ce(d," by "),E(o.$$.fragment,d),l=ce(d," from "),E(a.$$.fragment,d),c=ce(d,"."),d.forEach(m),this.h()},h(){B(t,"class","italic svelte-391i5z")},m(u,d){y(u,e,d),N(e,n),N(e,t),N(t,r),N(e,i),w(o,e,null),N(e,l),w(a,e,null),N(e,c),f=!0},p(u,[d]){(!f||d&1)&&De(r,u[0]);const p={};d&2&&(p.url=u[1].author_link),d&2&&(p.text=u[1].author),o.$set(p);const h={};d&2&&(h.url=u[1].music_link),d&2&&(h.text=u[1].site),a.$set(h)},i(u){f||(g(o.$$.fragment,u),g(a.$$.fragment,u),f=!0)},o(u){_(o.$$.fragment,u),_(a.$$.fragment,u),f=!1},d(u){u&&m(e),C(o),C(a)}}}function k_(s,e,n){let{title:t}=e,{credits:r}=e;return Et(async()=>{n(0,t=t.split(".")[0])}),s.$$set=i=>{"title"in i&&n(0,t=i.title),"credits"in i&&n(1,r=i.credits)},[t,r]}class v_ extends re{constructor(e){super(),ie(this,e,k_,y_,se,{title:0,credits:1})}}function w_(s){let e,n,t,r,i,o,l;return{c(){e=O("div"),n=O("span"),t=le(s[0]),r=O("span"),i=le(s[1]),o=O("span"),l=le(s[2]),this.h()},l(a){e=M(a,"DIV",{class:!0});var c=z(e);n=M(c,"SPAN",{class:!0});var f=z(n);t=ce(f,s[0]),f.forEach(m),r=M(c,"SPAN",{class:!0});var u=z(r);i=ce(u,s[1]),u.forEach(m),o=M(c,"SPAN",{class:!0});var d=z(o);l=ce(d,s[2]),d.forEach(m),c.forEach(m),this.h()},h(){B(n,"class","id svelte-3r2rk5"),B(r,"class","title svelte-3r2rk5"),B(o,"class","duration svelte-3r2rk5"),B(e,"class","svelte-3r2rk5")},m(a,c){y(a,e,c),N(e,n),N(n,t),N(e,r),N(r,i),N(e,o),N(o,l)},p(a,[c]){c&1&&De(t,a[0]),c&2&&De(i,a[1]),c&4&&De(l,a[2])},i:V,o:V,d(a){a&&m(e)}}}function C_(s,e,n){let{id:t}=e,{title:r}=e,{duration:i}=e;return s.$$set=o=>{"id"in o&&n(0,t=o.id),"title"in o&&n(1,r=o.title),"duration"in o&&n(2,i=o.duration)},[t,r,i]}class gl extends re{constructor(e){super(),ie(this,e,C_,w_,se,{id:0,title:1,duration:2})}}function _l(s,e,n){const t=s.slice();return t[25]=e[n],t[27]=n,t}function S_(s){let e,n,t,r,i,o;e=new gl({props:{id:"Id",title:"Title",duration:"Duration"}}),t=new gl({props:{id:"--",title:"-----",duration:"--------"}});let l=s[1],a=[];for(let f=0;f<l.length;f+=1)a[f]=bl(_l(s,l,f));const c=f=>_(a[f],1,1,()=>{a[f]=null});return{c(){v(e.$$.fragment),n=W(),v(t.$$.fragment),r=W();for(let f=0;f<a.length;f+=1)a[f].c();i=J()},l(f){E(e.$$.fragment,f),n=D(f),E(t.$$.fragment,f),r=D(f);for(let u=0;u<a.length;u+=1)a[u].l(f);i=J()},m(f,u){w(e,f,u),y(f,n,u),w(t,f,u),y(f,r,u);for(let d=0;d<a.length;d+=1)a[d]&&a[d].m(f,u);y(f,i,u),o=!0},p(f,u){if(u&6){l=f[1];let d;for(d=0;d<l.length;d+=1){const p=_l(f,l,d);a[d]?(a[d].p(p,u),g(a[d],1)):(a[d]=bl(p),a[d].c(),g(a[d],1),a[d].m(i.parentNode,i))}for(de(),d=l.length;d<a.length;d+=1)c(d);pe()}},i(f){if(!o){g(e.$$.fragment,f),g(t.$$.fragment,f);for(let u=0;u<l.length;u+=1)g(a[u]);o=!0}},o(f){_(e.$$.fragment,f),_(t.$$.fragment,f),a=a.filter(Boolean);for(let u=0;u<a.length;u+=1)_(a[u]);o=!1},d(f){C(e,f),f&&m(n),C(t,f),f&&m(r),It(a,f),f&&m(i)}}}function E_(s){let e,n;return e=new v_({props:{title:s[1][s[2]].title,credits:s[1][s[2]].credits}}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p(t,r){const i={};r&6&&(i.title=t[1][t[2]].title),r&6&&(i.credits=t[1][t[2]].credits),e.$set(i)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function bl(s){let e,n;return e=new Vg({props:{id:`${s[25].id+1}.`,title:s[25].title,duration:s[25].format_duration(),selected:s[27]==s[2]}}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p(t,r){const i={};r&2&&(i.id=`${t[25].id+1}.`),r&2&&(i.title=t[25].title),r&2&&(i.duration=t[25].format_duration()),r&4&&(i.selected=t[27]==t[2]),e.$set(i)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function R_(s){let e,n;return e=new Nc({props:{mobile:ve,paused:!0,progress:s[3]}}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p(t,r){const i={};r&8&&(i.progress=t[3]),e.$set(i)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function T_(s){let e,n;return e=new Nc({props:{mobile:ve,paused:!1,progress:s[3]}}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p(t,r){const i={};r&8&&(i.progress=t[3]),e.$set(i)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function P_(s){let e,n;return e=new o_({}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p:V,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function A_(s){let e,n;return e=new n_({}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p:V,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function I_(s){let e,n;return e=new Yt({props:{$$slots:{default:[j_]},$$scope:{ctx:s}}}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p(t,r){const i={};r&268435472&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function O_(s){let e,n;return e=new jc({props:{paused:!0}}),e.$on("vinput",s[13]),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p:V,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function M_(s){let e,n;return e=new jc({props:{paused:!1}}),e.$on("vinput",s[12]),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p:V,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function W_(s){let e,n;return e=new Te({props:{descriptor:"Back",pos:"g-1-1",color:ae.c1_b_bs_c}}),e.$on("click",s[11]),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p:V,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function D_(s){let e,n;return e=new Jg({}),e.$on("vinput",s[10]),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p:V,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function j_(s){let e,n,t,r;const i=[D_,W_,M_,O_],o=[];function l(a,c){return a[4]=="idle"?0:a[4]=="credits"?1:a[4]=="play"?2:a[4]=="pause"?3:-1}return~(e=l(s))&&(n=o[e]=i[e](s)),{c(){n&&n.c(),t=J()},l(a){n&&n.l(a),t=J()},m(a,c){~e&&o[e].m(a,c),y(a,t,c),r=!0},p(a,c){let f=e;e=l(a),e===f?~e&&o[e].p(a,c):(n&&(de(),_(o[f],1,1,()=>{o[f]=null}),pe()),~e?(n=o[e],n?n.p(a,c):(n=o[e]=i[e](a),n.c()),g(n,1),n.m(t.parentNode,t)):n=null)},i(a){r||(g(n),r=!0)},o(a){_(n),r=!1},d(a){~e&&o[e].d(a),a&&m(t)}}}function N_(s){let e,n,t,r,i,o,l,a,c,f,u;const d=[E_,S_],p=[];function h(S,P){return S[4]=="credits"?0:1}n=h(s),t=p[n]=d[n](s);const b=[A_,P_,T_,R_],x=[];function $(S,P){return S[4]=="idle"&&!ve?0:S[4]=="credits"&&!ve?1:S[4]=="play"?2:S[4]=="pause"?3:-1}~(o=$(s))&&(l=x[o]=b[o](s));let R=ve&&I_(s);return{c(){e=O("div"),t.c(),r=W(),i=O("div"),l&&l.c(),c=W(),R&&R.c(),f=J(),this.h()},l(S){e=M(S,"DIV",{class:!0});var P=z(e);t.l(P),P.forEach(m),r=D(S),i=M(S,"DIV",{class:!0});var T=z(i);l&&l.l(T),T.forEach(m),c=D(S),R&&R.l(S),f=J(),this.h()},h(){B(e,"class","content svelte-172kk5d"),B(i,"class",a="control "+(ve&&(s[4]=="idle"||s[4]=="credit")?"hidden":"")+" svelte-172kk5d")},m(S,P){y(S,e,P),p[n].m(e,null),y(S,r,P),y(S,i,P),~o&&x[o].m(i,null),y(S,c,P),R&&R.m(S,P),y(S,f,P),u=!0},p(S,P){let T=n;n=h(S),n===T?p[n].p(S,P):(de(),_(p[T],1,1,()=>{p[T]=null}),pe(),t=p[n],t?t.p(S,P):(t=p[n]=d[n](S),t.c()),g(t,1),t.m(e,null));let F=o;o=$(S),o===F?~o&&x[o].p(S,P):(l&&(de(),_(x[F],1,1,()=>{x[F]=null}),pe()),~o?(l=x[o],l?l.p(S,P):(l=x[o]=b[o](S),l.c()),g(l,1),l.m(i,null)):l=null),(!u||P&16&&a!==(a="control "+(ve&&(S[4]=="idle"||S[4]=="credit")?"hidden":"")+" svelte-172kk5d"))&&B(i,"class",a),ve&&R.p(S,P)},i(S){u||(g(t),g(l),g(R),u=!0)},o(S){_(t),_(l),_(R),u=!1},d(S){S&&m(e),p[n].d(),S&&m(r),S&&m(i),~o&&x[o].d(),S&&m(c),R&&R.d(S),S&&m(f)}}}function L_(s){let e,n,t,r,i;return n=new Ti({props:{hidden:s[0],name:"Tune",info:"Music Player",version:"v2.0",color:ae.c1_b_bg_c$dg,$$slots:{default:[N_]},$$scope:{ctx:s}}}),{c(){e=W(),v(n.$$.fragment)},l(o){e=D(o),E(n.$$.fragment,o)},m(o,l){y(o,e,l),w(n,o,l),t=!0,r||(i=Tt(document,"keydown",s[6]),r=!0)},p(o,[l]){const a={};l&1&&(a.hidden=o[0]),l&268435486&&(a.$$scope={dirty:l,ctx:o}),n.$set(a)},i(o){t||(g(n.$$.fragment,o),t=!0)},o(o){_(n.$$.fragment,o),t=!1},d(o){o&&m(e),C(n,o),r=!1,i()}}}function B_(s){const e=["mp3"];let n=s.split(".");return n.shift(),!!(n.length>0&&e.includes(n[0]))}function z_(s,e,n){let t,{pid:r}=e,{hidden:i=!1}=e,{ipc_channel:o}=e;const l=at();let a=[],c=0,f=0,u;const d=qn("idle",{idle:{input(ee){switch(ee.key){case"ArrowUp":S();break;case"ArrowDown":P();break;case"p":return"play";case"i":return"credits";case"x":return"terminate";case"m":Pt.minimize(l);break}},_exit(){}},credits:{input(ee){switch(ee.key){case"b":return"idle"}}},play:{_enter(){a[c].audio.play(),u=setInterval(p,300)},input(ee){switch(ee.key){case"ArrowLeft":$();break;case"ArrowRight":R();break;case"p":return"pause";case"s":return x(),"idle";case"m":Pt.minimize(l);break;case"x":return"terminate"}},_exit(){}},pause:{_enter(){a[c].audio.pause()},input(ee){switch(ee.key){case"ArrowLeft":$();break;case"ArrowRight":R();break;case"r":return"play";case"s":return x(),"idle";case"m":Pt.minimize(l);break;case"x":return"terminate"}},_exit(){}},terminate:{_enter(){a[c].audio.pause(),Pt.terminate(l)}}});fr(s,d,ee=>n(4,t=ee));function p(){const ee=a[c];n(3,f=ee.audio.currentTime/ee.duration*100)}async function h(){const ee=Ye.fs.get_iterator();await ee.move("user/music"),await ee.load(),ee.down("credits.json"),await ee.load();const te=ee.current_node.content;ee.up();const A=Object.entries(ee.current_node.files).sort((U,X)=>U[0].localeCompare(X[0])),Q=[];for(const[U,X]of A)if(B_(U)){const q="rootdir/"+new dn(X).to_descriptor(),ge=new Audio;ge.preload="metadata",ge.src=q;const K=new mi;console.dev(mi),Q.push(K),ge.addEventListener("loadedmetadata",()=>{const we=new zg(te[U].author,te[U]["author-link"],te[U].site,te[U]["music-link"]);a.push(new Bg(a.length,U,ge,we)),K.resolve()}),ge.addEventListener("canplay",()=>{}),ge.addEventListener("ended",()=>{ge.currentTime=0,P(),b()})}await Promise.all(Q),n(1,a),console.dev(a)}function b(){a[c].audio.play(),n(3,f=0)}function x(){clearInterval(u);const ee=a[c];ee.audio.pause(),ee.audio.currentTime=0,n(3,f=0)}function $(){const ee=a[c];ee.audio.currentTime-=5}function R(){const ee=a[c];ee.audio.currentTime+=5}function S(){n(2,c+=-1),c<0&&n(2,c=a.length-1)}function P(){n(2,c+=1),n(2,c=c%a.length)}function T(ee){!i&&!ve&&d.input(ee)}function F(ee){!i&&ve&&d.input(ee)}Et(async()=>{await h()});const k=ee=>F(ee.detail),j=()=>F(ke.artificial("b")),fe=ee=>F(ee.detail),Z=ee=>F(ee.detail);return s.$$set=ee=>{"pid"in ee&&n(8,r=ee.pid),"hidden"in ee&&n(0,i=ee.hidden),"ipc_channel"in ee&&n(9,o=ee.ipc_channel)},[i,a,c,f,t,d,T,F,r,o,k,j,fe,Z]}class U_ extends re{constructor(e){super(),ie(this,e,z_,L_,se,{pid:8,hidden:0,ipc_channel:9})}}class F_ extends pr{constructor(){super("tune")}async exec(){return new ln(new Vn(this.name,U_))}}const V_=new F_;function q_(s){let e,n,t,r;return{c(){e=O("div"),n=O("span"),t=le(s[0]),this.h()},l(i){e=M(i,"DIV",{class:!0});var o=z(e);n=M(o,"SPAN",{class:!0});var l=z(n);t=ce(l,s[0]),l.forEach(m),o.forEach(m),this.h()},h(){B(n,"class","svelte-1qgvkvs"),B(e,"class",r=Ln(s[1])+" svelte-1qgvkvs")},m(i,o){y(i,e,o),N(e,n),N(n,t)},p(i,[o]){o&1&&De(t,i[0]),o&2&&r!==(r=Ln(i[1])+" svelte-1qgvkvs")&&B(e,"class",r)},i:V,o:V,d(i){i&&m(e)}}}function G_(s,e,n){let{content:t=""}=e,{css_classes:r=""}=e;return s.$$set=i=>{"content"in i&&n(0,t=i.content),"css_classes"in i&&n(1,r=i.css_classes)},[t,r]}class Kt extends re{constructor(e){super(),ie(this,e,G_,q_,se,{content:0,css_classes:1})}}function J_(s){let e,n;return{c(){e=O("span"),n=le(s[0]),this.h()},l(t){e=M(t,"SPAN",{class:!0});var r=z(e);n=ce(r,s[0]),r.forEach(m),this.h()},h(){B(e,"class","svelte-1tqzm9u")},m(t,r){y(t,e,r),N(e,n)},p(t,r){r&1&&De(n,t[0])},d(t){t&&m(e)}}}function Q_(s){let e,n;return{c(){e=O("span"),n=le(s[0]),this.h()},l(t){e=M(t,"SPAN",{class:!0});var r=z(e);n=ce(r,s[0]),r.forEach(m),this.h()},h(){B(e,"class","preview svelte-1tqzm9u")},m(t,r){y(t,e,r),N(e,n)},p(t,r){r&1&&De(n,t[0])},d(t){t&&m(e)}}}function $l(s){let e,n;return e=new Cs({}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function K_(s){let e,n,t,r;function i(c,f){return c[3]?Q_:J_}let o=i(s),l=o(s),a=s[2]&&$l();return{c(){e=O("div"),l.c(),n=J(),a&&a.c(),this.h()},l(c){e=M(c,"DIV",{class:!0});var f=z(e);l.l(f),n=J(),a&&a.l(f),f.forEach(m),this.h()},h(){B(e,"class",t=s[1]+" "+(s[2]?"active":"")+" svelte-1tqzm9u")},m(c,f){y(c,e,f),l.m(e,null),N(e,n),a&&a.m(e,null),r=!0},p(c,[f]){o===(o=i(c))&&l?l.p(c,f):(l.d(1),l=o(c),l&&(l.c(),l.m(e,n))),c[2]?a?f&4&&g(a,1):(a=$l(),a.c(),g(a,1),a.m(e,null)):a&&(de(),_(a,1,1,()=>{a=null}),pe()),(!r||f&6&&t!==(t=c[1]+" "+(c[2]?"active":"")+" svelte-1tqzm9u"))&&B(e,"class",t)},i(c){r||(g(a),r=!0)},o(c){_(a),r=!1},d(c){c&&m(e),l.d(),a&&a.d()}}}function H_(s,e,n){let{content:t=""}=e,{css_classes:r=""}=e,{active:i=!1}=e,{preview:o=!1}=e;return s.$$set=l=>{"content"in l&&n(0,t=l.content),"css_classes"in l&&n(1,r=l.css_classes),"active"in l&&n(2,i=l.active),"preview"in l&&n(3,o=l.preview)},[t,r,i,o]}class X_ extends re{constructor(e){super(),ie(this,e,H_,K_,se,{content:0,css_classes:1,active:2,preview:3})}}class Ai extends fn{constructor(e,n,t,r){const i=Cn`
            margin: ${e}px ${n}px ${t}px ${r}px;
        `;super(i,[`mar_${e}_${n}_${t}_${r}`])}}class Y_ extends fn{constructor(e){const n=Cn`
            flex: ${e};
        `;super(n,[`flex_${e}`])}}function Z_(s){let e,n,t,r,i;return n=new Kt({props:{content:s[0],css_classes:s[4]}}),r=new X_({props:{content:s[1],active:s[2]}}),{c(){e=O("div"),v(n.$$.fragment),t=W(),v(r.$$.fragment),this.h()},l(o){e=M(o,"DIV",{class:!0});var l=z(e);E(n.$$.fragment,l),t=D(l),E(r.$$.fragment,l),l.forEach(m),this.h()},h(){B(e,"class",s[3])},m(o,l){y(o,e,l),w(n,e,null),N(e,t),w(r,e,null),i=!0},p(o,[l]){const a={};l&1&&(a.content=o[0]),n.$set(a);const c={};l&2&&(c.content=o[1]),l&4&&(c.active=o[2]),r.$set(c),(!i||l&8)&&B(e,"class",o[3])},i(o){i||(g(n.$$.fragment,o),g(r.$$.fragment,o),i=!0)},o(o){_(n.$$.fragment,o),_(r.$$.fragment,o),i=!1},d(o){o&&m(e),C(n),C(r)}}}function eb(s,e,n){let{title:t=""}=e,{content:r=""}=e,{active:i=!1}=e,{css_classes:o=""}=e;const l=new Ai(0,0,10,0).css_value;return s.$$set=a=>{"title"in a&&n(0,t=a.title),"content"in a&&n(1,r=a.content),"active"in a&&n(2,i=a.active),"css_classes"in a&&n(3,o=a.css_classes)},[t,r,i,o,l]}class Pr extends re{constructor(e){super(),ie(this,e,eb,Z_,se,{title:0,content:1,active:2,css_classes:3})}}function tb(s){let e,n,t,r,i,o,l,a,c,f,u,d,p;return n=new Kt({props:{content:s[0],css_classes:s[4]}}),o=new Pr({props:{title:"Days",content:s[1].days,active:s[2]&&s[3]==0}}),c=new Pr({props:{title:"Hours",content:s[1].hours,active:s[2]&&s[3]==1}}),d=new Pr({props:{title:"Minutes",content:s[1].minutes,active:s[2]&&s[3]==2}}),{c(){e=O("div"),v(n.$$.fragment),t=W(),r=O("div"),i=O("div"),v(o.$$.fragment),l=W(),a=O("div"),v(c.$$.fragment),f=W(),u=O("div"),v(d.$$.fragment),this.h()},l(h){e=M(h,"DIV",{class:!0});var b=z(e);E(n.$$.fragment,b),t=D(b),r=M(b,"DIV",{class:!0});var x=z(r);i=M(x,"DIV",{class:!0});var $=z(i);E(o.$$.fragment,$),$.forEach(m),l=D(x),a=M(x,"DIV",{class:!0});var R=z(a);E(c.$$.fragment,R),R.forEach(m),f=D(x),u=M(x,"DIV",{class:!0});var S=z(u);E(d.$$.fragment,S),S.forEach(m),x.forEach(m),b.forEach(m),this.h()},h(){B(i,"class","c1 svelte-1w7r17"),B(a,"class","c2 svelte-1w7r17"),B(u,"class","c3 svelte-1w7r17"),B(r,"class","grid svelte-1w7r17"),B(e,"class","multi svelte-1w7r17")},m(h,b){y(h,e,b),w(n,e,null),N(e,t),N(e,r),N(r,i),w(o,i,null),N(r,l),N(r,a),w(c,a,null),N(r,f),N(r,u),w(d,u,null),p=!0},p(h,[b]){const x={};b&1&&(x.content=h[0]),n.$set(x);const $={};b&2&&($.content=h[1].days),b&12&&($.active=h[2]&&h[3]==0),o.$set($);const R={};b&2&&(R.content=h[1].hours),b&12&&(R.active=h[2]&&h[3]==1),c.$set(R);const S={};b&2&&(S.content=h[1].minutes),b&12&&(S.active=h[2]&&h[3]==2),d.$set(S)},i(h){p||(g(n.$$.fragment,h),g(o.$$.fragment,h),g(c.$$.fragment,h),g(d.$$.fragment,h),p=!0)},o(h){_(n.$$.fragment,h),_(o.$$.fragment,h),_(c.$$.fragment,h),_(d.$$.fragment,h),p=!1},d(h){h&&m(e),C(n),C(o),C(c),C(d)}}}function nb(s,e,n){let{title:t=""}=e,{content:r={days:"0",hours:"0",seconds:"0"}}=e,{active:i=!1}=e,{selected:o=0}=e;const l=new Ai(0,0,10,0).css_value;return s.$$set=a=>{"title"in a&&n(0,t=a.title),"content"in a&&n(1,r=a.content),"active"in a&&n(2,i=a.active),"selected"in a&&n(3,o=a.selected)},[t,r,i,o,l]}class rb extends re{constructor(e){super(),ie(this,e,nb,tb,se,{title:0,content:1,active:2,selected:3})}}function ib(s){let e,n,t,r,i,o,l,a,c,f,u,d,p;return o=new Pr({props:{title:"URL",content:s[0].url,active:s[1]==0,css_classes:s[2]}}),a=new Pr({props:{title:"Key",content:s[0].key,active:s[1]==1,css_classes:s[2]}}),f=new rb({props:{title:"Expiration",content:s[0].expiration,active:s[1]==2,selected:s[0].expiration.selected}}),d=new Pr({props:{title:"Password",content:s[0].password,active:s[1]==3,css_classes:s[2]}}),{c(){e=O("div"),n=O("h3"),t=le("Create Link Record"),r=W(),i=O("div"),v(o.$$.fragment),l=W(),v(a.$$.fragment),c=W(),v(f.$$.fragment),u=W(),v(d.$$.fragment),this.h()},l(h){e=M(h,"DIV",{});var b=z(e);n=M(b,"H3",{});var x=z(n);t=ce(x,"Create Link Record"),x.forEach(m),r=D(b),i=M(b,"DIV",{class:!0});var $=z(i);E(o.$$.fragment,$),l=D($),E(a.$$.fragment,$),c=D($),E(f.$$.fragment,$),u=D($),E(d.$$.fragment,$),$.forEach(m),b.forEach(m),this.h()},h(){B(i,"class","form svelte-wjpyz2")},m(h,b){y(h,e,b),N(e,n),N(n,t),N(e,r),N(e,i),w(o,i,null),N(i,l),w(a,i,null),N(i,c),w(f,i,null),N(i,u),w(d,i,null),p=!0},p(h,[b]){const x={};b&1&&(x.content=h[0].url),b&2&&(x.active=h[1]==0),o.$set(x);const $={};b&1&&($.content=h[0].key),b&2&&($.active=h[1]==1),a.$set($);const R={};b&1&&(R.content=h[0].expiration),b&2&&(R.active=h[1]==2),b&1&&(R.selected=h[0].expiration.selected),f.$set(R);const S={};b&1&&(S.content=h[0].password),b&2&&(S.active=h[1]==3),d.$set(S)},i(h){p||(g(o.$$.fragment,h),g(a.$$.fragment,h),g(f.$$.fragment,h),g(d.$$.fragment,h),p=!0)},o(h){_(o.$$.fragment,h),_(a.$$.fragment,h),_(f.$$.fragment,h),_(d.$$.fragment,h),p=!1},d(h){h&&m(e),C(o),C(a),C(f),C(d)}}}function sb(s,e,n){let{contents:t={url:"",key:"",expiration:{days:10,hours:0,minutes:0,selected:0},password:""}}=e,{selected:r=0}=e;const i=new Ai(0,0,15,0).css_value;return s.$$set=o=>{"contents"in o&&n(0,t=o.contents),"selected"in o&&n(1,r=o.selected)},[t,r,i]}class ob extends re{constructor(e){super(),ie(this,e,sb,ib,se,{contents:0,selected:1})}}function xl(s){let e,n;return e=new Pi({props:{color:ae.c3_b_bg_c$lg,$$slots:{default:[ab]},$$scope:{ctx:s}}}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p(t,r){const i={};r&5&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function ab(s){let e,n;return{c(){e=O("span"),n=le(s[0])},l(t){e=M(t,"SPAN",{});var r=z(e);n=ce(r,s[0]),r.forEach(m)},m(t,r){y(t,e,r),N(e,n)},p(t,r){r&1&&De(n,t[0])},d(t){t&&m(e)}}}function yl(s){let e,n;return e=new Wt({props:{$$slots:{default:[fb]},$$scope:{ctx:s}}}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p(t,r){const i={};r&4&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function lb(s){let e,n,t,r;return e=new Ie({props:{key:"Enter ",desc:"Create",pos:"g-1",color:ae.c3_b_bg_c$lg}}),t=new Ie({props:{key:"strg+X",desc:"Exit",pos:"g-2",color:ae.c3_b_bg_c$lg}}),{c(){v(e.$$.fragment),n=W(),v(t.$$.fragment)},l(i){E(e.$$.fragment,i),n=D(i),E(t.$$.fragment,i)},m(i,o){w(e,i,o),y(i,n,o),w(t,i,o),r=!0},p:V,i(i){r||(g(e.$$.fragment,i),g(t.$$.fragment,i),r=!0)},o(i){_(e.$$.fragment,i),_(t.$$.fragment,i),r=!1},d(i){C(e,i),i&&m(n),C(t,i)}}}function cb(s){let e,n,t,r;return e=new Ie({props:{key:"strg+R",desc:"Recent",pos:"g-1",color:ae.c3_b_bg_c$lg,padleft:!0}}),t=new Ie({props:{pos:"g-2"}}),{c(){v(e.$$.fragment),n=W(),v(t.$$.fragment)},l(i){E(e.$$.fragment,i),n=D(i),E(t.$$.fragment,i)},m(i,o){w(e,i,o),y(i,n,o),w(t,i,o),r=!0},p:V,i(i){r||(g(e.$$.fragment,i),g(t.$$.fragment,i),r=!0)},o(i){_(e.$$.fragment,i),_(t.$$.fragment,i),r=!1},d(i){C(e,i),i&&m(n),C(t,i)}}}function fb(s){let e,n,t,r;return e=new et({props:{pos:"g-1",$$slots:{default:[lb]},$$scope:{ctx:s}}}),t=new et({props:{pos:"g-2",$$slots:{default:[cb]},$$scope:{ctx:s}}}),{c(){v(e.$$.fragment),n=W(),v(t.$$.fragment)},l(i){E(e.$$.fragment,i),n=D(i),E(t.$$.fragment,i)},m(i,o){w(e,i,o),y(i,n,o),w(t,i,o),r=!0},p(i,o){const l={};o&4&&(l.$$scope={dirty:o,ctx:i}),e.$set(l);const a={};o&4&&(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i(i){r||(g(e.$$.fragment,i),g(t.$$.fragment,i),r=!0)},o(i){_(e.$$.fragment,i),_(t.$$.fragment,i),r=!1},d(i){C(e,i),i&&m(n),C(t,i)}}}function ub(s){let e,n,t,r=s[0]&&xl(s),i=!s[1]&&yl(s);return{c(){r&&r.c(),e=W(),i&&i.c(),n=J()},l(o){r&&r.l(o),e=D(o),i&&i.l(o),n=J()},m(o,l){r&&r.m(o,l),y(o,e,l),i&&i.m(o,l),y(o,n,l),t=!0},p(o,[l]){o[0]?r?(r.p(o,l),l&1&&g(r,1)):(r=xl(o),r.c(),g(r,1),r.m(e.parentNode,e)):r&&(de(),_(r,1,1,()=>{r=null}),pe()),o[1]?i&&(de(),_(i,1,1,()=>{i=null}),pe()):i?(i.p(o,l),l&2&&g(i,1)):(i=yl(o),i.c(),g(i,1),i.m(n.parentNode,n))},i(o){t||(g(r),g(i),t=!0)},o(o){_(r),_(i),t=!1},d(o){r&&r.d(o),o&&m(e),i&&i.d(o),o&&m(n)}}}function db(s,e,n){let{status_msg:t}=e,{status_only:r=!1}=e;return s.$$set=i=>{"status_msg"in i&&n(0,t=i.status_msg),"status_only"in i&&n(1,r=i.status_only)},[t,r]}class pb extends re{constructor(e){super(),ie(this,e,db,ub,se,{status_msg:0,status_only:1})}}function hb(s){let e,n,t,r,i,o,l,a,c,f,u,d,p,h,b,x,$,R,S;return o=new Kt({props:{content:"The link record has been created and is ready to download."}}),a=new Kt({}),f=new Kt({props:{content:"File Name:",css_classes:s[2]}}),d=new Kt({props:{content:s[0]}}),h=new Kt({}),x=new Kt({props:{content:"Full link:",css_classes:s[2]}}),R=new jr({props:{url:s[1],text:s[1]}}),{c(){e=O("div"),n=O("h3"),t=le("Download Link Record"),r=W(),i=O("div"),v(o.$$.fragment),l=W(),v(a.$$.fragment),c=W(),v(f.$$.fragment),u=W(),v(d.$$.fragment),p=W(),v(h.$$.fragment),b=W(),v(x.$$.fragment),$=W(),v(R.$$.fragment),this.h()},l(P){e=M(P,"DIV",{});var T=z(e);n=M(T,"H3",{});var F=z(n);t=ce(F,"Download Link Record"),F.forEach(m),r=D(T),i=M(T,"DIV",{class:!0});var k=z(i);E(o.$$.fragment,k),l=D(k),E(a.$$.fragment,k),c=D(k),E(f.$$.fragment,k),u=D(k),E(d.$$.fragment,k),p=D(k),E(h.$$.fragment,k),b=D(k),E(x.$$.fragment,k),$=D(k),E(R.$$.fragment,k),k.forEach(m),T.forEach(m),this.h()},h(){B(i,"class","form svelte-wjpyz2")},m(P,T){y(P,e,T),N(e,n),N(n,t),N(e,r),N(e,i),w(o,i,null),N(i,l),w(a,i,null),N(i,c),w(f,i,null),N(i,u),w(d,i,null),N(i,p),w(h,i,null),N(i,b),w(x,i,null),N(i,$),w(R,i,null),S=!0},p(P,[T]){const F={};T&1&&(F.content=P[0]),d.$set(F);const k={};T&2&&(k.url=P[1]),T&2&&(k.text=P[1]),R.$set(k)},i(P){S||(g(o.$$.fragment,P),g(a.$$.fragment,P),g(f.$$.fragment,P),g(d.$$.fragment,P),g(h.$$.fragment,P),g(x.$$.fragment,P),g(R.$$.fragment,P),S=!0)},o(P){_(o.$$.fragment,P),_(a.$$.fragment,P),_(f.$$.fragment,P),_(d.$$.fragment,P),_(h.$$.fragment,P),_(x.$$.fragment,P),_(R.$$.fragment,P),S=!1},d(P){P&&m(e),C(o),C(a),C(f),C(d),C(h),C(x),C(R)}}}function mb(s,e,n){let{file_name:t=""}=e,{link:r="a"}=e;const i=new Ai(0,0,10,0).css_value;return s.$$set=o=>{"file_name"in o&&n(0,t=o.file_name),"link"in o&&n(1,r=o.link)},[t,r,i]}class gb extends re{constructor(e){super(),ie(this,e,mb,hb,se,{file_name:0,link:1})}}function _b(s){let e,n,t,r;return e=new Ie({props:{key:"D     ",desc:"Download",pos:"g-1",color:ae.c3_b_bg_c$lg}}),t=new Ie({props:{key:"strg+X",desc:"Exit",pos:"g-2",color:ae.c3_b_bg_c$lg}}),{c(){v(e.$$.fragment),n=W(),v(t.$$.fragment)},l(i){E(e.$$.fragment,i),n=D(i),E(t.$$.fragment,i)},m(i,o){w(e,i,o),y(i,n,o),w(t,i,o),r=!0},p:V,i(i){r||(g(e.$$.fragment,i),g(t.$$.fragment,i),r=!0)},o(i){_(e.$$.fragment,i),_(t.$$.fragment,i),r=!1},d(i){C(e,i),i&&m(n),C(t,i)}}}function bb(s){let e,n,t,r;return e=new Ie({props:{key:"B",desc:"Back",pos:"g-1",color:ae.c3_b_bg_c$lg,padleft:!0}}),t=new Ie({props:{key:"N",desc:"New",pos:"g-2",color:ae.c3_b_bg_c$lg,padleft:!0}}),{c(){v(e.$$.fragment),n=W(),v(t.$$.fragment)},l(i){E(e.$$.fragment,i),n=D(i),E(t.$$.fragment,i)},m(i,o){w(e,i,o),y(i,n,o),w(t,i,o),r=!0},p:V,i(i){r||(g(e.$$.fragment,i),g(t.$$.fragment,i),r=!0)},o(i){_(e.$$.fragment,i),_(t.$$.fragment,i),r=!1},d(i){C(e,i),i&&m(n),C(t,i)}}}function $b(s){let e,n,t,r;return e=new et({props:{pos:"g-1",$$slots:{default:[_b]},$$scope:{ctx:s}}}),t=new et({props:{pos:"g-2",$$slots:{default:[bb]},$$scope:{ctx:s}}}),{c(){v(e.$$.fragment),n=W(),v(t.$$.fragment)},l(i){E(e.$$.fragment,i),n=D(i),E(t.$$.fragment,i)},m(i,o){w(e,i,o),y(i,n,o),w(t,i,o),r=!0},p(i,o){const l={};o&1&&(l.$$scope={dirty:o,ctx:i}),e.$set(l);const a={};o&1&&(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i(i){r||(g(e.$$.fragment,i),g(t.$$.fragment,i),r=!0)},o(i){_(e.$$.fragment,i),_(t.$$.fragment,i),r=!1},d(i){C(e,i),i&&m(n),C(t,i)}}}function xb(s){let e,n;return e=new Wt({props:{$$slots:{default:[$b]},$$scope:{ctx:s}}}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p(t,[r]){const i={};r&1&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}class yb extends re{constructor(e){super(),ie(this,e,null,xb,se,{})}}var Lc={exports:{}};(function(s,e){(function(n,t){t()})(hn,function(){function n(c,f){return typeof f>"u"?f={autoBom:!1}:typeof f!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),f={autoBom:!f}),f.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function t(c,f,u){var d=new XMLHttpRequest;d.open("GET",c),d.responseType="blob",d.onload=function(){a(d.response,f,u)},d.onerror=function(){console.error("could not download file")},d.send()}function r(c){var f=new XMLHttpRequest;f.open("HEAD",c,!1);try{f.send()}catch{}return 200<=f.status&&299>=f.status}function i(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var f=document.createEvent("MouseEvents");f.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(f)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof hn=="object"&&hn.global===hn?hn:void 0,l=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(c,f,u){var d=o.URL||o.webkitURL,p=document.createElement("a");f=f||c.name||"download",p.download=f,p.rel="noopener",typeof c=="string"?(p.href=c,p.origin===location.origin?i(p):r(p.href)?t(c,f,u):i(p,p.target="_blank")):(p.href=d.createObjectURL(c),setTimeout(function(){d.revokeObjectURL(p.href)},4e4),setTimeout(function(){i(p)},0))}:"msSaveOrOpenBlob"in navigator?function(c,f,u){if(f=f||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(n(c,u),f);else if(r(c))t(c,f,u);else{var d=document.createElement("a");d.href=c,d.target="_blank",setTimeout(function(){i(d)})}}:function(c,f,u,d){if(d=d||open("","_blank"),d&&(d.document.title=d.document.body.innerText="downloading..."),typeof c=="string")return t(c,f,u);var p=c.type==="application/octet-stream",h=/constructor/i.test(o.HTMLElement)||o.safari,b=/CriOS\/[\d]+/.test(navigator.userAgent);if((b||p&&h||l)&&typeof FileReader<"u"){var x=new FileReader;x.onloadend=function(){var S=x.result;S=b?S:S.replace(/^data:[^;]*;/,"data:attachment/file;"),d?d.location.href=S:location=S,d=null},x.readAsDataURL(c)}else{var $=o.URL||o.webkitURL,R=$.createObjectURL(c);d?d.location=R:location.href=R,d=null,setTimeout(function(){$.revokeObjectURL(R)},4e4)}});o.saveAs=a.saveAs=a,s.exports=a})})(Lc);var kb=Lc.exports;function vb(s){let e,n,t,r,i,o,l,a,c,f,u,d,p,h,b;return n=new Kt({}),r=new Kt({props:{content:"File Name:",css_classes:s[2]}}),o=new Kt({props:{content:s[0]}}),a=new Kt({}),f=new Kt({props:{content:"Full link:",css_classes:s[2]}}),d=new jr({props:{url:s[1],text:s[1]}}),h=new Kt({}),{c(){e=O("div"),v(n.$$.fragment),t=W(),v(r.$$.fragment),i=W(),v(o.$$.fragment),l=W(),v(a.$$.fragment),c=W(),v(f.$$.fragment),u=W(),v(d.$$.fragment),p=W(),v(h.$$.fragment),this.h()},l(x){e=M(x,"DIV",{class:!0});var $=z(e);E(n.$$.fragment,$),t=D($),E(r.$$.fragment,$),i=D($),E(o.$$.fragment,$),l=D($),E(a.$$.fragment,$),c=D($),E(f.$$.fragment,$),u=D($),E(d.$$.fragment,$),p=D($),E(h.$$.fragment,$),$.forEach(m),this.h()},h(){B(e,"class","svelte-9xfl0z")},m(x,$){y(x,e,$),w(n,e,null),N(e,t),w(r,e,null),N(e,i),w(o,e,null),N(e,l),w(a,e,null),N(e,c),w(f,e,null),N(e,u),w(d,e,null),N(e,p),w(h,e,null),b=!0},p(x,[$]){const R={};$&1&&(R.content=x[0]),o.$set(R);const S={};$&2&&(S.url=x[1]),$&2&&(S.text=x[1]),d.$set(S)},i(x){b||(g(n.$$.fragment,x),g(r.$$.fragment,x),g(o.$$.fragment,x),g(a.$$.fragment,x),g(f.$$.fragment,x),g(d.$$.fragment,x),g(h.$$.fragment,x),b=!0)},o(x){_(n.$$.fragment,x),_(r.$$.fragment,x),_(o.$$.fragment,x),_(a.$$.fragment,x),_(f.$$.fragment,x),_(d.$$.fragment,x),_(h.$$.fragment,x),b=!1},d(x){x&&m(e),C(n),C(r),C(o),C(a),C(f),C(d),C(h)}}}function wb(s,e,n){let{file_name:t}=e,{url:r}=e;const i=new Ai(0,0,10,0).css_value;return s.$$set=o=>{"file_name"in o&&n(0,t=o.file_name),"url"in o&&n(1,r=o.url)},[t,r,i]}class Cb extends re{constructor(e){super(),ie(this,e,wb,vb,se,{file_name:0,url:1})}}function kl(s,e,n){const t=s.slice();return t[1]=e[n],t}function vl(s){let e,n;return e=new Cb({props:{file_name:s[1].file_name,url:s[1].url}}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p(t,r){const i={};r&1&&(i.file_name=t[1].file_name),r&1&&(i.url=t[1].url),e.$set(i)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Sb(s){let e,n,t,r,i,o=s[0],l=[];for(let c=0;c<o.length;c+=1)l[c]=vl(kl(s,o,c));const a=c=>_(l[c],1,1,()=>{l[c]=null});return{c(){e=O("h3"),n=le("This page contains information about recently created link records."),t=W();for(let c=0;c<l.length;c+=1)l[c].c();r=J()},l(c){e=M(c,"H3",{});var f=z(e);n=ce(f,"This page contains information about recently created link records."),f.forEach(m),t=D(c);for(let u=0;u<l.length;u+=1)l[u].l(c);r=J()},m(c,f){y(c,e,f),N(e,n),y(c,t,f);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(c,f);y(c,r,f),i=!0},p(c,[f]){if(f&1){o=c[0];let u;for(u=0;u<o.length;u+=1){const d=kl(c,o,u);l[u]?(l[u].p(d,f),g(l[u],1)):(l[u]=vl(d),l[u].c(),g(l[u],1),l[u].m(r.parentNode,r))}for(de(),u=o.length;u<l.length;u+=1)a(u);pe()}},i(c){if(!i){for(let f=0;f<o.length;f+=1)g(l[f]);i=!0}},o(c){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)_(l[f]);i=!1},d(c){c&&m(e),c&&m(t),It(l,c),c&&m(r)}}}function Eb(s,e,n){let t=[];return Et(async()=>{const r=localStorage.getItem("redirect");r&&n(0,t=JSON.parse(r))}),[t]}class Rb extends re{constructor(e){super(),ie(this,e,Eb,Sb,se,{})}}function Tb(s){let e,n,t,r;return e=new Ie({props:{key:"B",desc:"Back",pos:"g-1",color:ae.c3_b_bg_c$lg}}),t=new Ie({props:{pos:"g-2"}}),{c(){v(e.$$.fragment),n=W(),v(t.$$.fragment)},l(i){E(e.$$.fragment,i),n=D(i),E(t.$$.fragment,i)},m(i,o){w(e,i,o),y(i,n,o),w(t,i,o),r=!0},p:V,i(i){r||(g(e.$$.fragment,i),g(t.$$.fragment,i),r=!0)},o(i){_(e.$$.fragment,i),_(t.$$.fragment,i),r=!1},d(i){C(e,i),i&&m(n),C(t,i)}}}function Pb(s){let e,n,t,r;return e=new Ie({props:{pos:"g-1"}}),t=new Ie({props:{pos:"g-2"}}),{c(){v(e.$$.fragment),n=W(),v(t.$$.fragment)},l(i){E(e.$$.fragment,i),n=D(i),E(t.$$.fragment,i)},m(i,o){w(e,i,o),y(i,n,o),w(t,i,o),r=!0},p:V,i(i){r||(g(e.$$.fragment,i),g(t.$$.fragment,i),r=!0)},o(i){_(e.$$.fragment,i),_(t.$$.fragment,i),r=!1},d(i){C(e,i),i&&m(n),C(t,i)}}}function Ab(s){let e,n,t,r;return e=new et({props:{pos:"g-1",$$slots:{default:[Tb]},$$scope:{ctx:s}}}),t=new et({props:{pos:"g-2",$$slots:{default:[Pb]},$$scope:{ctx:s}}}),{c(){v(e.$$.fragment),n=W(),v(t.$$.fragment)},l(i){E(e.$$.fragment,i),n=D(i),E(t.$$.fragment,i)},m(i,o){w(e,i,o),y(i,n,o),w(t,i,o),r=!0},p(i,o){const l={};o&1&&(l.$$scope={dirty:o,ctx:i}),e.$set(l);const a={};o&1&&(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i(i){r||(g(e.$$.fragment,i),g(t.$$.fragment,i),r=!0)},o(i){_(e.$$.fragment,i),_(t.$$.fragment,i),r=!1},d(i){C(e,i),i&&m(n),C(t,i)}}}function Ib(s){let e,n;return e=new Wt({props:{$$slots:{default:[Ab]},$$scope:{ctx:s}}}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p(t,[r]){const i={};r&1&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}class Ob extends re{constructor(e){super(),ie(this,e,null,Ib,se,{})}}function Mb(s){let e,n,t,r,i,o,l,a,c,f,u,d,p,h;return e=new Te({props:{descriptor:"Create",pos:"g-1-1",color:ae.c3_b_bs_c$lg}}),e.$on("click",s[2]),t=new Te({props:{descriptor:"<",pos:"g-2-1",color:ae.c3_b_bs_c$lg}}),t.$on("click",s[3]),i=new Te({props:{descriptor:"^",pos:"g-1-2",color:ae.c3_b_bs_c$lg}}),i.$on("click",s[4]),l=new Te({props:{descriptor:"v",pos:"g-2-2",color:ae.c3_b_bs_c$lg}}),l.$on("click",s[5]),c=new Te({props:{descriptor:"Recent",pos:"g-1-3",color:ae.c3_b_bs_c$lg}}),c.$on("click",s[6]),u=new Te({props:{descriptor:">",pos:"g-2-3",color:ae.c3_b_bs_c$lg}}),u.$on("click",s[7]),p=new Te({props:{descriptor:"Exit",pos:"g-3-1",color:ae.c3_b_bs_c$lg}}),p.$on("click",s[8]),{c(){v(e.$$.fragment),n=W(),v(t.$$.fragment),r=W(),v(i.$$.fragment),o=W(),v(l.$$.fragment),a=W(),v(c.$$.fragment),f=W(),v(u.$$.fragment),d=W(),v(p.$$.fragment)},l(b){E(e.$$.fragment,b),n=D(b),E(t.$$.fragment,b),r=D(b),E(i.$$.fragment,b),o=D(b),E(l.$$.fragment,b),a=D(b),E(c.$$.fragment,b),f=D(b),E(u.$$.fragment,b),d=D(b),E(p.$$.fragment,b)},m(b,x){w(e,b,x),y(b,n,x),w(t,b,x),y(b,r,x),w(i,b,x),y(b,o,x),w(l,b,x),y(b,a,x),w(c,b,x),y(b,f,x),w(u,b,x),y(b,d,x),w(p,b,x),h=!0},p:V,i(b){h||(g(e.$$.fragment,b),g(t.$$.fragment,b),g(i.$$.fragment,b),g(l.$$.fragment,b),g(c.$$.fragment,b),g(u.$$.fragment,b),g(p.$$.fragment,b),h=!0)},o(b){_(e.$$.fragment,b),_(t.$$.fragment,b),_(i.$$.fragment,b),_(l.$$.fragment,b),_(c.$$.fragment,b),_(u.$$.fragment,b),_(p.$$.fragment,b),h=!1},d(b){C(e,b),b&&m(n),C(t,b),b&&m(r),C(i,b),b&&m(o),C(l,b),b&&m(a),C(c,b),b&&m(f),C(u,b),b&&m(d),C(p,b)}}}function Wb(s){let e,n,t;function r(o){s[9](o)}let i={color:ae.c3_b_c$lg};return s[0]!==void 0&&(i.value=s[0]),e=new Ri({props:i}),jt.push(()=>Ft(e,"value",r)),e.$on("vinput",s[10]),e.$on("change",s[11]),{c(){v(e.$$.fragment)},l(o){E(e.$$.fragment,o)},m(o,l){w(e,o,l),t=!0},p(o,l){const a={};!n&&l&1&&(n=!0,a.value=o[0],Vt(()=>n=!1)),e.$set(a)},i(o){t||(g(e.$$.fragment,o),t=!0)},o(o){_(e.$$.fragment,o),t=!1},d(o){C(e,o)}}}function Db(s){let e,n,t,r;return e=new Yt({props:{$$slots:{default:[Mb]},$$scope:{ctx:s}}}),t=new Yt({props:{$$slots:{default:[Wb]},$$scope:{ctx:s}}}),{c(){v(e.$$.fragment),n=W(),v(t.$$.fragment)},l(i){E(e.$$.fragment,i),n=D(i),E(t.$$.fragment,i)},m(i,o){w(e,i,o),y(i,n,o),w(t,i,o),r=!0},p(i,[o]){const l={};o&4096&&(l.$$scope={dirty:o,ctx:i}),e.$set(l);const a={};o&4097&&(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i(i){r||(g(e.$$.fragment,i),g(t.$$.fragment,i),r=!0)},o(i){_(e.$$.fragment,i),_(t.$$.fragment,i),r=!1},d(i){C(e,i),i&&m(n),C(t,i)}}}function jb(s,e,n){let{input_value:t}=e;const r=at(),i=()=>r("vinput",ke.artificial("Enter")),o=()=>r("vinput",ke.artificial("ArrowLeft")),l=()=>r("vinput",ke.artificial("ArrowUp")),a=()=>r("vinput",ke.artificial("ArrowDown")),c=()=>r("vinput",ke.artificial("r",!0)),f=()=>r("vinput",ke.artificial("ArrowRight")),u=()=>r("vinput",ke.artificial("x",!0));function d(b){t=b,n(0,t)}function p(b){Hn.call(this,s,b)}function h(b){Hn.call(this,s,b)}return s.$$set=b=>{"input_value"in b&&n(0,t=b.input_value)},[t,r,i,o,l,a,c,f,u,d,p,h]}class Nb extends re{constructor(e){super(),ie(this,e,jb,Db,se,{input_value:0})}}function Lb(s){let e,n;return e=new Te({props:{descriptor:"Back",pos:"g-1-1",color:ae.c3_b_bs_c$lg}}),e.$on("click",s[1]),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p:V,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Bb(s){let e,n;return e=new Yt({props:{$$slots:{default:[Lb]},$$scope:{ctx:s}}}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p(t,[r]){const i={};r&4&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function zb(s){const e=at();return[e,()=>e("vinput",ke.artificial("b"))]}class Ub extends re{constructor(e){super(),ie(this,e,zb,Bb,se,{})}}function Fb(s){let e,n,t,r,i,o,l,a;return e=new Te({props:{descriptor:"Download",pos:"g-1-1",color:ae.c3_b_bs_c$lg}}),e.$on("click",s[1]),t=new Te({props:{descriptor:"Exit",pos:"g-2-1",color:ae.c3_b_bs_c$lg}}),t.$on("click",s[2]),i=new Te({props:{descriptor:"Back",pos:"g-1-2",color:ae.c3_b_bs_c$lg}}),i.$on("click",s[3]),l=new Te({props:{descriptor:"New",pos:"g-2-2",color:ae.c3_b_bs_c$lg}}),l.$on("click",s[4]),{c(){v(e.$$.fragment),n=W(),v(t.$$.fragment),r=W(),v(i.$$.fragment),o=W(),v(l.$$.fragment)},l(c){E(e.$$.fragment,c),n=D(c),E(t.$$.fragment,c),r=D(c),E(i.$$.fragment,c),o=D(c),E(l.$$.fragment,c)},m(c,f){w(e,c,f),y(c,n,f),w(t,c,f),y(c,r,f),w(i,c,f),y(c,o,f),w(l,c,f),a=!0},p:V,i(c){a||(g(e.$$.fragment,c),g(t.$$.fragment,c),g(i.$$.fragment,c),g(l.$$.fragment,c),a=!0)},o(c){_(e.$$.fragment,c),_(t.$$.fragment,c),_(i.$$.fragment,c),_(l.$$.fragment,c),a=!1},d(c){C(e,c),c&&m(n),C(t,c),c&&m(r),C(i,c),c&&m(o),C(l,c)}}}function Vb(s){let e,n;return e=new Yt({props:{$$slots:{default:[Fb]},$$scope:{ctx:s}}}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p(t,[r]){const i={};r&32&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function qb(s){const e=at();return[e,()=>e("vinput",ke.artificial("d")),()=>e("vinput",ke.artificial("x",!0)),()=>e("vinput",ke.artificial("b")),()=>e("vinput",ke.artificial("n"))]}class Gb extends re{constructor(e){super(),ie(this,e,qb,Vb,se,{})}}function Jb(s){let e,n;return e=new Rb({}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p:V,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Qb(s){let e,n;return e=new gb({props:{file_name:s[4],link:s[5]}}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p(t,r){const i={};r[0]&16&&(i.file_name=t[4]),r[0]&32&&(i.link=t[5]),e.$set(i)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Kb(s){let e,n;return e=new ob({props:{contents:s[2],selected:s[1]}}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p(t,r){const i={};r[0]&4&&(i.contents=t[2]),r[0]&2&&(i.selected=t[1]),e.$set(i)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Hb(s){let e,n;return e=new Ob({}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p:V,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Xb(s){let e,n;return e=new yb({}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p:V,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Yb(s){let e,n;return e=new pb({props:{status_msg:s[3],status_only:ve}}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p(t,r){const i={};r[0]&8&&(i.status_msg=t[3]),e.$set(i)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Zb(s){let e,n,t,r;const i=[n1,t1,e1],o=[];function l(a,c){return a[7]=="create"?0:a[7]=="download"?1:a[7]=="recent"?2:-1}return~(e=l(s))&&(n=o[e]=i[e](s)),{c(){n&&n.c(),t=J()},l(a){n&&n.l(a),t=J()},m(a,c){~e&&o[e].m(a,c),y(a,t,c),r=!0},p(a,c){let f=e;e=l(a),e===f?~e&&o[e].p(a,c):(n&&(de(),_(o[f],1,1,()=>{o[f]=null}),pe()),~e?(n=o[e],n?n.p(a,c):(n=o[e]=i[e](a),n.c()),g(n,1),n.m(t.parentNode,t)):n=null)},i(a){r||(g(n),r=!0)},o(a){_(n),r=!1},d(a){~e&&o[e].d(a),a&&m(t)}}}function e1(s){let e,n;return e=new Ub({}),e.$on("vinput",s[18]),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p:V,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function t1(s){let e,n;return e=new Gb({}),e.$on("vinput",s[17]),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p:V,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function n1(s){let e,n,t;function r(o){s[14](o)}let i={};return s[6]!==void 0&&(i.input_value=s[6]),e=new Nb({props:i}),jt.push(()=>Ft(e,"input_value",r)),e.$on("vinput",s[15]),e.$on("change",s[16]),{c(){v(e.$$.fragment)},l(o){E(e.$$.fragment,o)},m(o,l){w(e,o,l),t=!0},p(o,l){const a={};!n&&l[0]&64&&(n=!0,a.input_value=o[6],Vt(()=>n=!1)),e.$set(a)},i(o){t||(g(e.$$.fragment,o),t=!0)},o(o){_(e.$$.fragment,o),t=!1},d(o){C(e,o)}}}function r1(s){let e,n,t,r,i,o,l,a,c,f,u;const d=[Kb,Qb,Jb],p=[];function h(S,P){return S[7]=="create"?0:S[7]=="download"?1:S[7]=="recent"?2:-1}~(n=h(s))&&(t=p[n]=d[n](s));const b=[Yb,Xb,Hb],x=[];function $(S,P){return S[7]=="create"?0:S[7]=="download"?1:S[7]=="recent"?2:-1}~(o=$(s))&&(l=x[o]=b[o](s));let R=ve&&Zb(s);return{c(){e=O("div"),t&&t.c(),r=W(),i=O("div"),l&&l.c(),c=W(),R&&R.c(),f=J(),this.h()},l(S){e=M(S,"DIV",{class:!0});var P=z(e);t&&t.l(P),P.forEach(m),r=D(S),i=M(S,"DIV",{class:!0});var T=z(i);l&&l.l(T),T.forEach(m),c=D(S),R&&R.l(S),f=J(),this.h()},h(){B(e,"class","content svelte-yfrmn8"),B(i,"class",a="control "+(ve&&(s[7]=="download"||s[7]=="recent")?"hidden":"")+" svelte-yfrmn8")},m(S,P){y(S,e,P),~n&&p[n].m(e,null),y(S,r,P),y(S,i,P),~o&&x[o].m(i,null),y(S,c,P),R&&R.m(S,P),y(S,f,P),u=!0},p(S,P){let T=n;n=h(S),n===T?~n&&p[n].p(S,P):(t&&(de(),_(p[T],1,1,()=>{p[T]=null}),pe()),~n?(t=p[n],t?t.p(S,P):(t=p[n]=d[n](S),t.c()),g(t,1),t.m(e,null)):t=null);let F=o;o=$(S),o===F?~o&&x[o].p(S,P):(l&&(de(),_(x[F],1,1,()=>{x[F]=null}),pe()),~o?(l=x[o],l?l.p(S,P):(l=x[o]=b[o](S),l.c()),g(l,1),l.m(i,null)):l=null),(!u||P[0]&128&&a!==(a="control "+(ve&&(S[7]=="download"||S[7]=="recent")?"hidden":"")+" svelte-yfrmn8"))&&B(i,"class",a),ve&&R.p(S,P)},i(S){u||(g(t),g(l),g(R),u=!0)},o(S){_(t),_(l),_(R),u=!1},d(S){S&&m(e),~n&&p[n].d(),S&&m(r),S&&m(i),~o&&x[o].d(),S&&m(c),R&&R.d(S),S&&m(f)}}}function i1(s){let e,n,t,r,i;return n=new Ti({props:{hidden:s[0],name:"Redirect",info:"URL Redirect",version:"v1.0",color:ae.c3_b_bg_c$lg,$$slots:{default:[r1]},$$scope:{ctx:s}}}),{c(){e=W(),v(n.$$.fragment)},l(o){e=D(o),E(n.$$.fragment,o)},m(o,l){y(o,e,l),w(n,o,l),t=!0,r||(i=Tt(document,"keydown",s[9]),r=!0)},p(o,l){const a={};l[0]&1&&(a.hidden=o[0]),l[0]&254|l[1]&8&&(a.$$scope={dirty:l,ctx:o}),n.$set(a)},i(o){t||(g(n.$$.fragment,o),t=!0)},o(o){_(n.$$.fragment,o),t=!1},d(o){o&&m(e),C(n,o),r=!1,i()}}}function s1(s,e,n){let t,{pid:r}=e,{hidden:i=!1}=e,{ipc_channel:o}=e;const l=at();let a,c;const f={0:"url",1:"key",2:"expiration",3:"password"},u={0:"days",1:"hours",2:"minutes"};let d,p,h,b,x=[],$="";R();function R(){n(1,a=0),n(2,c={url:"",key:"",expiration:{days:"10",hours:"0",minutes:"0",selected:0,selected_max:3},password:""}),n(3,d=""),n(5,b=""),n(4,p=""),h=null}function S(){if(f[a]=="expiration"){const G=c[f[a]];n(6,$=G[u[G.selected]])}else n(6,$=c[f[a]])}function P(G){if(f[a]=="expiration"){if(Bn.numbers.includes(G)){const H=c[f[a]];H[u[H.selected]]+=G,n(2,c[f[a]]=H,c)}}else n(2,c[f[a]]+=G,c)}function T(G){if(f[a]=="expiration")try{const H=+G;if(isNaN(H))return;const ct=c[f[a]];ct[u[ct.selected]]=`${H}`,n(2,c[f[a]]=ct,c)}catch{return}else n(2,c[f[a]]=G,c)}async function F(){if(!c.url){n(3,d="URL field cannot be empty!");return}if(!c.key){n(3,d="Key field cannot be empty!");return}let G=0;try{const H=parseInt(c.expiration.days),ct=parseInt(c.expiration.hours),Nt=parseInt(c.expiration.minutes);if(isNaN(H)||isNaN(ct)||isNaN(Nt)){n(3,d="Expiration fields contain non-integer value!");return}if(H<0||ct<0||Nt<0){n(3,d="Expiration fields must be positive integers!");return}G=H*24*60*60*1e3+ct*60*60*1e3+Nt*60*1e3}catch{n(3,d="Expiration fields must be positive integers!");return}U.wait(),c.password?(n(4,[p,h]=await pa(c.url,c.key,G,c.password),p),n(5,b=`ldklenner.github.io/go#${c.key}+${c.password}`)):(n(4,[p,h]=await pa(c.url,c.key,G),p),n(5,b=`ldklenner.github.io/go#${c.key}`)),U.download()}function k(){kb.saveAs(h,p),x.push({file_name:p,url:b}),localStorage.setItem("redirect",JSON.stringify(x))}function j(){if(f[a]=="expiration"){const G=c[f[a]];G[u[G.selected]]=G[u[G.selected]].slice(0,-1),n(2,c[f[a]]=G,c)}else n(2,c[f[a]]=c[f[a]].slice(0,-1),c)}function fe(){n(1,a+=-1),a<0&&n(1,a=3)}function Z(){n(1,a+=1),n(1,a=a%4)}function ee(){const G=c[f[a]];G.hasOwnProperty("selected")&&(G.selected-=1,G.selected<0&&(G.selected=G.selected_max-1),n(2,c[f[a]]=G,c))}function te(){const G=c[f[a]];G.hasOwnProperty("selected")&&(G.selected+=1,G.selected=G.selected%G.selected_max,n(2,c[f[a]]=G,c))}function A(G){!i&&!ve&&U.input(G)}function Q(G){!i&&ve&&U.input(G)}const U=qn("create",{create:{input(G){switch(G.key){case"Enter":F();break;case"Backspace":ve?T($):j();break;case"ArrowUp":fe();break;case"ArrowDown":Z();break;case"ArrowLeft":ee();break;case"ArrowRight":te();break;default:if(G.ctrlKey&&G.key=="r")return G.preventDefault(),"recent";if(G.ctrlKey&&G.key=="x")return"terminate";if(G.ctrlKey&&G.key=="v"){navigator.clipboard.readText().then(H=>P(H));return}if(Bn.printable.includes(G.key)){ve?T($):P(G.key);break}}},wait:"wait"},wait:{_enter(){n(3,d="Please wait.")},download:"download"},download:{_enter(){n(3,d="")},input(G){switch(G.key){case"b":return"create";case"d":k();break;case"n":return R(),"create";default:if(G.ctrlKey&&G.key=="x")return"terminate"}}},recent:{input(G){switch(G.key){case"b":return"create"}}},terminate:{_enter(){Pt.terminate(l)}}});fr(s,U,G=>n(7,t=G)),Et(async()=>{const G=localStorage.getItem("redirect");G&&(x=JSON.parse(G))});function X(G){$=G,n(6,$)}const q=G=>Q(G.detail),ge=G=>{T(G.detail)},K=G=>Q(G.detail),we=G=>Q(G.detail);return s.$$set=G=>{"pid"in G&&n(12,r=G.pid),"hidden"in G&&n(0,i=G.hidden),"ipc_channel"in G&&n(13,o=G.ipc_channel)},s.$$.update=()=>{s.$$.dirty[0]&6&&(c.selected,S())},[i,a,c,d,p,b,$,t,T,A,Q,U,r,o,X,q,ge,K,we]}class o1 extends re{constructor(e){super(),ie(this,e,s1,i1,se,{pid:12,hidden:0,ipc_channel:13},null,[-1,-1])}}class a1 extends pr{constructor(){super("redirect")}async exec(){return new ln(new Vn(this.name,o1))}}const l1=new a1;function wr(s,e,n,t,r,i,o,l){const a=((o-r)*(e-i)-(l-i)*(s-r))/((l-i)*(n-s)-(o-r)*(t-e)),c=((n-s)*(e-i)-(t-e)*(s-r))/((l-i)*(n-s)-(o-r)*(t-e));return a>=0&&a<=1&&c>=0&&c<=1}function Di(s,e,n){const t=s*Math.cos(n)-e*Math.sin(n),r=s*Math.sin(n)+e*Math.cos(n);return[t,r]}const c1=.005;class f1{constructor(e,n,t,r,i,o,l,a,c,f,u){this.x=e,this.y=n,this.width=t,this.height=r,this.angle=i,this.velocity={x:o,y:l},this.fuel=a,this.fuel_consumption=.1,this.thrust=.015,this.fire_engine=!1,this.rotate_left=!1,this.rotate_right=!1,this.sprite={model:c,thrusters:f},this.audio={thruster:u},this.offset={tl:[-this.width/2,-this.height/2],tr:[this.width/2,-this.height/2],bl:[-this.width/2,this.height/2],br:[this.width/2,this.height/2]}}reset(e,n,t,r,i,o){this.x=e,this.y=n,this.set_angle(t),this.velocity.x=r,this.velocity.y=i,this.fuel=o,this.fire_engine=!1,this.rotate_left=!1,this.rotate_right=!1}shutdown(){this.fire_engine=!1,this.audio.thruster.pause()}update(){this.x+=this.velocity.x,this.y+=this.velocity.y,this.rotate_left&&this.set_angle(this.angle+Math.PI/180),this.rotate_right&&this.set_angle(this.angle-Math.PI/180),this.fire_engine&&this.fuel>0?(this.velocity.x-=this.thrust*Math.sin(-this.angle),this.velocity.y-=this.thrust*Math.cos(this.angle),this.fuel-=this.fuel_consumption,this.audio.thruster.play()):this.audio.thruster.pause(),this.velocity.y+=c1}draw(e){e.save(),e.translate(this.x,this.y),e.rotate(this.angle),this.fire_engine&&this.fuel>0?e.drawImage(this.sprite.thrusters[Math.floor(Math.random()*this.sprite.thrusters.length)],-this.width/2,-this.height/2):e.drawImage(this.sprite.model,-this.width/2,-this.height/2),e.restore()}set_angle(e){e>2*Math.PI?this.angle=2*Math.PI/180:e<0?this.angle=2*Math.PI-2*Math.PI/180:this.angle=e,this.offset.tl=Di(-this.width/2,-this.height/2,this.angle),this.offset.tr=Di(this.width/2,-this.height/2,this.angle),this.offset.bl=Di(-this.width/2,this.height/2,this.angle),this.offset.br=Di(this.width/2,this.height/2,this.angle)}vertices(){const e=[this.x,this.y],n=e.map((o,l)=>o+this.offset.tr[l]),t=e.map((o,l)=>o+this.offset.tl[l]),r=e.map((o,l)=>o+this.offset.bl[l]),i=e.map((o,l)=>o+this.offset.br[l]);return[n,t,r,i]}collides_with_line(e,n,t,r){const[i,o,l,a]=this.vertices(),c=wr(e,n,t,r,o[0],o[1],i[0],i[1]),f=wr(e,n,t,r,i[0],i[1],a[0],a[1]),u=wr(e,n,t,r,l[0],l[1],a[0],a[1]);return!!(wr(e,n,t,r,o[0],o[1],l[0],l[1])||f||c||u)}}var Fo={exports:{}};Fo.exports;(function(s){(function(e,n,t){function r(a){var c=this,f=l();c.next=function(){var u=2091639*c.s0+c.c*23283064365386963e-26;return c.s0=c.s1,c.s1=c.s2,c.s2=u-(c.c=u|0)},c.c=1,c.s0=f(" "),c.s1=f(" "),c.s2=f(" "),c.s0-=f(a),c.s0<0&&(c.s0+=1),c.s1-=f(a),c.s1<0&&(c.s1+=1),c.s2-=f(a),c.s2<0&&(c.s2+=1),f=null}function i(a,c){return c.c=a.c,c.s0=a.s0,c.s1=a.s1,c.s2=a.s2,c}function o(a,c){var f=new r(a),u=c&&c.state,d=f.next;return d.int32=function(){return f.next()*4294967296|0},d.double=function(){return d()+(d()*2097152|0)*11102230246251565e-32},d.quick=d,u&&(typeof u=="object"&&i(u,f),d.state=function(){return i(f,{})}),d}function l(){var a=4022871197,c=function(f){f=String(f);for(var u=0;u<f.length;u++){a+=f.charCodeAt(u);var d=.02519603282416938*a;a=d>>>0,d-=a,d*=a,a=d>>>0,d-=a,a+=d*4294967296}return(a>>>0)*23283064365386963e-26};return c}n&&n.exports?n.exports=o:t&&t.amd?t(function(){return o}):this.alea=o})(hn,s,!1)})(Fo);var u1=Fo.exports,Vo={exports:{}};Vo.exports;(function(s){(function(e,n,t){function r(l){var a=this,c="";a.x=0,a.y=0,a.z=0,a.w=0,a.next=function(){var u=a.x^a.x<<11;return a.x=a.y,a.y=a.z,a.z=a.w,a.w^=a.w>>>19^u^u>>>8},l===(l|0)?a.x=l:c+=l;for(var f=0;f<c.length+64;f++)a.x^=c.charCodeAt(f)|0,a.next()}function i(l,a){return a.x=l.x,a.y=l.y,a.z=l.z,a.w=l.w,a}function o(l,a){var c=new r(l),f=a&&a.state,u=function(){return(c.next()>>>0)/4294967296};return u.double=function(){do var d=c.next()>>>11,p=(c.next()>>>0)/4294967296,h=(d+p)/(1<<21);while(h===0);return h},u.int32=c.next,u.quick=u,f&&(typeof f=="object"&&i(f,c),u.state=function(){return i(c,{})}),u}n&&n.exports?n.exports=o:t&&t.amd?t(function(){return o}):this.xor128=o})(hn,s,!1)})(Vo);var d1=Vo.exports,qo={exports:{}};qo.exports;(function(s){(function(e,n,t){function r(l){var a=this,c="";a.next=function(){var u=a.x^a.x>>>2;return a.x=a.y,a.y=a.z,a.z=a.w,a.w=a.v,(a.d=a.d+362437|0)+(a.v=a.v^a.v<<4^(u^u<<1))|0},a.x=0,a.y=0,a.z=0,a.w=0,a.v=0,l===(l|0)?a.x=l:c+=l;for(var f=0;f<c.length+64;f++)a.x^=c.charCodeAt(f)|0,f==c.length&&(a.d=a.x<<10^a.x>>>4),a.next()}function i(l,a){return a.x=l.x,a.y=l.y,a.z=l.z,a.w=l.w,a.v=l.v,a.d=l.d,a}function o(l,a){var c=new r(l),f=a&&a.state,u=function(){return(c.next()>>>0)/4294967296};return u.double=function(){do var d=c.next()>>>11,p=(c.next()>>>0)/4294967296,h=(d+p)/(1<<21);while(h===0);return h},u.int32=c.next,u.quick=u,f&&(typeof f=="object"&&i(f,c),u.state=function(){return i(c,{})}),u}n&&n.exports?n.exports=o:t&&t.amd?t(function(){return o}):this.xorwow=o})(hn,s,!1)})(qo);var p1=qo.exports,Go={exports:{}};Go.exports;(function(s){(function(e,n,t){function r(l){var a=this;a.next=function(){var f=a.x,u=a.i,d,p;return d=f[u],d^=d>>>7,p=d^d<<24,d=f[u+1&7],p^=d^d>>>10,d=f[u+3&7],p^=d^d>>>3,d=f[u+4&7],p^=d^d<<7,d=f[u+7&7],d=d^d<<13,p^=d^d<<9,f[u]=p,a.i=u+1&7,p};function c(f,u){var d,p=[];if(u===(u|0))p[0]=u;else for(u=""+u,d=0;d<u.length;++d)p[d&7]=p[d&7]<<15^u.charCodeAt(d)+p[d+1&7]<<13;for(;p.length<8;)p.push(0);for(d=0;d<8&&p[d]===0;++d);for(d==8?p[7]=-1:p[d],f.x=p,f.i=0,d=256;d>0;--d)f.next()}c(a,l)}function i(l,a){return a.x=l.x.slice(),a.i=l.i,a}function o(l,a){l==null&&(l=+new Date);var c=new r(l),f=a&&a.state,u=function(){return(c.next()>>>0)/4294967296};return u.double=function(){do var d=c.next()>>>11,p=(c.next()>>>0)/4294967296,h=(d+p)/(1<<21);while(h===0);return h},u.int32=c.next,u.quick=u,f&&(f.x&&i(f,c),u.state=function(){return i(c,{})}),u}n&&n.exports?n.exports=o:t&&t.amd?t(function(){return o}):this.xorshift7=o})(hn,s,!1)})(Go);var h1=Go.exports,Jo={exports:{}};Jo.exports;(function(s){(function(e,n,t){function r(l){var a=this;a.next=function(){var f=a.w,u=a.X,d=a.i,p,h;return a.w=f=f+1640531527|0,h=u[d+34&127],p=u[d=d+1&127],h^=h<<13,p^=p<<17,h^=h>>>15,p^=p>>>12,h=u[d]=h^p,a.i=d,h+(f^f>>>16)|0};function c(f,u){var d,p,h,b,x,$=[],R=128;for(u===(u|0)?(p=u,u=null):(u=u+"\0",p=0,R=Math.max(R,u.length)),h=0,b=-32;b<R;++b)u&&(p^=u.charCodeAt((b+32)%u.length)),b===0&&(x=p),p^=p<<10,p^=p>>>15,p^=p<<4,p^=p>>>13,b>=0&&(x=x+1640531527|0,d=$[b&127]^=p+x,h=d==0?h+1:0);for(h>=128&&($[(u&&u.length||0)&127]=-1),h=127,b=4*128;b>0;--b)p=$[h+34&127],d=$[h=h+1&127],p^=p<<13,d^=d<<17,p^=p>>>15,d^=d>>>12,$[h]=p^d;f.w=x,f.X=$,f.i=h}c(a,l)}function i(l,a){return a.i=l.i,a.w=l.w,a.X=l.X.slice(),a}function o(l,a){l==null&&(l=+new Date);var c=new r(l),f=a&&a.state,u=function(){return(c.next()>>>0)/4294967296};return u.double=function(){do var d=c.next()>>>11,p=(c.next()>>>0)/4294967296,h=(d+p)/(1<<21);while(h===0);return h},u.int32=c.next,u.quick=u,f&&(f.X&&i(f,c),u.state=function(){return i(c,{})}),u}n&&n.exports?n.exports=o:t&&t.amd?t(function(){return o}):this.xor4096=o})(hn,s,!1)})(Jo);var m1=Jo.exports,Qo={exports:{}};Qo.exports;(function(s){(function(e,n,t){function r(l){var a=this,c="";a.next=function(){var u=a.b,d=a.c,p=a.d,h=a.a;return u=u<<25^u>>>7^d,d=d-p|0,p=p<<24^p>>>8^h,h=h-u|0,a.b=u=u<<20^u>>>12^d,a.c=d=d-p|0,a.d=p<<16^d>>>16^h,a.a=h-u|0},a.a=0,a.b=0,a.c=-1640531527,a.d=1367130551,l===Math.floor(l)?(a.a=l/4294967296|0,a.b=l|0):c+=l;for(var f=0;f<c.length+20;f++)a.b^=c.charCodeAt(f)|0,a.next()}function i(l,a){return a.a=l.a,a.b=l.b,a.c=l.c,a.d=l.d,a}function o(l,a){var c=new r(l),f=a&&a.state,u=function(){return(c.next()>>>0)/4294967296};return u.double=function(){do var d=c.next()>>>11,p=(c.next()>>>0)/4294967296,h=(d+p)/(1<<21);while(h===0);return h},u.int32=c.next,u.quick=u,f&&(typeof f=="object"&&i(f,c),u.state=function(){return i(c,{})}),u}n&&n.exports?n.exports=o:t&&t.amd?t(function(){return o}):this.tychei=o})(hn,s,!1)})(Qo);var g1=Qo.exports,Bc={exports:{}};const _1={},b1=Object.freeze(Object.defineProperty({__proto__:null,default:_1},Symbol.toStringTag,{value:"Module"})),$1=zu(b1);(function(s){(function(e,n,t){var r=256,i=6,o=52,l="random",a=t.pow(r,i),c=t.pow(2,o),f=c*2,u=r-1,d;function p(P,T,F){var k=[];T=T==!0?{entropy:!0}:T||{};var j=$(x(T.entropy?[P,S(n)]:P??R(),3),k),fe=new h(k),Z=function(){for(var ee=fe.g(i),te=a,A=0;ee<c;)ee=(ee+A)*r,te*=r,A=fe.g(1);for(;ee>=f;)ee/=2,te/=2,A>>>=1;return(ee+A)/te};return Z.int32=function(){return fe.g(4)|0},Z.quick=function(){return fe.g(4)/4294967296},Z.double=Z,$(S(fe.S),n),(T.pass||F||function(ee,te,A,Q){return Q&&(Q.S&&b(Q,fe),ee.state=function(){return b(fe,{})}),A?(t[l]=ee,te):ee})(Z,j,"global"in T?T.global:this==t,T.state)}function h(P){var T,F=P.length,k=this,j=0,fe=k.i=k.j=0,Z=k.S=[];for(F||(P=[F++]);j<r;)Z[j]=j++;for(j=0;j<r;j++)Z[j]=Z[fe=u&fe+P[j%F]+(T=Z[j])],Z[fe]=T;(k.g=function(ee){for(var te,A=0,Q=k.i,U=k.j,X=k.S;ee--;)te=X[Q=u&Q+1],A=A*r+X[u&(X[Q]=X[U=u&U+te])+(X[U]=te)];return k.i=Q,k.j=U,A})(r)}function b(P,T){return T.i=P.i,T.j=P.j,T.S=P.S.slice(),T}function x(P,T){var F=[],k=typeof P,j;if(T&&k=="object")for(j in P)try{F.push(x(P[j],T-1))}catch{}return F.length?F:k=="string"?P:P+"\0"}function $(P,T){for(var F=P+"",k,j=0;j<F.length;)T[u&j]=u&(k^=T[u&j]*19)+F.charCodeAt(j++);return S(T)}function R(){try{var P;return d&&(P=d.randomBytes)?P=P(r):(P=new Uint8Array(r),(e.crypto||e.msCrypto).getRandomValues(P)),S(P)}catch{var T=e.navigator,F=T&&T.plugins;return[+new Date,e,F,e.screen,S(n)]}}function S(P){return String.fromCharCode.apply(0,P)}if($(t.random(),n),s.exports){s.exports=p;try{d=$1}catch{}}else t["seed"+l]=p})(typeof self<"u"?self:hn,[],Math)})(Bc);var x1=Bc.exports,y1=u1,k1=d1,v1=p1,w1=h1,C1=m1,S1=g1,hr=x1;hr.alea=y1;hr.xor128=k1;hr.xorwow=v1;hr.xorshift7=w1;hr.xor4096=C1;hr.tychei=S1;var E1=hr;const ji=Oo(E1);class R1{constructor(e,n,t,r){this.x1=e,this.y1=n,this.x2=t,this.y2=r}}function T1(s){let e,n,t,r;return e=new Te({props:{descriptor:"Start",pos:"g-1-1",color:ae.c2_b_bs_c,min_height:"33"}}),e.$on("touchend",s[1]),t=new Te({props:{descriptor:"Exit",pos:"g-1-2",color:ae.c2_b_bs_c,min_height:"33"}}),t.$on("touchend",s[2]),{c(){v(e.$$.fragment),n=W(),v(t.$$.fragment)},l(i){E(e.$$.fragment,i),n=D(i),E(t.$$.fragment,i)},m(i,o){w(e,i,o),y(i,n,o),w(t,i,o),r=!0},p:V,i(i){r||(g(e.$$.fragment,i),g(t.$$.fragment,i),r=!0)},o(i){_(e.$$.fragment,i),_(t.$$.fragment,i),r=!1},d(i){C(e,i),i&&m(n),C(t,i)}}}function P1(s){let e,n;return e=new Yt({props:{$$slots:{default:[T1]},$$scope:{ctx:s}}}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p(t,[r]){const i={};r&8&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function A1(s){const e=at();return[e,()=>e("vup",ke.artificial(" ")),()=>e("vup",ke.artificial("x"))]}class I1 extends re{constructor(e){super(),ie(this,e,A1,P1,se,{})}}function O1(s){let e,n,t,r,i,o;return e=new Te({props:{descriptor:"↺",pos:"g-1-1",color:ae.c2_b_bs_c,min_height:"33"}}),e.$on("touchstart",s[1]),e.$on("touchend",s[2]),t=new Te({props:{descriptor:"Fire",pos:"g-1-2",color:ae.c2_b_bs_c,min_height:"33"}}),t.$on("touchstart",s[3]),t.$on("touchend",s[4]),i=new Te({props:{descriptor:"↻",pos:"g-1-3",color:ae.c2_b_bs_c,min_height:"33"}}),i.$on("touchstart",s[5]),i.$on("touchend",s[6]),{c(){v(e.$$.fragment),n=W(),v(t.$$.fragment),r=W(),v(i.$$.fragment)},l(l){E(e.$$.fragment,l),n=D(l),E(t.$$.fragment,l),r=D(l),E(i.$$.fragment,l)},m(l,a){w(e,l,a),y(l,n,a),w(t,l,a),y(l,r,a),w(i,l,a),o=!0},p:V,i(l){o||(g(e.$$.fragment,l),g(t.$$.fragment,l),g(i.$$.fragment,l),o=!0)},o(l){_(e.$$.fragment,l),_(t.$$.fragment,l),_(i.$$.fragment,l),o=!1},d(l){C(e,l),l&&m(n),C(t,l),l&&m(r),C(i,l)}}}function M1(s){let e,n;return e=new Yt({props:{$$slots:{default:[O1]},$$scope:{ctx:s}}}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p(t,[r]){const i={};r&128&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function W1(s){const e=at();return[e,()=>e("vdown",ke.artificial("ArrowLeft")),()=>e("vup",ke.artificial("ArrowLeft")),()=>e("vdown",ke.artificial("ArrowUp")),()=>e("vup",ke.artificial("ArrowUp")),()=>e("vdown",ke.artificial("ArrowRight")),()=>e("vup",ke.artificial("ArrowRight"))]}class D1 extends re{constructor(e){super(),ie(this,e,W1,M1,se,{})}}function j1(s){let e,n,t,r;return e=new Te({props:{descriptor:"Restart",pos:"g-1-1",color:ae.c2_b_bs_c,min_height:"33"}}),e.$on("touchend",s[1]),t=new Te({props:{descriptor:"Exit",pos:"g-1-2",color:ae.c2_b_bs_c,min_height:"33"}}),t.$on("touchend",s[2]),{c(){v(e.$$.fragment),n=W(),v(t.$$.fragment)},l(i){E(e.$$.fragment,i),n=D(i),E(t.$$.fragment,i)},m(i,o){w(e,i,o),y(i,n,o),w(t,i,o),r=!0},p:V,i(i){r||(g(e.$$.fragment,i),g(t.$$.fragment,i),r=!0)},o(i){_(e.$$.fragment,i),_(t.$$.fragment,i),r=!1},d(i){C(e,i),i&&m(n),C(t,i)}}}function N1(s){let e,n;return e=new Yt({props:{$$slots:{default:[j1]},$$scope:{ctx:s}}}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p(t,[r]){const i={};r&8&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function L1(s){const e=at();return[e,()=>e("vup",ke.artificial("r")),()=>e("vup",ke.artificial("x"))]}class B1 extends re{constructor(e){super(),ie(this,e,L1,N1,se,{})}}function zc(s,e=Math.random){let n="";const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<s;r+=1)n+=t.charAt(Math.floor(e()*t.length));return n}const{document:wl}=au;function z1(s){let e,n,t,r;const i=[V1,F1,U1],o=[];function l(a,c){return a[2]=="start"?0:a[2]=="play"||a[2]=="explosion"?1:a[2]=="won"||a[2]=="lost"?2:-1}return~(e=l(s))&&(n=o[e]=i[e](s)),{c(){n&&n.c(),t=J()},l(a){n&&n.l(a),t=J()},m(a,c){~e&&o[e].m(a,c),y(a,t,c),r=!0},p(a,c){let f=e;e=l(a),e===f?~e&&o[e].p(a,c):(n&&(de(),_(o[f],1,1,()=>{o[f]=null}),pe()),~e?(n=o[e],n?n.p(a,c):(n=o[e]=i[e](a),n.c()),g(n,1),n.m(t.parentNode,t)):n=null)},i(a){r||(g(n),r=!0)},o(a){_(n),r=!1},d(a){~e&&o[e].d(a),a&&m(t)}}}function U1(s){let e,n;return e=new B1({}),e.$on("vup",s[12]),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p:V,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function F1(s){let e,n;return e=new D1({}),e.$on("vup",s[10]),e.$on("vdown",s[11]),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p:V,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function V1(s){let e,n;return e=new I1({}),e.$on("vup",s[9]),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p:V,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function q1(s){let e,n,t,r,i,o=ve&&z1(s);return{c(){e=O("div"),n=O("canvas"),t=W(),o&&o.c(),r=J(),this.h()},l(l){e=M(l,"DIV",{class:!0});var a=z(e);n=M(a,"CANVAS",{id:!0}),z(n).forEach(m),a.forEach(m),t=D(l),o&&o.l(l),r=J(),this.h()},h(){B(n,"id","canvas"),B(e,"class","content svelte-kqui9u")},m(l,a){y(l,e,a),N(e,n),y(l,t,a),o&&o.m(l,a),y(l,r,a),i=!0},p(l,a){ve&&o.p(l,a)},i(l){i||(g(o),i=!0)},o(l){_(o),i=!1},d(l){l&&m(e),l&&m(t),o&&o.d(l),l&&m(r)}}}function G1(s){let e,n,t,r,i;return n=new Ti({props:{hidden:s[1],name:"Lander",info:`${s[0]}`,version:"v1.0",color:ae.c2_b_bg_c$dg,$$slots:{default:[q1]},$$scope:{ctx:s}}}),{c(){e=W(),v(n.$$.fragment)},l(o){e=D(o),E(n.$$.fragment,o)},m(o,l){y(o,e,l),w(n,o,l),t=!0,r||(i=[Tt(wl,"keydown",s[4]),Tt(wl,"keyup",s[5])],r=!0)},p(o,l){const a={};l[0]&2&&(a.hidden=o[1]),l[0]&1&&(a.info=`${o[0]}`),l[0]&4|l[1]&33554432&&(a.$$scope={dirty:l,ctx:o}),n.$set(a)},i(o){t||(g(n.$$.fragment,o),t=!0)},o(o){_(n.$$.fragment,o),t=!1},d(o){o&&m(e),C(n,o),r=!1,ws(i)}}}const J1=60;function Cl(s,e,n){return Math.max(e,Math.min(s,n))}function Bs(s,e,n,t,r){const i=(t-e)/(n-s);return e+i*r}function Q1(s,e,n){let t,{pid:r}=e,{hidden:i}=e,{ipc_channel:o}=e,{gseed:l="08af9a"}=e;const a=at();let c,f,u;const d=new Image,p=[new Image,new Image,new Image],h=[new Image,new Image,new Image,new Image,new Image,new Image,new Image,new Image,new Image,new Image,new Image,new Image],b=new Audio,x=new Audio;let $,R=[],S=[],P=[],T=[],F=[],k=[],j=0,fe=0,Z=!0;const ee=1e3/J1,te=qn("start",{start:{_enter(){window.requestAnimationFrame(Me)},key_up(ne){switch(ne.key){case" ":return"play";case"x":Pt.terminate(a);break}}},play:{_enter(){ge()},win:"won",explode:"explosion",key_down(ne){switch(ne.key){case"ArrowLeft":$.rotate_right=!0;break;case"ArrowRight":$.rotate_left=!0;break;case"ArrowUp":$.fire_engine=!0;break}},key_up(ne){switch(ne.key){case"ArrowLeft":$.rotate_right=!1;break;case"ArrowRight":$.rotate_left=!1;break;case"ArrowUp":$.fire_engine=!1;break}},_exit(){$.shutdown()}},won:{_enter(){window.requestAnimationFrame(We)},key_up(ne){switch(ne.key){case"r":return"play";case"x":Pt.terminate(a);break}}},explosion:{_enter(){x.play(),window.requestAnimationFrame(Re)},lose:"lost"},lost:{_enter(){window.requestAnimationFrame(Ce)},key_up(ne){switch(ne.key){case"r":return"play";case"x":Pt.terminate(a);break}}}});fr(s,te,ne=>n(2,t=ne));function A(ne){!i&&!ve&&te.key_down(ne)}function Q(ne){!i&&!ve&&te.key_up(ne)}function U(ne,$e){!i&&ve&&($e?te.key_up(ne):te.key_down(ne))}function X(ne,$e){return u()*($e-ne)+ne}function q(ne,$e){return Math.floor(u()*($e-ne+1))+ne}function ge(){Z||(n(0,l=zc(7,u)),u=ji(l),console.dev("lander.restart:",l)),Z=!1,[R,S]=K(u()),[T,F]=we(R),k=G(T),P=H(u(),k,T);let ne=q(180,360),$e=X(.5,2),Ae=X(.01,.1);$.reset($.width,$.height,ne*Math.PI/180,$e,Ae,100),j=0,x.pause(),x.currentTime=0,window.requestAnimationFrame(_e)}function K(ne){const $e=ji(ne);let Ae=[],Ve=[];const Je=10,st=6,xt=5,mn=c.height*1/5,gn=20,Un=Math.ceil(($.width+10)/xt)*xt,Oi=Math.ceil(c.width/st),Os=Math.floor($e()*(Oi-Un/xt));let En=$e()*mn,un=$e()*Je*2-Je;for(let en=0;en<c.width+xt;en+=xt){if(en==Os*xt){Ve.push(en),Ae.push([en,c.height-En]),en+=Un,Ae.push([en,c.height-En]);continue}En+=un,un+=$e()*st*2-st,un>Je&&(un=Je),un<-Je&&(un=-Je),En>mn&&(En=mn,un*=-1),En<gn&&(En=gn,un*=-1),Ae.push([en,c.height-En])}return[Ae,Ve]}function we(ne){const $e=[],Ae=[];for(let Ve=0;Ve<ne.length-1;Ve++){const Je=ne[Ve],st=ne[Ve+1],xt=new R1(Je[0],Je[1],st[0],st[1]);$e.push(xt),S.includes(Je[0])&&Ae.push(xt)}return[$e,Ae]}function G(ne){const $e=new Array(c.width);for(const[Ae,Ve]of ne.entries()){const Je=(Ve.y2-Ve.y1)/(Ve.x2-Ve.x1);for(let st=Ve.x1;st<=Ve.x2;st++)$e[st]={y:Ve.y1+Je*(st-Ve.x1),index:Ae}}return $e}function H(ne,$e,Ae){const Ve=ji(ne),Je=[];for(let st=0;st<150;st++){const xt=Ve()*(c.width-1),mn=Ve()*(c.height-1),gn=Ae[$e[Math.floor(xt)].index],Un=Ae[$e[Math.ceil(xt)].index];(wr(xt,mn,xt,c.height,gn.x1,gn.y1,gn.x2,gn.y2)||wr(xt,mn,xt,c.height,Un.x1,Un.y1,Un.x2,Un.y2))&&Je.push({x:xt,y:mn,radius:Math.sqrt(Ve()*1.5)})}return Je}function ct(ne,$e="white",Ae=1){f.beginPath(),f.lineWidth=Ae,f.strokeStyle=$e,f.moveTo(ne.x1,ne.y1),f.lineTo(ne.x2,ne.y2),f.stroke()}function Nt(){f.save();for(let ne=0;ne<T.length;ne++){let $e=T[ne];S.includes($e.x1)?ct($e,"white",2):ct($e)}f.restore()}function Zt(){f.save(),f.fillStyle="black",f.fillRect(0,0,c.width,c.height),f.restore()}function Jt(){f.save();for(let ne of P)f.beginPath(),f.arc(ne.x,ne.y,ne.radius,0,2*Math.PI),f.fillStyle="#bbbbbb",f.fill();f.restore()}function Sn(){f.save(),f.font='16px "Lucida Console", Consolas, monospace',f.fillStyle="white",f.fillText(`vx:    ${$.velocity.x.toFixed(2)}`,c.width-120,20),f.fillText(`vy:    ${$.velocity.y.toFixed(2)}`,c.width-120,40),f.fillText(`angle: ${($.angle*180/Math.PI).toFixed(0)%360}`,c.width-120,60),f.fillText(`alt:   ${Math.abs(k[$.x.toFixed(0)].y-($.y+$.height/2)).toFixed(0)}`,c.width-120,80),f.fillText(`fuel:  ${Math.abs($.fuel.toFixed(1))}`,c.width-120,100),f.restore()}function Re(){if(f.clearRect(0,0,c.width,c.height),Zt(),Jt(),Sn(),Nt(),f.drawImage(h[j],$.x-h[j].width/4,$.y-h[j].height/4,h[j].width/2,h[j].height/2),j++,j>=h.length){te.lose();return}setTimeout(()=>window.requestAnimationFrame(Re),75)}function oe(){const[ne,$e,Ae,Ve]=$.vertices(),Je=Cl(Math.floor(Math.min(ne[0],$e[0],Ae[0],Ve[0])-5),0,c.width),st=Cl(Math.ceil(Math.max(ne[0],$e[0],Ae[0],Ve[0])+5),0,c.width),xt=k[Je].index,mn=k[st].index;let gn=!1;for(let un=xt;un<=mn;un++){const en=T[un];gn=gn||$.collides_with_line(en.x1,en.y1,en.x2,en.y2)}const Un=$.collides_with_line(0,0,c.width,0),Oi=$.collides_with_line(c.width,0,c.width,c.height),Os=$.collides_with_line(0,c.height,c.width,c.height),En=$.collides_with_line(0,0,0,c.height);return gn||Un||Oi||Os||En?(console.dev("Collision"),!0):!1}function be(){for(let ne of F)if($.collides_with_line(ne.x1,ne.y1,ne.x2,ne.y2))return $.angle*180/Math.PI>10&&$.angle*180/Math.PI<350?(console.dev("Faulty angle",$.angle*180/Math.PI),!1):$.velocity.x>.15?(console.dev("Too fast x",$.velocity.x),!1):$.velocity.y>.2||$.velocity.y<-.2?(console.dev("Too fast y",$.velocity.y),!1):!0;return console.dev("Not on landing pad"),!1}function Ee(){let ne=$.angle*180/Math.PI;return ne>=350&&(ne=10-ne%350),Math.ceil(Math.ceil($.fuel)+Bs(0,1,10,0,ne)*100+Bs(0,1,.15,0,$.velocity.x)*100+Bs(0,1,.2,0,Math.abs($.velocity.y))*100)}function _e(ne){fe==0&&(fe=ne);const $e=ne-fe;if((!ve||$e>ee)&&(fe=ne,f.clearRect(0,0,c.width,c.height),Zt(),Jt(),Sn(),Nt(),$.update(),$.draw(f),oe())){be()?te.win():te.explode();return}window.requestAnimationFrame(_e)}function Me(){t=="start"&&(f.save(),f.clearRect(0,0,c.width,c.height),Zt(),Jt(),Nt(),f.font='50px "Lucida Console", Consolas, monospace',f.fillStyle="white",f.textAlign="center",f.save(),f.shadowColor="grey",f.shadowOffsetX=5,f.shadowOffsetY=5,f.fillText("Moon Lander",c.width/2,c.height/2-100),f.restore(),f.font='20px "Lucida Console", Consolas, monospace',f.fillText('Press "Space" to play.',c.width/2,c.height/2),f.fillText("Use the Arrow keys to move.",c.width/2,c.height/2+25),f.fillText('Press "X" to exit.',c.width/2,c.height/2+50),f.restore(),window.requestAnimationFrame(Me))}function We(){t=="won"&&(f.save(),f.clearRect(0,0,c.width,c.height),Zt(),Jt(),Sn(),Nt(),$.draw(f),f.font='20px "Lucida Console", Consolas, monospace',f.fillStyle="white",f.textAlign="center",f.fillText("Successful landing!",c.width/2,c.height/2),f.fillText(`Your score: ${Ee()}`,c.width/2,c.height/2+25),f.fillText('Press "R" to restart.',c.width/2,c.height/2+50),f.fillText('Press "X" to exit.',c.width/2,c.height/2+75),f.restore(),window.requestAnimationFrame(We))}function Ce(){t=="lost"&&(f.save(),f.clearRect(0,0,c.width,c.height),Zt(),Jt(),Sn(),Nt(),f.font='20px "Lucida Console", Consolas, monospace',f.fillStyle="white",f.textAlign="center",f.fillText("Failed landing attempt!",c.width/2,c.height/2),f.fillText('Press "R" to restart.',c.width/2,c.height/2+25),f.fillText('Press "X" to exit.',c.width/2,c.height/2+50),f.restore(),window.requestAnimationFrame(Ce))}function Pe(ne,$e){ne.src=$e;const Ae=new mi;return ne.onload=function(){Ae.resolve()},Ae}function je(ne,$e){ne.src=$e;const Ae=new mi;return ne.oncanplay=function(){Ae.resolve()},Ae}Et(async()=>{u=ji(l),console.dev("lander.start:",l),c=document.querySelector("canvas"),c.style.width="100%",c.style.height="100%",c.width=c.offsetWidth,c.height=c.offsetHeight,f=c.getContext("2d"),await Promise.all([Pe(d,"lander/lander.png"),Pe(p[0],"lander/burn1.png"),Pe(p[1],"lander/burn2.png"),Pe(p[2],"lander/burn3.png"),Pe(h[0],"lander/explosion1.gif"),Pe(h[1],"lander/explosion2.gif"),Pe(h[2],"lander/explosion3.gif"),Pe(h[3],"lander/explosion4.gif"),Pe(h[4],"lander/explosion5.gif"),Pe(h[5],"lander/explosion6.gif"),Pe(h[6],"lander/explosion7.gif"),Pe(h[7],"lander/explosion8.gif"),Pe(h[8],"lander/explosion9.gif"),Pe(h[9],"lander/explosion10.gif"),Pe(h[10],"lander/explosion11.gif"),Pe(h[11],"lander/explosion12.gif"),je(b,"lander/thruster.mp3"),je(x,"lander/explosion.mp3")]),b.loop=!0,b.volume=.2,x.volume=.2,$=new f1(50,50,d.width,d.height,0,0,0,0,d,p,b),console.dev($),[R,S]=K(u()),[T,F]=we(R),k=G(T),P=H(u(),k,T)});const Fe=ne=>U(ne.detail,!0),ut=ne=>U(ne.detail,!0),Ge=ne=>U(ne.detail,!1),Be=ne=>U(ne.detail,!0);return s.$$set=ne=>{"pid"in ne&&n(7,r=ne.pid),"hidden"in ne&&n(1,i=ne.hidden),"ipc_channel"in ne&&n(8,o=ne.ipc_channel),"gseed"in ne&&n(0,l=ne.gseed)},[l,i,t,te,A,Q,U,r,o,Fe,ut,Ge,Be]}class Sl extends re{constructor(e){super(),ie(this,e,Q1,G1,se,{pid:7,hidden:1,ipc_channel:8,gseed:0},null,[-1,-1])}}class K1 extends pr{constructor(){super("lander")}async exec(e){return e.length==0?new ln(new Vn(this.name,Sl,{gseed:zc(7)})):e.length==1?(console.devlog(`SEED: ${e[0].substring(0,7)}`),new ln(new Vn(this.name,Sl,{gseed:e[0].substring(0,7)}))):kr(1,vr.html("<br><span>Too many parameters.</span><br><br>"))}}const H1=new K1;function X1(s){let e,n,t,r,i,o,l=s[1]!=""&&El(s);return{c(){l&&l.c(),e=W(),n=O("span"),t=le(s[2]),i=O("span"),o=le(s[3]),this.h()},l(a){l&&l.l(a),e=D(a),n=M(a,"SPAN",{class:!0});var c=z(n);t=ce(c,s[2]),c.forEach(m),i=M(a,"SPAN",{class:!0});var f=z(i);o=ce(f,s[3]),f.forEach(m),this.h()},h(){B(n,"class",r="text "+(s[5]?"emphasize":"")+" svelte-1i3jkji"),B(i,"class","time svelte-1i3jkji")},m(a,c){l&&l.m(a,c),y(a,e,c),y(a,n,c),N(n,t),y(a,i,c),N(i,o)},p(a,c){a[1]!=""?l?l.p(a,c):(l=El(a),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),c&4&&De(t,a[2]),c&32&&r!==(r="text "+(a[5]?"emphasize":"")+" svelte-1i3jkji")&&B(n,"class",r),c&8&&De(o,a[3])},d(a){l&&l.d(a),a&&m(e),a&&m(n),a&&m(i)}}}function Y1(s){let e,n,t,r,i,o,l,a=s[1]!=""&&Rl(s);return{c(){e=O("span"),n=le(s[2]),r=W(),a&&a.c(),i=W(),o=O("span"),l=le(s[3]),this.h()},l(c){e=M(c,"SPAN",{class:!0});var f=z(e);n=ce(f,s[2]),f.forEach(m),r=D(c),a&&a.l(c),i=D(c),o=M(c,"SPAN",{class:!0});var u=z(o);l=ce(u,s[3]),u.forEach(m),this.h()},h(){B(e,"class",t="text "+(s[5]?"emphasize":"")+" svelte-1i3jkji"),B(o,"class","time svelte-1i3jkji")},m(c,f){y(c,e,f),N(e,n),y(c,r,f),a&&a.m(c,f),y(c,i,f),y(c,o,f),N(o,l)},p(c,f){f&4&&De(n,c[2]),f&32&&t!==(t="text "+(c[5]?"emphasize":"")+" svelte-1i3jkji")&&B(e,"class",t),c[1]!=""?a?a.p(c,f):(a=Rl(c),a.c(),a.m(i.parentNode,i)):a&&(a.d(1),a=null),f&8&&De(l,c[3])},d(c){c&&m(e),c&&m(r),a&&a.d(c),c&&m(i),c&&m(o)}}}function El(s){let e,n;return{c(){e=O("span"),n=le(s[1]),this.h()},l(t){e=M(t,"SPAN",{class:!0});var r=z(e);n=ce(r,s[1]),r.forEach(m),this.h()},h(){B(e,"class","sender highlight "+s[6].css_value+" svelte-1i3jkji")},m(t,r){y(t,e,r),N(e,n)},p(t,r){r&2&&De(n,t[1])},d(t){t&&m(e)}}}function Rl(s){let e,n;return{c(){e=O("span"),n=le(s[1]),this.h()},l(t){e=M(t,"SPAN",{class:!0});var r=z(e);n=ce(r,s[1]),r.forEach(m),this.h()},h(){B(e,"class","invSender highlight "+s[6].css_value+" svelte-1i3jkji")},m(t,r){y(t,e,r),N(e,n)},p(t,r){r&2&&De(n,t[1])},d(t){t&&m(e)}}}function Z1(s){let e,n;function t(o,l){return o[4]?Y1:X1}let r=t(s),i=r(s);return{c(){e=O("div"),i.c(),this.h()},l(o){e=M(o,"DIV",{id:!0,class:!0});var l=z(e);i.l(l),l.forEach(m),this.h()},h(){B(e,"id",n="msg-item-"+s[0]),B(e,"class","svelte-1i3jkji")},m(o,l){y(o,e,l),i.m(e,null)},p(o,[l]){r===(r=t(o))&&i?i.p(o,l):(i.d(1),i=r(o),i&&(i.c(),i.m(e,null))),l&1&&n!==(n="msg-item-"+o[0])&&B(e,"id",n)},i:V,o:V,d(o){o&&m(e),i.d()}}}function e$(s,e,n){let{id:t}=e,{sender:r}=e,{text:i}=e,{time:o}=e,{inverted:l=!1}=e,{backgroundColor:a}=e,{textColor:c}=e,{emphasize:f=!1}=e;const u=new ss(c.hex).combine(new hi(a.hex));return s.$$set=d=>{"id"in d&&n(0,t=d.id),"sender"in d&&n(1,r=d.sender),"text"in d&&n(2,i=d.text),"time"in d&&n(3,o=d.time),"inverted"in d&&n(4,l=d.inverted),"backgroundColor"in d&&n(7,a=d.backgroundColor),"textColor"in d&&n(8,c=d.textColor),"emphasize"in d&&n(5,f=d.emphasize)},[t,r,i,o,l,f,u,a,c]}class t$ extends re{constructor(e){super(),ie(this,e,e$,Z1,se,{id:0,sender:1,text:2,time:3,inverted:4,backgroundColor:7,textColor:8,emphasize:5})}}const Ne={magic:"c8122b9b6a633acfbc4b753843786a68589c2547359cfd5d152028ddb82b2e5e",net:{msg:"msg",userList:"userList",userAdd:"userAdd",userRemove:"userRemove"},event:{msg:"msg",open:"open",connected:"connected",closed:"closed",service:"service",ready:"ready"}};Object.freeze(Ne);class sr{constructor(e,n,t=new Date(Date.now()).toLocaleTimeString()){this.from=e,this.text=n,this.time=t}}class or extends sr{constructor(e,n,t,r,i,o=!1,l=!1){super(e,n,t),this.inverted=o,this.emphasize=l,this.backgroundColor=r,this.textColor=i}static fromMessage(e,n,t,r=!1,i=!1){return new or(e.from,e.text,e.time,n,t,r,i)}}class n${constructor(){this.encoder=new TextEncoder,this._pieces=[],this._parts=[]}append_buffer(e){this.flush(),this._parts.push(e)}append(e){this._pieces.push(e)}flush(){if(this._pieces.length>0){const e=new Uint8Array(this._pieces);this._parts.push(e),this._pieces=[]}}toArrayBuffer(){const e=[];for(const n of this._parts)e.push(n);return r$(e).buffer}}function r$(s){let e=0;for(const r of s)e+=r.byteLength;const n=new Uint8Array(e);let t=0;for(const r of s){const i=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);n.set(i,t),t+=r.byteLength}return n}function Uc(s){return new i$(s).unpack()}function Fc(s){const e=new s$,n=e.pack(s);return n instanceof Promise?n.then(()=>e.getBuffer()):e.getBuffer()}class i${constructor(e){this.index=0,this.dataBuffer=e,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}unpack(){const e=this.unpack_uint8();if(e<128)return e;if((e^224)<32)return(e^224)-32;let n;if((n=e^160)<=15)return this.unpack_raw(n);if((n=e^176)<=15)return this.unpack_string(n);if((n=e^144)<=15)return this.unpack_array(n);if((n=e^128)<=15)return this.unpack_map(n);switch(e){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return n=this.unpack_uint16(),this.unpack_string(n);case 217:return n=this.unpack_uint32(),this.unpack_string(n);case 218:return n=this.unpack_uint16(),this.unpack_raw(n);case 219:return n=this.unpack_uint32(),this.unpack_raw(n);case 220:return n=this.unpack_uint16(),this.unpack_array(n);case 221:return n=this.unpack_uint32(),this.unpack_array(n);case 222:return n=this.unpack_uint16(),this.unpack_map(n);case 223:return n=this.unpack_uint32(),this.unpack_map(n)}}unpack_uint8(){const e=this.dataView[this.index]&255;return this.index++,e}unpack_uint16(){const e=this.read(2),n=(e[0]&255)*256+(e[1]&255);return this.index+=2,n}unpack_uint32(){const e=this.read(4),n=((e[0]*256+e[1])*256+e[2])*256+e[3];return this.index+=4,n}unpack_uint64(){const e=this.read(8),n=((((((e[0]*256+e[1])*256+e[2])*256+e[3])*256+e[4])*256+e[5])*256+e[6])*256+e[7];return this.index+=8,n}unpack_int8(){const e=this.unpack_uint8();return e<128?e:e-256}unpack_int16(){const e=this.unpack_uint16();return e<32768?e:e-65536}unpack_int32(){const e=this.unpack_uint32();return e<2**31?e:e-2**32}unpack_int64(){const e=this.unpack_uint64();return e<2**63?e:e-2**64}unpack_raw(e){if(this.length<this.index+e)throw new Error(`BinaryPackFailure: index is out of range ${this.index} ${e} ${this.length}`);const n=this.dataBuffer.slice(this.index,this.index+e);return this.index+=e,n}unpack_string(e){const n=this.read(e);let t=0,r="",i,o;for(;t<e;)i=n[t],i<160?(o=i,t++):(i^192)<32?(o=(i&31)<<6|n[t+1]&63,t+=2):(i^224)<16?(o=(i&15)<<12|(n[t+1]&63)<<6|n[t+2]&63,t+=3):(o=(i&7)<<18|(n[t+1]&63)<<12|(n[t+2]&63)<<6|n[t+3]&63,t+=4),r+=String.fromCodePoint(o);return this.index+=e,r}unpack_array(e){const n=new Array(e);for(let t=0;t<e;t++)n[t]=this.unpack();return n}unpack_map(e){const n={};for(let t=0;t<e;t++){const r=this.unpack();n[r]=this.unpack()}return n}unpack_float(){const e=this.unpack_uint32(),n=e>>31,t=(e>>23&255)-127,r=e&8388607|8388608;return(n===0?1:-1)*r*2**(t-23)}unpack_double(){const e=this.unpack_uint32(),n=this.unpack_uint32(),t=e>>31,r=(e>>20&2047)-1023,o=(e&1048575|1048576)*2**(r-20)+n*2**(r-52);return(t===0?1:-1)*o}read(e){const n=this.index;if(n+e<=this.length)return this.dataView.subarray(n,n+e);throw new Error("BinaryPackFailure: read index out of range")}}class s${getBuffer(){return this._bufferBuilder.toArrayBuffer()}pack(e){if(typeof e=="string")this.pack_string(e);else if(typeof e=="number")Math.floor(e)===e?this.pack_integer(e):this.pack_double(e);else if(typeof e=="boolean")e===!0?this._bufferBuilder.append(195):e===!1&&this._bufferBuilder.append(194);else if(e===void 0)this._bufferBuilder.append(192);else if(typeof e=="object")if(e===null)this._bufferBuilder.append(192);else{const n=e.constructor;if(e instanceof Array){const t=this.pack_array(e);if(t instanceof Promise)return t.then(()=>this._bufferBuilder.flush())}else if(e instanceof ArrayBuffer)this.pack_bin(new Uint8Array(e));else if("BYTES_PER_ELEMENT"in e){const t=e;this.pack_bin(new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}else if(e instanceof Date)this.pack_string(e.toString());else{if(e instanceof Blob)return e.arrayBuffer().then(t=>{this.pack_bin(new Uint8Array(t)),this._bufferBuilder.flush()});if(n==Object||n.toString().startsWith("class")){const t=this.pack_object(e);if(t instanceof Promise)return t.then(()=>this._bufferBuilder.flush())}else throw new Error(`Type "${n.toString()}" not yet supported`)}}else throw new Error(`Type "${typeof e}" not yet supported`);this._bufferBuilder.flush()}pack_bin(e){const n=e.length;if(n<=15)this.pack_uint8(160+n);else if(n<=65535)this._bufferBuilder.append(218),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(219),this.pack_uint32(n);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(e)}pack_string(e){const n=this._textEncoder.encode(e),t=n.length;if(t<=15)this.pack_uint8(176+t);else if(t<=65535)this._bufferBuilder.append(216),this.pack_uint16(t);else if(t<=4294967295)this._bufferBuilder.append(217),this.pack_uint32(t);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(n)}pack_array(e){const n=e.length;if(n<=15)this.pack_uint8(144+n);else if(n<=65535)this._bufferBuilder.append(220),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(221),this.pack_uint32(n);else throw new Error("Invalid length");const t=r=>{if(r<n){const i=this.pack(e[r]);return i instanceof Promise?i.then(()=>t(r+1)):t(r+1)}};return t(0)}pack_integer(e){if(e>=-32&&e<=127)this._bufferBuilder.append(e&255);else if(e>=0&&e<=255)this._bufferBuilder.append(204),this.pack_uint8(e);else if(e>=-128&&e<=127)this._bufferBuilder.append(208),this.pack_int8(e);else if(e>=0&&e<=65535)this._bufferBuilder.append(205),this.pack_uint16(e);else if(e>=-32768&&e<=32767)this._bufferBuilder.append(209),this.pack_int16(e);else if(e>=0&&e<=4294967295)this._bufferBuilder.append(206),this.pack_uint32(e);else if(e>=-2147483648&&e<=2147483647)this._bufferBuilder.append(210),this.pack_int32(e);else if(e>=-9223372036854776e3&&e<=9223372036854776e3)this._bufferBuilder.append(211),this.pack_int64(e);else if(e>=0&&e<=18446744073709552e3)this._bufferBuilder.append(207),this.pack_uint64(e);else throw new Error("Invalid integer")}pack_double(e){let n=0;e<0&&(n=1,e=-e);const t=Math.floor(Math.log(e)/Math.LN2),r=e/2**t-1,i=Math.floor(r*2**52),o=2**32,l=n<<31|t+1023<<20|i/o&1048575,a=i%o;this._bufferBuilder.append(203),this.pack_int32(l),this.pack_int32(a)}pack_object(e){const n=Object.keys(e),t=n.length;if(t<=15)this.pack_uint8(128+t);else if(t<=65535)this._bufferBuilder.append(222),this.pack_uint16(t);else if(t<=4294967295)this._bufferBuilder.append(223),this.pack_uint32(t);else throw new Error("Invalid length");const r=i=>{if(i<n.length){const o=n[i];if(e.hasOwnProperty(o)){this.pack(o);const l=this.pack(e[o]);if(l instanceof Promise)return l.then(()=>r(i+1))}return r(i+1)}};return r(0)}pack_uint8(e){this._bufferBuilder.append(e)}pack_uint16(e){this._bufferBuilder.append(e>>8),this._bufferBuilder.append(e&255)}pack_uint32(e){const n=e&4294967295;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255)}pack_uint64(e){const n=e/4294967296,t=e%2**32;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255),this._bufferBuilder.append((t&4278190080)>>>24),this._bufferBuilder.append((t&16711680)>>>16),this._bufferBuilder.append((t&65280)>>>8),this._bufferBuilder.append(t&255)}pack_int8(e){this._bufferBuilder.append(e&255)}pack_int16(e){this._bufferBuilder.append((e&65280)>>8),this._bufferBuilder.append(e&255)}pack_int32(e){this._bufferBuilder.append(e>>>24&255),this._bufferBuilder.append((e&16711680)>>>16),this._bufferBuilder.append((e&65280)>>>8),this._bufferBuilder.append(e&255)}pack_int64(e){const n=Math.floor(e/4294967296),t=e%2**32;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255),this._bufferBuilder.append((t&4278190080)>>>24),this._bufferBuilder.append((t&16711680)>>>16),this._bufferBuilder.append((t&65280)>>>8),this._bufferBuilder.append(t&255)}constructor(){this._bufferBuilder=new n$,this._textEncoder=new TextEncoder}}let Vc=!0,qc=!0;function Qi(s,e,n){const t=s.match(e);return t&&t.length>=n&&parseInt(t[n],10)}function mr(s,e,n){if(!s.RTCPeerConnection)return;const t=s.RTCPeerConnection.prototype,r=t.addEventListener;t.addEventListener=function(o,l){if(o!==e)return r.apply(this,arguments);const a=c=>{const f=n(c);f&&(l.handleEvent?l.handleEvent(f):l(f))};return this._eventMap=this._eventMap||{},this._eventMap[e]||(this._eventMap[e]=new Map),this._eventMap[e].set(l,a),r.apply(this,[o,a])};const i=t.removeEventListener;t.removeEventListener=function(o,l){if(o!==e||!this._eventMap||!this._eventMap[e])return i.apply(this,arguments);if(!this._eventMap[e].has(l))return i.apply(this,arguments);const a=this._eventMap[e].get(l);return this._eventMap[e].delete(l),this._eventMap[e].size===0&&delete this._eventMap[e],Object.keys(this._eventMap).length===0&&delete this._eventMap,i.apply(this,[o,a])},Object.defineProperty(t,"on"+e,{get(){return this["_on"+e]},set(o){this["_on"+e]&&(this.removeEventListener(e,this["_on"+e]),delete this["_on"+e]),o&&this.addEventListener(e,this["_on"+e]=o)},enumerable:!0,configurable:!0})}function o$(s){return typeof s!="boolean"?new Error("Argument type: "+typeof s+". Please use a boolean."):(Vc=s,s?"adapter.js logging disabled":"adapter.js logging enabled")}function a$(s){return typeof s!="boolean"?new Error("Argument type: "+typeof s+". Please use a boolean."):(qc=!s,"adapter.js deprecation warnings "+(s?"disabled":"enabled"))}function Gc(){if(typeof window=="object"){if(Vc)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function Ko(s,e){qc&&console.warn(s+" is deprecated, please use "+e+" instead.")}function l$(s){const e={browser:null,version:null};if(typeof s>"u"||!s.navigator||!s.navigator.userAgent)return e.browser="Not a browser.",e;const{navigator:n}=s;if(n.mozGetUserMedia)e.browser="firefox",e.version=Qi(n.userAgent,/Firefox\/(\d+)\./,1);else if(n.webkitGetUserMedia||s.isSecureContext===!1&&s.webkitRTCPeerConnection)e.browser="chrome",e.version=Qi(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(s.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))e.browser="safari",e.version=Qi(n.userAgent,/AppleWebKit\/(\d+)\./,1),e.supportsUnifiedPlan=s.RTCRtpTransceiver&&"currentDirection"in s.RTCRtpTransceiver.prototype;else return e.browser="Not a supported browser.",e;return e}function Tl(s){return Object.prototype.toString.call(s)==="[object Object]"}function Jc(s){return Tl(s)?Object.keys(s).reduce(function(e,n){const t=Tl(s[n]),r=t?Jc(s[n]):s[n],i=t&&!Object.keys(r).length;return r===void 0||i?e:Object.assign(e,{[n]:r})},{}):s}function ao(s,e,n){!e||n.has(e.id)||(n.set(e.id,e),Object.keys(e).forEach(t=>{t.endsWith("Id")?ao(s,s.get(e[t]),n):t.endsWith("Ids")&&e[t].forEach(r=>{ao(s,s.get(r),n)})}))}function Pl(s,e,n){const t=n?"outbound-rtp":"inbound-rtp",r=new Map;if(e===null)return r;const i=[];return s.forEach(o=>{o.type==="track"&&o.trackIdentifier===e.id&&i.push(o)}),i.forEach(o=>{s.forEach(l=>{l.type===t&&l.trackId===o.id&&ao(s,l,r)})}),r}const Al=Gc;function Qc(s,e){const n=s&&s.navigator;if(!n.mediaDevices)return;const t=function(l){if(typeof l!="object"||l.mandatory||l.optional)return l;const a={};return Object.keys(l).forEach(c=>{if(c==="require"||c==="advanced"||c==="mediaSource")return;const f=typeof l[c]=="object"?l[c]:{ideal:l[c]};f.exact!==void 0&&typeof f.exact=="number"&&(f.min=f.max=f.exact);const u=function(d,p){return d?d+p.charAt(0).toUpperCase()+p.slice(1):p==="deviceId"?"sourceId":p};if(f.ideal!==void 0){a.optional=a.optional||[];let d={};typeof f.ideal=="number"?(d[u("min",c)]=f.ideal,a.optional.push(d),d={},d[u("max",c)]=f.ideal,a.optional.push(d)):(d[u("",c)]=f.ideal,a.optional.push(d))}f.exact!==void 0&&typeof f.exact!="number"?(a.mandatory=a.mandatory||{},a.mandatory[u("",c)]=f.exact):["min","max"].forEach(d=>{f[d]!==void 0&&(a.mandatory=a.mandatory||{},a.mandatory[u(d,c)]=f[d])})}),l.advanced&&(a.optional=(a.optional||[]).concat(l.advanced)),a},r=function(l,a){if(e.version>=61)return a(l);if(l=JSON.parse(JSON.stringify(l)),l&&typeof l.audio=="object"){const c=function(f,u,d){u in f&&!(d in f)&&(f[d]=f[u],delete f[u])};l=JSON.parse(JSON.stringify(l)),c(l.audio,"autoGainControl","googAutoGainControl"),c(l.audio,"noiseSuppression","googNoiseSuppression"),l.audio=t(l.audio)}if(l&&typeof l.video=="object"){let c=l.video.facingMode;c=c&&(typeof c=="object"?c:{ideal:c});const f=e.version<66;if(c&&(c.exact==="user"||c.exact==="environment"||c.ideal==="user"||c.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!f)){delete l.video.facingMode;let u;if(c.exact==="environment"||c.ideal==="environment"?u=["back","rear"]:(c.exact==="user"||c.ideal==="user")&&(u=["front"]),u)return n.mediaDevices.enumerateDevices().then(d=>{d=d.filter(h=>h.kind==="videoinput");let p=d.find(h=>u.some(b=>h.label.toLowerCase().includes(b)));return!p&&d.length&&u.includes("back")&&(p=d[d.length-1]),p&&(l.video.deviceId=c.exact?{exact:p.deviceId}:{ideal:p.deviceId}),l.video=t(l.video),Al("chrome: "+JSON.stringify(l)),a(l)})}l.video=t(l.video)}return Al("chrome: "+JSON.stringify(l)),a(l)},i=function(l){return e.version>=64?l:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[l.name]||l.name,message:l.message,constraint:l.constraint||l.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},o=function(l,a,c){r(l,f=>{n.webkitGetUserMedia(f,a,u=>{c&&c(i(u))})})};if(n.getUserMedia=o.bind(n),n.mediaDevices.getUserMedia){const l=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(a){return r(a,c=>l(c).then(f=>{if(c.audio&&!f.getAudioTracks().length||c.video&&!f.getVideoTracks().length)throw f.getTracks().forEach(u=>{u.stop()}),new DOMException("","NotFoundError");return f},f=>Promise.reject(i(f))))}}}function c$(s,e){if(!(s.navigator.mediaDevices&&"getDisplayMedia"in s.navigator.mediaDevices)&&s.navigator.mediaDevices){if(typeof e!="function"){console.error("shimGetDisplayMedia: getSourceId argument is not a function");return}s.navigator.mediaDevices.getDisplayMedia=function(t){return e(t).then(r=>{const i=t.video&&t.video.width,o=t.video&&t.video.height,l=t.video&&t.video.frameRate;return t.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:r,maxFrameRate:l||3}},i&&(t.video.mandatory.maxWidth=i),o&&(t.video.mandatory.maxHeight=o),s.navigator.mediaDevices.getUserMedia(t)})}}}function Kc(s){s.MediaStream=s.MediaStream||s.webkitMediaStream}function Hc(s){if(typeof s=="object"&&s.RTCPeerConnection&&!("ontrack"in s.RTCPeerConnection.prototype)){Object.defineProperty(s.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=n)},enumerable:!0,configurable:!0});const e=s.RTCPeerConnection.prototype.setRemoteDescription;s.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=t=>{t.stream.addEventListener("addtrack",r=>{let i;s.RTCPeerConnection.prototype.getReceivers?i=this.getReceivers().find(l=>l.track&&l.track.id===r.track.id):i={track:r.track};const o=new Event("track");o.track=r.track,o.receiver=i,o.transceiver={receiver:i},o.streams=[t.stream],this.dispatchEvent(o)}),t.stream.getTracks().forEach(r=>{let i;s.RTCPeerConnection.prototype.getReceivers?i=this.getReceivers().find(l=>l.track&&l.track.id===r.id):i={track:r};const o=new Event("track");o.track=r,o.receiver=i,o.transceiver={receiver:i},o.streams=[t.stream],this.dispatchEvent(o)})},this.addEventListener("addstream",this._ontrackpoly)),e.apply(this,arguments)}}else mr(s,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e))}function Xc(s){if(typeof s=="object"&&s.RTCPeerConnection&&!("getSenders"in s.RTCPeerConnection.prototype)&&"createDTMFSender"in s.RTCPeerConnection.prototype){const e=function(r,i){return{track:i,get dtmf(){return this._dtmf===void 0&&(i.kind==="audio"?this._dtmf=r.createDTMFSender(i):this._dtmf=null),this._dtmf},_pc:r}};if(!s.RTCPeerConnection.prototype.getSenders){s.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const r=s.RTCPeerConnection.prototype.addTrack;s.RTCPeerConnection.prototype.addTrack=function(l,a){let c=r.apply(this,arguments);return c||(c=e(this,l),this._senders.push(c)),c};const i=s.RTCPeerConnection.prototype.removeTrack;s.RTCPeerConnection.prototype.removeTrack=function(l){i.apply(this,arguments);const a=this._senders.indexOf(l);a!==-1&&this._senders.splice(a,1)}}const n=s.RTCPeerConnection.prototype.addStream;s.RTCPeerConnection.prototype.addStream=function(i){this._senders=this._senders||[],n.apply(this,[i]),i.getTracks().forEach(o=>{this._senders.push(e(this,o))})};const t=s.RTCPeerConnection.prototype.removeStream;s.RTCPeerConnection.prototype.removeStream=function(i){this._senders=this._senders||[],t.apply(this,[i]),i.getTracks().forEach(o=>{const l=this._senders.find(a=>a.track===o);l&&this._senders.splice(this._senders.indexOf(l),1)})}}else if(typeof s=="object"&&s.RTCPeerConnection&&"getSenders"in s.RTCPeerConnection.prototype&&"createDTMFSender"in s.RTCPeerConnection.prototype&&s.RTCRtpSender&&!("dtmf"in s.RTCRtpSender.prototype)){const e=s.RTCPeerConnection.prototype.getSenders;s.RTCPeerConnection.prototype.getSenders=function(){const t=e.apply(this,[]);return t.forEach(r=>r._pc=this),t},Object.defineProperty(s.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function Yc(s){if(!s.RTCPeerConnection)return;const e=s.RTCPeerConnection.prototype.getStats;s.RTCPeerConnection.prototype.getStats=function(){const[t,r,i]=arguments;if(arguments.length>0&&typeof t=="function")return e.apply(this,arguments);if(e.length===0&&(arguments.length===0||typeof t!="function"))return e.apply(this,[]);const o=function(a){const c={};return a.result().forEach(u=>{const d={id:u.id,timestamp:u.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[u.type]||u.type};u.names().forEach(p=>{d[p]=u.stat(p)}),c[d.id]=d}),c},l=function(a){return new Map(Object.keys(a).map(c=>[c,a[c]]))};if(arguments.length>=2){const a=function(c){r(l(o(c)))};return e.apply(this,[a,t])}return new Promise((a,c)=>{e.apply(this,[function(f){a(l(o(f)))},c])}).then(r,i)}}function Zc(s){if(!(typeof s=="object"&&s.RTCPeerConnection&&s.RTCRtpSender&&s.RTCRtpReceiver))return;if(!("getStats"in s.RTCRtpSender.prototype)){const n=s.RTCPeerConnection.prototype.getSenders;n&&(s.RTCPeerConnection.prototype.getSenders=function(){const i=n.apply(this,[]);return i.forEach(o=>o._pc=this),i});const t=s.RTCPeerConnection.prototype.addTrack;t&&(s.RTCPeerConnection.prototype.addTrack=function(){const i=t.apply(this,arguments);return i._pc=this,i}),s.RTCRtpSender.prototype.getStats=function(){const i=this;return this._pc.getStats().then(o=>Pl(o,i.track,!0))}}if(!("getStats"in s.RTCRtpReceiver.prototype)){const n=s.RTCPeerConnection.prototype.getReceivers;n&&(s.RTCPeerConnection.prototype.getReceivers=function(){const r=n.apply(this,[]);return r.forEach(i=>i._pc=this),r}),mr(s,"track",t=>(t.receiver._pc=t.srcElement,t)),s.RTCRtpReceiver.prototype.getStats=function(){const r=this;return this._pc.getStats().then(i=>Pl(i,r.track,!1))}}if(!("getStats"in s.RTCRtpSender.prototype&&"getStats"in s.RTCRtpReceiver.prototype))return;const e=s.RTCPeerConnection.prototype.getStats;s.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof s.MediaStreamTrack){const t=arguments[0];let r,i,o;return this.getSenders().forEach(l=>{l.track===t&&(r?o=!0:r=l)}),this.getReceivers().forEach(l=>(l.track===t&&(i?o=!0:i=l),l.track===t)),o||r&&i?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):r?r.getStats():i?i.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return e.apply(this,arguments)}}function ef(s){s.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(o=>this._shimmedLocalStreams[o][0])};const e=s.RTCPeerConnection.prototype.addTrack;s.RTCPeerConnection.prototype.addTrack=function(o,l){if(!l)return e.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const a=e.apply(this,arguments);return this._shimmedLocalStreams[l.id]?this._shimmedLocalStreams[l.id].indexOf(a)===-1&&this._shimmedLocalStreams[l.id].push(a):this._shimmedLocalStreams[l.id]=[l,a],a};const n=s.RTCPeerConnection.prototype.addStream;s.RTCPeerConnection.prototype.addStream=function(o){this._shimmedLocalStreams=this._shimmedLocalStreams||{},o.getTracks().forEach(c=>{if(this.getSenders().find(u=>u.track===c))throw new DOMException("Track already exists.","InvalidAccessError")});const l=this.getSenders();n.apply(this,arguments);const a=this.getSenders().filter(c=>l.indexOf(c)===-1);this._shimmedLocalStreams[o.id]=[o].concat(a)};const t=s.RTCPeerConnection.prototype.removeStream;s.RTCPeerConnection.prototype.removeStream=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[o.id],t.apply(this,arguments)};const r=s.RTCPeerConnection.prototype.removeTrack;s.RTCPeerConnection.prototype.removeTrack=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},o&&Object.keys(this._shimmedLocalStreams).forEach(l=>{const a=this._shimmedLocalStreams[l].indexOf(o);a!==-1&&this._shimmedLocalStreams[l].splice(a,1),this._shimmedLocalStreams[l].length===1&&delete this._shimmedLocalStreams[l]}),r.apply(this,arguments)}}function tf(s,e){if(!s.RTCPeerConnection)return;if(s.RTCPeerConnection.prototype.addTrack&&e.version>=65)return ef(s);const n=s.RTCPeerConnection.prototype.getLocalStreams;s.RTCPeerConnection.prototype.getLocalStreams=function(){const f=n.apply(this);return this._reverseStreams=this._reverseStreams||{},f.map(u=>this._reverseStreams[u.id])};const t=s.RTCPeerConnection.prototype.addStream;s.RTCPeerConnection.prototype.addStream=function(f){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},f.getTracks().forEach(u=>{if(this.getSenders().find(p=>p.track===u))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[f.id]){const u=new s.MediaStream(f.getTracks());this._streams[f.id]=u,this._reverseStreams[u.id]=f,f=u}t.apply(this,[f])};const r=s.RTCPeerConnection.prototype.removeStream;s.RTCPeerConnection.prototype.removeStream=function(f){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},r.apply(this,[this._streams[f.id]||f]),delete this._reverseStreams[this._streams[f.id]?this._streams[f.id].id:f.id],delete this._streams[f.id]},s.RTCPeerConnection.prototype.addTrack=function(f,u){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const d=[].slice.call(arguments,1);if(d.length!==1||!d[0].getTracks().find(b=>b===f))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(b=>b.track===f))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const h=this._streams[u.id];if(h)h.addTrack(f),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const b=new s.MediaStream([f]);this._streams[u.id]=b,this._reverseStreams[b.id]=u,this.addStream(b)}return this.getSenders().find(b=>b.track===f)};function i(c,f){let u=f.sdp;return Object.keys(c._reverseStreams||[]).forEach(d=>{const p=c._reverseStreams[d],h=c._streams[p.id];u=u.replace(new RegExp(h.id,"g"),p.id)}),new RTCSessionDescription({type:f.type,sdp:u})}function o(c,f){let u=f.sdp;return Object.keys(c._reverseStreams||[]).forEach(d=>{const p=c._reverseStreams[d],h=c._streams[p.id];u=u.replace(new RegExp(p.id,"g"),h.id)}),new RTCSessionDescription({type:f.type,sdp:u})}["createOffer","createAnswer"].forEach(function(c){const f=s.RTCPeerConnection.prototype[c],u={[c](){const d=arguments;return arguments.length&&typeof arguments[0]=="function"?f.apply(this,[h=>{const b=i(this,h);d[0].apply(null,[b])},h=>{d[1]&&d[1].apply(null,h)},arguments[2]]):f.apply(this,arguments).then(h=>i(this,h))}};s.RTCPeerConnection.prototype[c]=u[c]});const l=s.RTCPeerConnection.prototype.setLocalDescription;s.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?l.apply(this,arguments):(arguments[0]=o(this,arguments[0]),l.apply(this,arguments))};const a=Object.getOwnPropertyDescriptor(s.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(s.RTCPeerConnection.prototype,"localDescription",{get(){const c=a.get.apply(this);return c.type===""?c:i(this,c)}}),s.RTCPeerConnection.prototype.removeTrack=function(f){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!f._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(f._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let d;Object.keys(this._streams).forEach(p=>{this._streams[p].getTracks().find(b=>f.track===b)&&(d=this._streams[p])}),d&&(d.getTracks().length===1?this.removeStream(this._reverseStreams[d.id]):d.removeTrack(f.track),this.dispatchEvent(new Event("negotiationneeded")))}}function lo(s,e){!s.RTCPeerConnection&&s.webkitRTCPeerConnection&&(s.RTCPeerConnection=s.webkitRTCPeerConnection),s.RTCPeerConnection&&e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){const t=s.RTCPeerConnection.prototype[n],r={[n](){return arguments[0]=new(n==="addIceCandidate"?s.RTCIceCandidate:s.RTCSessionDescription)(arguments[0]),t.apply(this,arguments)}};s.RTCPeerConnection.prototype[n]=r[n]})}function nf(s,e){mr(s,"negotiationneeded",n=>{const t=n.target;if(!((e.version<72||t.getConfiguration&&t.getConfiguration().sdpSemantics==="plan-b")&&t.signalingState!=="stable"))return n})}const Il=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:nf,shimAddTrackRemoveTrack:tf,shimAddTrackRemoveTrackWithNative:ef,shimGetDisplayMedia:c$,shimGetSendersWithDtmf:Xc,shimGetStats:Yc,shimGetUserMedia:Qc,shimMediaStream:Kc,shimOnTrack:Hc,shimPeerConnection:lo,shimSenderReceiverGetStats:Zc},Symbol.toStringTag,{value:"Module"}));function rf(s,e){const n=s&&s.navigator,t=s&&s.MediaStreamTrack;if(n.getUserMedia=function(r,i,o){Ko("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(r).then(i,o)},!(e.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const r=function(o,l,a){l in o&&!(a in o)&&(o[a]=o[l],delete o[l])},i=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(o){return typeof o=="object"&&typeof o.audio=="object"&&(o=JSON.parse(JSON.stringify(o)),r(o.audio,"autoGainControl","mozAutoGainControl"),r(o.audio,"noiseSuppression","mozNoiseSuppression")),i(o)},t&&t.prototype.getSettings){const o=t.prototype.getSettings;t.prototype.getSettings=function(){const l=o.apply(this,arguments);return r(l,"mozAutoGainControl","autoGainControl"),r(l,"mozNoiseSuppression","noiseSuppression"),l}}if(t&&t.prototype.applyConstraints){const o=t.prototype.applyConstraints;t.prototype.applyConstraints=function(l){return this.kind==="audio"&&typeof l=="object"&&(l=JSON.parse(JSON.stringify(l)),r(l,"autoGainControl","mozAutoGainControl"),r(l,"noiseSuppression","mozNoiseSuppression")),o.apply(this,[l])}}}}function f$(s,e){s.navigator.mediaDevices&&"getDisplayMedia"in s.navigator.mediaDevices||s.navigator.mediaDevices&&(s.navigator.mediaDevices.getDisplayMedia=function(t){if(!(t&&t.video)){const r=new DOMException("getDisplayMedia without video constraints is undefined");return r.name="NotFoundError",r.code=8,Promise.reject(r)}return t.video===!0?t.video={mediaSource:e}:t.video.mediaSource=e,s.navigator.mediaDevices.getUserMedia(t)})}function sf(s){typeof s=="object"&&s.RTCTrackEvent&&"receiver"in s.RTCTrackEvent.prototype&&!("transceiver"in s.RTCTrackEvent.prototype)&&Object.defineProperty(s.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function co(s,e){if(typeof s!="object"||!(s.RTCPeerConnection||s.mozRTCPeerConnection))return;!s.RTCPeerConnection&&s.mozRTCPeerConnection&&(s.RTCPeerConnection=s.mozRTCPeerConnection),e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(r){const i=s.RTCPeerConnection.prototype[r],o={[r](){return arguments[0]=new(r==="addIceCandidate"?s.RTCIceCandidate:s.RTCSessionDescription)(arguments[0]),i.apply(this,arguments)}};s.RTCPeerConnection.prototype[r]=o[r]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},t=s.RTCPeerConnection.prototype.getStats;s.RTCPeerConnection.prototype.getStats=function(){const[i,o,l]=arguments;return t.apply(this,[i||null]).then(a=>{if(e.version<53&&!o)try{a.forEach(c=>{c.type=n[c.type]||c.type})}catch(c){if(c.name!=="TypeError")throw c;a.forEach((f,u)=>{a.set(u,Object.assign({},f,{type:n[f.type]||f.type}))})}return a}).then(o,l)}}function of(s){if(!(typeof s=="object"&&s.RTCPeerConnection&&s.RTCRtpSender)||s.RTCRtpSender&&"getStats"in s.RTCRtpSender.prototype)return;const e=s.RTCPeerConnection.prototype.getSenders;e&&(s.RTCPeerConnection.prototype.getSenders=function(){const r=e.apply(this,[]);return r.forEach(i=>i._pc=this),r});const n=s.RTCPeerConnection.prototype.addTrack;n&&(s.RTCPeerConnection.prototype.addTrack=function(){const r=n.apply(this,arguments);return r._pc=this,r}),s.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function af(s){if(!(typeof s=="object"&&s.RTCPeerConnection&&s.RTCRtpSender)||s.RTCRtpSender&&"getStats"in s.RTCRtpReceiver.prototype)return;const e=s.RTCPeerConnection.prototype.getReceivers;e&&(s.RTCPeerConnection.prototype.getReceivers=function(){const t=e.apply(this,[]);return t.forEach(r=>r._pc=this),t}),mr(s,"track",n=>(n.receiver._pc=n.srcElement,n)),s.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function lf(s){!s.RTCPeerConnection||"removeStream"in s.RTCPeerConnection.prototype||(s.RTCPeerConnection.prototype.removeStream=function(n){Ko("removeStream","removeTrack"),this.getSenders().forEach(t=>{t.track&&n.getTracks().includes(t.track)&&this.removeTrack(t)})})}function cf(s){s.DataChannel&&!s.RTCDataChannel&&(s.RTCDataChannel=s.DataChannel)}function ff(s){if(!(typeof s=="object"&&s.RTCPeerConnection))return;const e=s.RTCPeerConnection.prototype.addTransceiver;e&&(s.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let t=arguments[1]&&arguments[1].sendEncodings;t===void 0&&(t=[]),t=[...t];const r=t.length>0;r&&t.forEach(o=>{if("rid"in o&&!/^[a-z0-9]{0,16}$/i.test(o.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in o&&!(parseFloat(o.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in o&&!(parseFloat(o.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const i=e.apply(this,arguments);if(r){const{sender:o}=i,l=o.getParameters();(!("encodings"in l)||l.encodings.length===1&&Object.keys(l.encodings[0]).length===0)&&(l.encodings=t,o.sendEncodings=t,this.setParametersPromises.push(o.setParameters(l).then(()=>{delete o.sendEncodings}).catch(()=>{delete o.sendEncodings})))}return i})}function uf(s){if(!(typeof s=="object"&&s.RTCRtpSender))return;const e=s.RTCRtpSender.prototype.getParameters;e&&(s.RTCRtpSender.prototype.getParameters=function(){const t=e.apply(this,arguments);return"encodings"in t||(t.encodings=[].concat(this.sendEncodings||[{}])),t})}function df(s){if(!(typeof s=="object"&&s.RTCPeerConnection))return;const e=s.RTCPeerConnection.prototype.createOffer;s.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}function pf(s){if(!(typeof s=="object"&&s.RTCPeerConnection))return;const e=s.RTCPeerConnection.prototype.createAnswer;s.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}const Ol=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:ff,shimCreateAnswer:pf,shimCreateOffer:df,shimGetDisplayMedia:f$,shimGetParameters:uf,shimGetUserMedia:rf,shimOnTrack:sf,shimPeerConnection:co,shimRTCDataChannel:cf,shimReceiverGetStats:af,shimRemoveStream:lf,shimSenderGetStats:of},Symbol.toStringTag,{value:"Module"}));function hf(s){if(!(typeof s!="object"||!s.RTCPeerConnection)){if("getLocalStreams"in s.RTCPeerConnection.prototype||(s.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in s.RTCPeerConnection.prototype)){const e=s.RTCPeerConnection.prototype.addTrack;s.RTCPeerConnection.prototype.addStream=function(t){this._localStreams||(this._localStreams=[]),this._localStreams.includes(t)||this._localStreams.push(t),t.getAudioTracks().forEach(r=>e.call(this,r,t)),t.getVideoTracks().forEach(r=>e.call(this,r,t))},s.RTCPeerConnection.prototype.addTrack=function(t,...r){return r&&r.forEach(i=>{this._localStreams?this._localStreams.includes(i)||this._localStreams.push(i):this._localStreams=[i]}),e.apply(this,arguments)}}"removeStream"in s.RTCPeerConnection.prototype||(s.RTCPeerConnection.prototype.removeStream=function(n){this._localStreams||(this._localStreams=[]);const t=this._localStreams.indexOf(n);if(t===-1)return;this._localStreams.splice(t,1);const r=n.getTracks();this.getSenders().forEach(i=>{r.includes(i.track)&&this.removeTrack(i)})})}}function mf(s){if(!(typeof s!="object"||!s.RTCPeerConnection)&&("getRemoteStreams"in s.RTCPeerConnection.prototype||(s.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in s.RTCPeerConnection.prototype))){Object.defineProperty(s.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=t=>{t.streams.forEach(r=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(r))return;this._remoteStreams.push(r);const i=new Event("addstream");i.stream=r,this.dispatchEvent(i)})})}});const e=s.RTCPeerConnection.prototype.setRemoteDescription;s.RTCPeerConnection.prototype.setRemoteDescription=function(){const t=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(r){r.streams.forEach(i=>{if(t._remoteStreams||(t._remoteStreams=[]),t._remoteStreams.indexOf(i)>=0)return;t._remoteStreams.push(i);const o=new Event("addstream");o.stream=i,t.dispatchEvent(o)})}),e.apply(t,arguments)}}}function gf(s){if(typeof s!="object"||!s.RTCPeerConnection)return;const e=s.RTCPeerConnection.prototype,n=e.createOffer,t=e.createAnswer,r=e.setLocalDescription,i=e.setRemoteDescription,o=e.addIceCandidate;e.createOffer=function(c,f){const u=arguments.length>=2?arguments[2]:arguments[0],d=n.apply(this,[u]);return f?(d.then(c,f),Promise.resolve()):d},e.createAnswer=function(c,f){const u=arguments.length>=2?arguments[2]:arguments[0],d=t.apply(this,[u]);return f?(d.then(c,f),Promise.resolve()):d};let l=function(a,c,f){const u=r.apply(this,[a]);return f?(u.then(c,f),Promise.resolve()):u};e.setLocalDescription=l,l=function(a,c,f){const u=i.apply(this,[a]);return f?(u.then(c,f),Promise.resolve()):u},e.setRemoteDescription=l,l=function(a,c,f){const u=o.apply(this,[a]);return f?(u.then(c,f),Promise.resolve()):u},e.addIceCandidate=l}function _f(s){const e=s&&s.navigator;if(e.mediaDevices&&e.mediaDevices.getUserMedia){const n=e.mediaDevices,t=n.getUserMedia.bind(n);e.mediaDevices.getUserMedia=r=>t(bf(r))}!e.getUserMedia&&e.mediaDevices&&e.mediaDevices.getUserMedia&&(e.getUserMedia=(function(t,r,i){e.mediaDevices.getUserMedia(t).then(r,i)}).bind(e))}function bf(s){return s&&s.video!==void 0?Object.assign({},s,{video:Jc(s.video)}):s}function $f(s){if(!s.RTCPeerConnection)return;const e=s.RTCPeerConnection;s.RTCPeerConnection=function(t,r){if(t&&t.iceServers){const i=[];for(let o=0;o<t.iceServers.length;o++){let l=t.iceServers[o];l.urls===void 0&&l.url?(Ko("RTCIceServer.url","RTCIceServer.urls"),l=JSON.parse(JSON.stringify(l)),l.urls=l.url,delete l.url,i.push(l)):i.push(t.iceServers[o])}t.iceServers=i}return new e(t,r)},s.RTCPeerConnection.prototype=e.prototype,"generateCertificate"in e&&Object.defineProperty(s.RTCPeerConnection,"generateCertificate",{get(){return e.generateCertificate}})}function xf(s){typeof s=="object"&&s.RTCTrackEvent&&"receiver"in s.RTCTrackEvent.prototype&&!("transceiver"in s.RTCTrackEvent.prototype)&&Object.defineProperty(s.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function yf(s){const e=s.RTCPeerConnection.prototype.createOffer;s.RTCPeerConnection.prototype.createOffer=function(t){if(t){typeof t.offerToReceiveAudio<"u"&&(t.offerToReceiveAudio=!!t.offerToReceiveAudio);const r=this.getTransceivers().find(o=>o.receiver.track.kind==="audio");t.offerToReceiveAudio===!1&&r?r.direction==="sendrecv"?r.setDirection?r.setDirection("sendonly"):r.direction="sendonly":r.direction==="recvonly"&&(r.setDirection?r.setDirection("inactive"):r.direction="inactive"):t.offerToReceiveAudio===!0&&!r&&this.addTransceiver("audio",{direction:"recvonly"}),typeof t.offerToReceiveVideo<"u"&&(t.offerToReceiveVideo=!!t.offerToReceiveVideo);const i=this.getTransceivers().find(o=>o.receiver.track.kind==="video");t.offerToReceiveVideo===!1&&i?i.direction==="sendrecv"?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":i.direction==="recvonly"&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):t.offerToReceiveVideo===!0&&!i&&this.addTransceiver("video",{direction:"recvonly"})}return e.apply(this,arguments)}}function kf(s){typeof s!="object"||s.AudioContext||(s.AudioContext=s.webkitAudioContext)}const Ml=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:kf,shimCallbacksAPI:gf,shimConstraints:bf,shimCreateOfferLegacy:yf,shimGetUserMedia:_f,shimLocalStreamsAPI:hf,shimRTCIceServerUrls:$f,shimRemoteStreamsAPI:mf,shimTrackEventTransceiver:xf},Symbol.toStringTag,{value:"Module"}));var vf={exports:{}};(function(s){const e={};e.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},e.localCName=e.generateIdentifier(),e.splitLines=function(n){return n.trim().split(`
`).map(t=>t.trim())},e.splitSections=function(n){return n.split(`
m=`).map((r,i)=>(i>0?"m="+r:r).trim()+`\r
`)},e.getDescription=function(n){const t=e.splitSections(n);return t&&t[0]},e.getMediaSections=function(n){const t=e.splitSections(n);return t.shift(),t},e.matchPrefix=function(n,t){return e.splitLines(n).filter(r=>r.indexOf(t)===0)},e.parseCandidate=function(n){let t;n.indexOf("a=candidate:")===0?t=n.substring(12).split(" "):t=n.substring(10).split(" ");const r={foundation:t[0],component:{1:"rtp",2:"rtcp"}[t[1]]||t[1],protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]};for(let i=8;i<t.length;i+=2)switch(t[i]){case"raddr":r.relatedAddress=t[i+1];break;case"rport":r.relatedPort=parseInt(t[i+1],10);break;case"tcptype":r.tcpType=t[i+1];break;case"ufrag":r.ufrag=t[i+1],r.usernameFragment=t[i+1];break;default:r[t[i]]===void 0&&(r[t[i]]=t[i+1]);break}return r},e.writeCandidate=function(n){const t=[];t.push(n.foundation);const r=n.component;r==="rtp"?t.push(1):r==="rtcp"?t.push(2):t.push(r),t.push(n.protocol.toUpperCase()),t.push(n.priority),t.push(n.address||n.ip),t.push(n.port);const i=n.type;return t.push("typ"),t.push(i),i!=="host"&&n.relatedAddress&&n.relatedPort&&(t.push("raddr"),t.push(n.relatedAddress),t.push("rport"),t.push(n.relatedPort)),n.tcpType&&n.protocol.toLowerCase()==="tcp"&&(t.push("tcptype"),t.push(n.tcpType)),(n.usernameFragment||n.ufrag)&&(t.push("ufrag"),t.push(n.usernameFragment||n.ufrag)),"candidate:"+t.join(" ")},e.parseIceOptions=function(n){return n.substring(14).split(" ")},e.parseRtpMap=function(n){let t=n.substring(9).split(" ");const r={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),r.name=t[0],r.clockRate=parseInt(t[1],10),r.channels=t.length===3?parseInt(t[2],10):1,r.numChannels=r.channels,r},e.writeRtpMap=function(n){let t=n.payloadType;n.preferredPayloadType!==void 0&&(t=n.preferredPayloadType);const r=n.channels||n.numChannels||1;return"a=rtpmap:"+t+" "+n.name+"/"+n.clockRate+(r!==1?"/"+r:"")+`\r
`},e.parseExtmap=function(n){const t=n.substring(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1],attributes:t.slice(2).join(" ")}},e.writeExtmap=function(n){return"a=extmap:"+(n.id||n.preferredId)+(n.direction&&n.direction!=="sendrecv"?"/"+n.direction:"")+" "+n.uri+(n.attributes?" "+n.attributes:"")+`\r
`},e.parseFmtp=function(n){const t={};let r;const i=n.substring(n.indexOf(" ")+1).split(";");for(let o=0;o<i.length;o++)r=i[o].trim().split("="),t[r[0].trim()]=r[1];return t},e.writeFmtp=function(n){let t="",r=n.payloadType;if(n.preferredPayloadType!==void 0&&(r=n.preferredPayloadType),n.parameters&&Object.keys(n.parameters).length){const i=[];Object.keys(n.parameters).forEach(o=>{n.parameters[o]!==void 0?i.push(o+"="+n.parameters[o]):i.push(o)}),t+="a=fmtp:"+r+" "+i.join(";")+`\r
`}return t},e.parseRtcpFb=function(n){const t=n.substring(n.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},e.writeRtcpFb=function(n){let t="",r=n.payloadType;return n.preferredPayloadType!==void 0&&(r=n.preferredPayloadType),n.rtcpFeedback&&n.rtcpFeedback.length&&n.rtcpFeedback.forEach(i=>{t+="a=rtcp-fb:"+r+" "+i.type+(i.parameter&&i.parameter.length?" "+i.parameter:"")+`\r
`}),t},e.parseSsrcMedia=function(n){const t=n.indexOf(" "),r={ssrc:parseInt(n.substring(7,t),10)},i=n.indexOf(":",t);return i>-1?(r.attribute=n.substring(t+1,i),r.value=n.substring(i+1)):r.attribute=n.substring(t+1),r},e.parseSsrcGroup=function(n){const t=n.substring(13).split(" ");return{semantics:t.shift(),ssrcs:t.map(r=>parseInt(r,10))}},e.getMid=function(n){const t=e.matchPrefix(n,"a=mid:")[0];if(t)return t.substring(6)},e.parseFingerprint=function(n){const t=n.substring(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1].toUpperCase()}},e.getDtlsParameters=function(n,t){return{role:"auto",fingerprints:e.matchPrefix(n+t,"a=fingerprint:").map(e.parseFingerprint)}},e.writeDtlsParameters=function(n,t){let r="a=setup:"+t+`\r
`;return n.fingerprints.forEach(i=>{r+="a=fingerprint:"+i.algorithm+" "+i.value+`\r
`}),r},e.parseCryptoLine=function(n){const t=n.substring(9).split(" ");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},e.writeCryptoLine=function(n){return"a=crypto:"+n.tag+" "+n.cryptoSuite+" "+(typeof n.keyParams=="object"?e.writeCryptoKeyParams(n.keyParams):n.keyParams)+(n.sessionParams?" "+n.sessionParams.join(" "):"")+`\r
`},e.parseCryptoKeyParams=function(n){if(n.indexOf("inline:")!==0)return null;const t=n.substring(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}},e.writeCryptoKeyParams=function(n){return n.keyMethod+":"+n.keySalt+(n.lifeTime?"|"+n.lifeTime:"")+(n.mkiValue&&n.mkiLength?"|"+n.mkiValue+":"+n.mkiLength:"")},e.getCryptoParameters=function(n,t){return e.matchPrefix(n+t,"a=crypto:").map(e.parseCryptoLine)},e.getIceParameters=function(n,t){const r=e.matchPrefix(n+t,"a=ice-ufrag:")[0],i=e.matchPrefix(n+t,"a=ice-pwd:")[0];return r&&i?{usernameFragment:r.substring(12),password:i.substring(10)}:null},e.writeIceParameters=function(n){let t="a=ice-ufrag:"+n.usernameFragment+`\r
a=ice-pwd:`+n.password+`\r
`;return n.iceLite&&(t+=`a=ice-lite\r
`),t},e.parseRtpParameters=function(n){const t={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},i=e.splitLines(n)[0].split(" ");t.profile=i[2];for(let l=3;l<i.length;l++){const a=i[l],c=e.matchPrefix(n,"a=rtpmap:"+a+" ")[0];if(c){const f=e.parseRtpMap(c),u=e.matchPrefix(n,"a=fmtp:"+a+" ");switch(f.parameters=u.length?e.parseFmtp(u[0]):{},f.rtcpFeedback=e.matchPrefix(n,"a=rtcp-fb:"+a+" ").map(e.parseRtcpFb),t.codecs.push(f),f.name.toUpperCase()){case"RED":case"ULPFEC":t.fecMechanisms.push(f.name.toUpperCase());break}}}e.matchPrefix(n,"a=extmap:").forEach(l=>{t.headerExtensions.push(e.parseExtmap(l))});const o=e.matchPrefix(n,"a=rtcp-fb:* ").map(e.parseRtcpFb);return t.codecs.forEach(l=>{o.forEach(a=>{l.rtcpFeedback.find(f=>f.type===a.type&&f.parameter===a.parameter)||l.rtcpFeedback.push(a)})}),t},e.writeRtpDescription=function(n,t){let r="";r+="m="+n+" ",r+=t.codecs.length>0?"9":"0",r+=" "+(t.profile||"UDP/TLS/RTP/SAVPF")+" ",r+=t.codecs.map(o=>o.preferredPayloadType!==void 0?o.preferredPayloadType:o.payloadType).join(" ")+`\r
`,r+=`c=IN IP4 0.0.0.0\r
`,r+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,t.codecs.forEach(o=>{r+=e.writeRtpMap(o),r+=e.writeFmtp(o),r+=e.writeRtcpFb(o)});let i=0;return t.codecs.forEach(o=>{o.maxptime>i&&(i=o.maxptime)}),i>0&&(r+="a=maxptime:"+i+`\r
`),t.headerExtensions&&t.headerExtensions.forEach(o=>{r+=e.writeExtmap(o)}),r},e.parseRtpEncodingParameters=function(n){const t=[],r=e.parseRtpParameters(n),i=r.fecMechanisms.indexOf("RED")!==-1,o=r.fecMechanisms.indexOf("ULPFEC")!==-1,l=e.matchPrefix(n,"a=ssrc:").map(d=>e.parseSsrcMedia(d)).filter(d=>d.attribute==="cname"),a=l.length>0&&l[0].ssrc;let c;const f=e.matchPrefix(n,"a=ssrc-group:FID").map(d=>d.substring(17).split(" ").map(h=>parseInt(h,10)));f.length>0&&f[0].length>1&&f[0][0]===a&&(c=f[0][1]),r.codecs.forEach(d=>{if(d.name.toUpperCase()==="RTX"&&d.parameters.apt){let p={ssrc:a,codecPayloadType:parseInt(d.parameters.apt,10)};a&&c&&(p.rtx={ssrc:c}),t.push(p),i&&(p=JSON.parse(JSON.stringify(p)),p.fec={ssrc:a,mechanism:o?"red+ulpfec":"red"},t.push(p))}}),t.length===0&&a&&t.push({ssrc:a});let u=e.matchPrefix(n,"b=");return u.length&&(u[0].indexOf("b=TIAS:")===0?u=parseInt(u[0].substring(7),10):u[0].indexOf("b=AS:")===0?u=parseInt(u[0].substring(5),10)*1e3*.95-50*40*8:u=void 0,t.forEach(d=>{d.maxBitrate=u})),t},e.parseRtcpParameters=function(n){const t={},r=e.matchPrefix(n,"a=ssrc:").map(l=>e.parseSsrcMedia(l)).filter(l=>l.attribute==="cname")[0];r&&(t.cname=r.value,t.ssrc=r.ssrc);const i=e.matchPrefix(n,"a=rtcp-rsize");t.reducedSize=i.length>0,t.compound=i.length===0;const o=e.matchPrefix(n,"a=rtcp-mux");return t.mux=o.length>0,t},e.writeRtcpParameters=function(n){let t="";return n.reducedSize&&(t+=`a=rtcp-rsize\r
`),n.mux&&(t+=`a=rtcp-mux\r
`),n.ssrc!==void 0&&n.cname&&(t+="a=ssrc:"+n.ssrc+" cname:"+n.cname+`\r
`),t},e.parseMsid=function(n){let t;const r=e.matchPrefix(n,"a=msid:");if(r.length===1)return t=r[0].substring(7).split(" "),{stream:t[0],track:t[1]};const i=e.matchPrefix(n,"a=ssrc:").map(o=>e.parseSsrcMedia(o)).filter(o=>o.attribute==="msid");if(i.length>0)return t=i[0].value.split(" "),{stream:t[0],track:t[1]}},e.parseSctpDescription=function(n){const t=e.parseMLine(n),r=e.matchPrefix(n,"a=max-message-size:");let i;r.length>0&&(i=parseInt(r[0].substring(19),10)),isNaN(i)&&(i=65536);const o=e.matchPrefix(n,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substring(12),10),protocol:t.fmt,maxMessageSize:i};const l=e.matchPrefix(n,"a=sctpmap:");if(l.length>0){const a=l[0].substring(10).split(" ");return{port:parseInt(a[0],10),protocol:a[1],maxMessageSize:i}}},e.writeSctpDescription=function(n,t){let r=[];return n.protocol!=="DTLS/SCTP"?r=["m="+n.kind+" 9 "+n.protocol+" "+t.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+t.port+`\r
`]:r=["m="+n.kind+" 9 "+n.protocol+" "+t.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+t.port+" "+t.protocol+` 65535\r
`],t.maxMessageSize!==void 0&&r.push("a=max-message-size:"+t.maxMessageSize+`\r
`),r.join("")},e.generateSessionId=function(){return Math.random().toString().substr(2,22)},e.writeSessionBoilerplate=function(n,t,r){let i;const o=t!==void 0?t:2;return n?i=n:i=e.generateSessionId(),`v=0\r
o=`+(r||"thisisadapterortc")+" "+i+" "+o+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},e.getDirection=function(n,t){const r=e.splitLines(n);for(let i=0;i<r.length;i++)switch(r[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return r[i].substring(2)}return t?e.getDirection(t):"sendrecv"},e.getKind=function(n){return e.splitLines(n)[0].split(" ")[0].substring(2)},e.isRejected=function(n){return n.split(" ",2)[1]==="0"},e.parseMLine=function(n){const r=e.splitLines(n)[0].substring(2).split(" ");return{kind:r[0],port:parseInt(r[1],10),protocol:r[2],fmt:r.slice(3).join(" ")}},e.parseOLine=function(n){const r=e.matchPrefix(n,"o=")[0].substring(2).split(" ");return{username:r[0],sessionId:r[1],sessionVersion:parseInt(r[2],10),netType:r[3],addressType:r[4],address:r[5]}},e.isValidSDP=function(n){if(typeof n!="string"||n.length===0)return!1;const t=e.splitLines(n);for(let r=0;r<t.length;r++)if(t[r].length<2||t[r].charAt(1)!=="=")return!1;return!0},s.exports=e})(vf);var wf=vf.exports;const Ar=Oo(wf),u$=pu({__proto__:null,default:Ar},[wf]);function Ki(s){if(!s.RTCIceCandidate||s.RTCIceCandidate&&"foundation"in s.RTCIceCandidate.prototype)return;const e=s.RTCIceCandidate;s.RTCIceCandidate=function(t){if(typeof t=="object"&&t.candidate&&t.candidate.indexOf("a=")===0&&(t=JSON.parse(JSON.stringify(t)),t.candidate=t.candidate.substring(2)),t.candidate&&t.candidate.length){const r=new e(t),i=Ar.parseCandidate(t.candidate);for(const o in i)o in r||Object.defineProperty(r,o,{value:i[o]});return r.toJSON=function(){return{candidate:r.candidate,sdpMid:r.sdpMid,sdpMLineIndex:r.sdpMLineIndex,usernameFragment:r.usernameFragment}},r}return new e(t)},s.RTCIceCandidate.prototype=e.prototype,mr(s,"icecandidate",n=>(n.candidate&&Object.defineProperty(n,"candidate",{value:new s.RTCIceCandidate(n.candidate),writable:"false"}),n))}function fo(s){!s.RTCIceCandidate||s.RTCIceCandidate&&"relayProtocol"in s.RTCIceCandidate.prototype||mr(s,"icecandidate",e=>{if(e.candidate){const n=Ar.parseCandidate(e.candidate.candidate);n.type==="relay"&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[n.priority>>24])}return e})}function Hi(s,e){if(!s.RTCPeerConnection)return;"sctp"in s.RTCPeerConnection.prototype||Object.defineProperty(s.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const n=function(l){if(!l||!l.sdp)return!1;const a=Ar.splitSections(l.sdp);return a.shift(),a.some(c=>{const f=Ar.parseMLine(c);return f&&f.kind==="application"&&f.protocol.indexOf("SCTP")!==-1})},t=function(l){const a=l.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(a===null||a.length<2)return-1;const c=parseInt(a[1],10);return c!==c?-1:c},r=function(l){let a=65536;return e.browser==="firefox"&&(e.version<57?l===-1?a=16384:a=2147483637:e.version<60?a=e.version===57?65535:65536:a=2147483637),a},i=function(l,a){let c=65536;e.browser==="firefox"&&e.version===57&&(c=65535);const f=Ar.matchPrefix(l.sdp,"a=max-message-size:");return f.length>0?c=parseInt(f[0].substring(19),10):e.browser==="firefox"&&a!==-1&&(c=2147483637),c},o=s.RTCPeerConnection.prototype.setRemoteDescription;s.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,e.browser==="chrome"&&e.version>=76){const{sdpSemantics:a}=this.getConfiguration();a==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const a=t(arguments[0]),c=r(a),f=i(arguments[0],a);let u;c===0&&f===0?u=Number.POSITIVE_INFINITY:c===0||f===0?u=Math.max(c,f):u=Math.min(c,f);const d={};Object.defineProperty(d,"maxMessageSize",{get(){return u}}),this._sctp=d}return o.apply(this,arguments)}}function Xi(s){if(!(s.RTCPeerConnection&&"createDataChannel"in s.RTCPeerConnection.prototype))return;function e(t,r){const i=t.send;t.send=function(){const l=arguments[0],a=l.length||l.size||l.byteLength;if(t.readyState==="open"&&r.sctp&&a>r.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+r.sctp.maxMessageSize+" bytes)");return i.apply(t,arguments)}}const n=s.RTCPeerConnection.prototype.createDataChannel;s.RTCPeerConnection.prototype.createDataChannel=function(){const r=n.apply(this,arguments);return e(r,this),r},mr(s,"datachannel",t=>(e(t.channel,t.target),t))}function uo(s){if(!s.RTCPeerConnection||"connectionState"in s.RTCPeerConnection.prototype)return;const e=s.RTCPeerConnection.prototype;Object.defineProperty(e,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(n=>{const t=e[n];e[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=r=>{const i=r.target;if(i._lastConnectionState!==i.connectionState){i._lastConnectionState=i.connectionState;const o=new Event("connectionstatechange",r);i.dispatchEvent(o)}return r},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),t.apply(this,arguments)}})}function po(s,e){if(!s.RTCPeerConnection||e.browser==="chrome"&&e.version>=71||e.browser==="safari"&&e.version>=605)return;const n=s.RTCPeerConnection.prototype.setRemoteDescription;s.RTCPeerConnection.prototype.setRemoteDescription=function(r){if(r&&r.sdp&&r.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const i=r.sdp.split(`
`).filter(o=>o.trim()!=="a=extmap-allow-mixed").join(`
`);s.RTCSessionDescription&&r instanceof s.RTCSessionDescription?arguments[0]=new s.RTCSessionDescription({type:r.type,sdp:i}):r.sdp=i}return n.apply(this,arguments)}}function Yi(s,e){if(!(s.RTCPeerConnection&&s.RTCPeerConnection.prototype))return;const n=s.RTCPeerConnection.prototype.addIceCandidate;!n||n.length===0||(s.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(e.browser==="chrome"&&e.version<78||e.browser==="firefox"&&e.version<68||e.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function Zi(s,e){if(!(s.RTCPeerConnection&&s.RTCPeerConnection.prototype))return;const n=s.RTCPeerConnection.prototype.setLocalDescription;!n||n.length===0||(s.RTCPeerConnection.prototype.setLocalDescription=function(){let r=arguments[0]||{};if(typeof r!="object"||r.type&&r.sdp)return n.apply(this,arguments);if(r={type:r.type,sdp:r.sdp},!r.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":r.type="offer";break;default:r.type="answer";break}return r.sdp||r.type!=="offer"&&r.type!=="answer"?n.apply(this,[r]):(r.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(o=>n.apply(this,[o]))})}const d$=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:po,shimAddIceCandidateNullOrEmpty:Yi,shimConnectionState:uo,shimMaxMessageSize:Hi,shimParameterlessSetLocalDescription:Zi,shimRTCIceCandidate:Ki,shimRTCIceCandidateRelayProtocol:fo,shimSendThrowTypeError:Xi},Symbol.toStringTag,{value:"Module"}));function p$({window:s}={},e={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const n=Gc,t=l$(s),r={browserDetails:t,commonShim:d$,extractVersion:Qi,disableLog:o$,disableWarnings:a$,sdp:u$};switch(t.browser){case"chrome":if(!Il||!lo||!e.shimChrome)return n("Chrome shim is not included in this adapter release."),r;if(t.version===null)return n("Chrome shim can not determine version, not shimming."),r;n("adapter.js shimming chrome."),r.browserShim=Il,Yi(s,t),Zi(s),Qc(s,t),Kc(s),lo(s,t),Hc(s),tf(s,t),Xc(s),Yc(s),Zc(s),nf(s,t),Ki(s),fo(s),uo(s),Hi(s,t),Xi(s),po(s,t);break;case"firefox":if(!Ol||!co||!e.shimFirefox)return n("Firefox shim is not included in this adapter release."),r;n("adapter.js shimming firefox."),r.browserShim=Ol,Yi(s,t),Zi(s),rf(s,t),co(s,t),sf(s),lf(s),of(s),af(s),cf(s),ff(s),uf(s),df(s),pf(s),Ki(s),uo(s),Hi(s,t),Xi(s);break;case"safari":if(!Ml||!e.shimSafari)return n("Safari shim is not included in this adapter release."),r;n("adapter.js shimming safari."),r.browserShim=Ml,Yi(s,t),Zi(s),$f(s),yf(s),gf(s),hf(s),mf(s),xf(s),_f(s),kf(s),Ki(s),fo(s),Hi(s,t),Xi(s),po(s,t);break;default:n("Unsupported browser!");break}return r}const Wl=p$({window:typeof window>"u"?void 0:window});let ho;try{ho=new TextDecoder}catch{}let xe,ar,Y=0;const h$=105,m$=57342,g$=57343,Dl=57337,jl=6,$r={};let Ue={},_t,fs,us=0,gi=0,At,yn,St=[],mo=[],Ht,Ut,Kr,Nl={useRecords:!1,mapsAsObjects:!0},_i=!1,Cf=2;try{new Function("")}catch{Cf=1/0}class bi{constructor(e){if(e&&((e.keyMap||e._keyMap)&&!e.useRecords&&(e.useRecords=!1,e.mapsAsObjects=!0),e.useRecords===!1&&e.mapsAsObjects===void 0&&(e.mapsAsObjects=!0),e.getStructures&&(e.getShared=e.getStructures),e.getShared&&!e.structures&&((e.structures=[]).uninitialized=!0),e.keyMap)){this.mapKey=new Map;for(let[n,t]of Object.entries(e.keyMap))this.mapKey.set(t,n)}Object.assign(this,e)}decodeKey(e){return this.keyMap&&this.mapKey.get(e)||e}encodeKey(e){return this.keyMap&&this.keyMap.hasOwnProperty(e)?this.keyMap[e]:e}encodeKeys(e){if(!this._keyMap)return e;let n=new Map;for(let[t,r]of Object.entries(e))n.set(this._keyMap.hasOwnProperty(t)?this._keyMap[t]:t,r);return n}decodeKeys(e){if(!this._keyMap||e.constructor.name!="Map")return e;if(!this._mapKey){this._mapKey=new Map;for(let[t,r]of Object.entries(this._keyMap))this._mapKey.set(r,t)}let n={};return e.forEach((t,r)=>n[pn(this._mapKey.has(r)?this._mapKey.get(r):r)]=t),n}mapDecode(e,n){let t=this.decode(e);if(this._keyMap)switch(t.constructor.name){case"Array":return t.map(r=>this.decodeKeys(r))}return t}decode(e,n){if(xe)return Tf(()=>($o(),this?this.decode(e,n):bi.prototype.decode.call(Nl,e,n)));ar=n>-1?n:e.length,Y=0,gi=0,fs=null,At=null,xe=e;try{Ut=e.dataView||(e.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength))}catch(t){throw xe=null,e instanceof Uint8Array?t:new Error("Source must be a Uint8Array or Buffer but was a "+(e&&typeof e=="object"?e.constructor.name:typeof e))}if(this instanceof bi){if(Ue=this,Ht=this.sharedValues&&(this.pack?new Array(this.maxPrivatePackedValues||16).concat(this.sharedValues):this.sharedValues),this.structures)return _t=this.structures,Ni();(!_t||_t.length>0)&&(_t=[])}else Ue=Nl,(!_t||_t.length>0)&&(_t=[]),Ht=null;return Ni()}decodeMultiple(e,n){let t,r=0;try{let i=e.length;_i=!0;let o=this?this.decode(e,i):Yo.decode(e,i);if(n){if(n(o)===!1)return;for(;Y<i;)if(r=Y,n(Ni())===!1)return}else{for(t=[o];Y<i;)r=Y,t.push(Ni());return t}}catch(i){throw i.lastPosition=r,i.values=t,i}finally{_i=!1,$o()}}}function Ni(){try{let s=ze();if(At){if(Y>=At.postBundlePosition){let e=new Error("Unexpected bundle position");throw e.incomplete=!0,e}Y=At.postBundlePosition,At=null}if(Y==ar)_t=null,xe=null,yn&&(yn=null);else if(Y>ar){let e=new Error("Unexpected end of CBOR data");throw e.incomplete=!0,e}else if(!_i)throw new Error("Data read, but end of buffer not reached");return s}catch(s){throw $o(),(s instanceof RangeError||s.message.startsWith("Unexpected end of buffer"))&&(s.incomplete=!0),s}}function ze(){let s=xe[Y++],e=s>>5;if(s=s&31,s>23)switch(s){case 24:s=xe[Y++];break;case 25:if(e==7)return x$();s=Ut.getUint16(Y),Y+=2;break;case 26:if(e==7){let n=Ut.getFloat32(Y);if(Ue.useFloat32>2){let t=Xo[(xe[Y]&127)<<1|xe[Y+1]>>7];return Y+=4,(t*n+(n>0?.5:-.5)>>0)/t}return Y+=4,n}s=Ut.getUint32(Y),Y+=4;break;case 27:if(e==7){let n=Ut.getFloat64(Y);return Y+=8,n}if(e>1){if(Ut.getUint32(Y)>0)throw new Error("JavaScript does not support arrays, maps, or strings with length over 4294967295");s=Ut.getUint32(Y+4)}else Ue.int64AsNumber?(s=Ut.getUint32(Y)*4294967296,s+=Ut.getUint32(Y+4)):s=Ut.getBigUint64(Y);Y+=8;break;case 31:switch(e){case 2:case 3:throw new Error("Indefinite length not supported for byte or text strings");case 4:let n=[],t,r=0;for(;(t=ze())!=$r;)n[r++]=t;return e==4?n:e==3?n.join(""):Buffer.concat(n);case 5:let i;if(Ue.mapsAsObjects){let o={};if(Ue.keyMap)for(;(i=ze())!=$r;)o[pn(Ue.decodeKey(i))]=ze();else for(;(i=ze())!=$r;)o[pn(i)]=ze();return o}else{Kr&&(Ue.mapsAsObjects=!0,Kr=!1);let o=new Map;if(Ue.keyMap)for(;(i=ze())!=$r;)o.set(Ue.decodeKey(i),ze());else for(;(i=ze())!=$r;)o.set(i,ze());return o}case 7:return $r;default:throw new Error("Invalid major type for indefinite length "+e)}default:throw new Error("Unknown token "+s)}switch(e){case 0:return s;case 1:return~s;case 2:return $$(s);case 3:if(gi>=Y)return fs.slice(Y-us,(Y+=s)-us);if(gi==0&&ar<140&&s<32){let r=s<16?Sf(s):b$(s);if(r!=null)return r}return _$(s);case 4:let n=new Array(s);for(let r=0;r<s;r++)n[r]=ze();return n;case 5:if(Ue.mapsAsObjects){let r={};if(Ue.keyMap)for(let i=0;i<s;i++)r[pn(Ue.decodeKey(ze()))]=ze();else for(let i=0;i<s;i++)r[pn(ze())]=ze();return r}else{Kr&&(Ue.mapsAsObjects=!0,Kr=!1);let r=new Map;if(Ue.keyMap)for(let i=0;i<s;i++)r.set(Ue.decodeKey(ze()),ze());else for(let i=0;i<s;i++)r.set(ze(),ze());return r}case 6:if(s>=Dl){let r=_t[s&8191];if(r)return r.read||(r.read=go(r)),r.read();if(s<65536){if(s==g$){let i=Cr(),o=ze(),l=ze();bo(o,l);let a={};if(Ue.keyMap)for(let c=2;c<i;c++){let f=Ue.decodeKey(l[c-2]);a[pn(f)]=ze()}else for(let c=2;c<i;c++){let f=l[c-2];a[pn(f)]=ze()}return a}else if(s==m$){let i=Cr(),o=ze();for(let l=2;l<i;l++)bo(o++,ze());return ze()}else if(s==Dl)return S$();if(Ue.getShared&&(Ho(),r=_t[s&8191],r))return r.read||(r.read=go(r)),r.read()}}let t=St[s];if(t)return t.handlesRead?t(ze):t(ze());{let r=ze();for(let i=0;i<mo.length;i++){let o=mo[i](s,r);if(o!==void 0)return o}return new cr(r,s)}case 7:switch(s){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case 31:default:let r=(Ht||er())[s];if(r!==void 0)return r;throw new Error("Unknown token "+s)}default:if(isNaN(s)){let r=new Error("Unexpected end of CBOR data");throw r.incomplete=!0,r}throw new Error("Unknown CBOR token "+s)}}const Ll=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function go(s){function e(){let n=xe[Y++];if(n=n&31,n>23)switch(n){case 24:n=xe[Y++];break;case 25:n=Ut.getUint16(Y),Y+=2;break;case 26:n=Ut.getUint32(Y),Y+=4;break;default:throw new Error("Expected array header, but got "+xe[Y-1])}let t=this.compiledReader;for(;t;){if(t.propertyCount===n)return t(ze);t=t.next}if(this.slowReads++>=Cf){let i=this.length==n?this:this.slice(0,n);return t=Ue.keyMap?new Function("r","return {"+i.map(o=>Ue.decodeKey(o)).map(o=>Ll.test(o)?pn(o)+":r()":"["+JSON.stringify(o)+"]:r()").join(",")+"}"):new Function("r","return {"+i.map(o=>Ll.test(o)?pn(o)+":r()":"["+JSON.stringify(o)+"]:r()").join(",")+"}"),this.compiledReader&&(t.next=this.compiledReader),t.propertyCount=n,this.compiledReader=t,t(ze)}let r={};if(Ue.keyMap)for(let i=0;i<n;i++)r[pn(Ue.decodeKey(this[i]))]=ze();else for(let i=0;i<n;i++)r[pn(this[i])]=ze();return r}return s.slowReads=0,e}function pn(s){return s==="__proto__"?"__proto_":s}let _$=_o;function _o(s){let e;if(s<16&&(e=Sf(s)))return e;if(s>64&&ho)return ho.decode(xe.subarray(Y,Y+=s));const n=Y+s,t=[];for(e="";Y<n;){const r=xe[Y++];if(!(r&128))t.push(r);else if((r&224)===192){const i=xe[Y++]&63;t.push((r&31)<<6|i)}else if((r&240)===224){const i=xe[Y++]&63,o=xe[Y++]&63;t.push((r&31)<<12|i<<6|o)}else if((r&248)===240){const i=xe[Y++]&63,o=xe[Y++]&63,l=xe[Y++]&63;let a=(r&7)<<18|i<<12|o<<6|l;a>65535&&(a-=65536,t.push(a>>>10&1023|55296),a=56320|a&1023),t.push(a)}else t.push(r);t.length>=4096&&(e+=Ot.apply(String,t),t.length=0)}return t.length>0&&(e+=Ot.apply(String,t)),e}let Ot=String.fromCharCode;function b$(s){let e=Y,n=new Array(s);for(let t=0;t<s;t++){const r=xe[Y++];if((r&128)>0){Y=e;return}n[t]=r}return Ot.apply(String,n)}function Sf(s){if(s<4)if(s<2){if(s===0)return"";{let e=xe[Y++];if((e&128)>1){Y-=1;return}return Ot(e)}}else{let e=xe[Y++],n=xe[Y++];if((e&128)>0||(n&128)>0){Y-=2;return}if(s<3)return Ot(e,n);let t=xe[Y++];if((t&128)>0){Y-=3;return}return Ot(e,n,t)}else{let e=xe[Y++],n=xe[Y++],t=xe[Y++],r=xe[Y++];if((e&128)>0||(n&128)>0||(t&128)>0||(r&128)>0){Y-=4;return}if(s<6){if(s===4)return Ot(e,n,t,r);{let i=xe[Y++];if((i&128)>0){Y-=5;return}return Ot(e,n,t,r,i)}}else if(s<8){let i=xe[Y++],o=xe[Y++];if((i&128)>0||(o&128)>0){Y-=6;return}if(s<7)return Ot(e,n,t,r,i,o);let l=xe[Y++];if((l&128)>0){Y-=7;return}return Ot(e,n,t,r,i,o,l)}else{let i=xe[Y++],o=xe[Y++],l=xe[Y++],a=xe[Y++];if((i&128)>0||(o&128)>0||(l&128)>0||(a&128)>0){Y-=8;return}if(s<10){if(s===8)return Ot(e,n,t,r,i,o,l,a);{let c=xe[Y++];if((c&128)>0){Y-=9;return}return Ot(e,n,t,r,i,o,l,a,c)}}else if(s<12){let c=xe[Y++],f=xe[Y++];if((c&128)>0||(f&128)>0){Y-=10;return}if(s<11)return Ot(e,n,t,r,i,o,l,a,c,f);let u=xe[Y++];if((u&128)>0){Y-=11;return}return Ot(e,n,t,r,i,o,l,a,c,f,u)}else{let c=xe[Y++],f=xe[Y++],u=xe[Y++],d=xe[Y++];if((c&128)>0||(f&128)>0||(u&128)>0||(d&128)>0){Y-=12;return}if(s<14){if(s===12)return Ot(e,n,t,r,i,o,l,a,c,f,u,d);{let p=xe[Y++];if((p&128)>0){Y-=13;return}return Ot(e,n,t,r,i,o,l,a,c,f,u,d,p)}}else{let p=xe[Y++],h=xe[Y++];if((p&128)>0||(h&128)>0){Y-=14;return}if(s<15)return Ot(e,n,t,r,i,o,l,a,c,f,u,d,p,h);let b=xe[Y++];if((b&128)>0){Y-=15;return}return Ot(e,n,t,r,i,o,l,a,c,f,u,d,p,h,b)}}}}}function $$(s){return Ue.copyBuffers?Uint8Array.prototype.slice.call(xe,Y,Y+=s):xe.subarray(Y,Y+=s)}let Ef=new Float32Array(1),Li=new Uint8Array(Ef.buffer,0,4);function x$(){let s=xe[Y++],e=xe[Y++],n=(s&127)>>2;if(n===31)return e||s&3?NaN:s&128?-1/0:1/0;if(n===0){let t=((s&3)<<8|e)/16777216;return s&128?-t:t}return Li[3]=s&128|(n>>1)+56,Li[2]=(s&7)<<5|e>>3,Li[1]=e<<5,Li[0]=0,Ef[0]}new Array(4096);class cr{constructor(e,n){this.value=e,this.tag=n}}St[0]=s=>new Date(s);St[1]=s=>new Date(Math.round(s*1e3));St[2]=s=>{let e=BigInt(0);for(let n=0,t=s.byteLength;n<t;n++)e=BigInt(s[n])+e<<BigInt(8);return e};St[3]=s=>BigInt(-1)-St[2](s);St[4]=s=>+(s[1]+"e"+s[0]);St[5]=s=>s[1]*Math.exp(s[0]*Math.log(2));const bo=(s,e)=>{s=s-57344;let n=_t[s];n&&n.isShared&&((_t.restoreStructures||(_t.restoreStructures=[]))[s]=n),_t[s]=e,e.read=go(e)};St[h$]=s=>{let e=s.length,n=s[1];bo(s[0],n);let t={};for(let r=2;r<e;r++){let i=n[r-2];t[pn(i)]=s[r]}return t};St[14]=s=>At?At[0].slice(At.position0,At.position0+=s):new cr(s,14);St[15]=s=>At?At[1].slice(At.position1,At.position1+=s):new cr(s,15);let y$={Error,RegExp};St[27]=s=>(y$[s[0]]||Error)(s[1],s[2]);const Rf=s=>{if(xe[Y++]!=132)throw new Error("Packed values structure must be followed by a 4 element array");let e=s();return Ht=Ht?e.concat(Ht.slice(e.length)):e,Ht.prefixes=s(),Ht.suffixes=s(),s()};Rf.handlesRead=!0;St[51]=Rf;St[jl]=s=>{if(!Ht)if(Ue.getShared)Ho();else return new cr(s,jl);if(typeof s=="number")return Ht[16+(s>=0?2*s:-2*s-1)];throw new Error("No support for non-integer packed references yet")};St[28]=s=>{yn||(yn=new Map,yn.id=0);let e=yn.id++,n=xe[Y],t;n>>5==4?t=[]:t={};let r={target:t};yn.set(e,r);let i=s();return r.used?Object.assign(t,i):(r.target=i,i)};St[28].handlesRead=!0;St[29]=s=>{let e=yn.get(s);return e.used=!0,e.target};St[258]=s=>new Set(s);(St[259]=s=>(Ue.mapsAsObjects&&(Ue.mapsAsObjects=!1,Kr=!0),s())).handlesRead=!0;function xr(s,e){return typeof s=="string"?s+e:s instanceof Array?s.concat(e):Object.assign({},s,e)}function er(){if(!Ht)if(Ue.getShared)Ho();else throw new Error("No packed values available");return Ht}const k$=1399353956;mo.push((s,e)=>{if(s>=225&&s<=255)return xr(er().prefixes[s-224],e);if(s>=28704&&s<=32767)return xr(er().prefixes[s-28672],e);if(s>=1879052288&&s<=2147483647)return xr(er().prefixes[s-1879048192],e);if(s>=216&&s<=223)return xr(e,er().suffixes[s-216]);if(s>=27647&&s<=28671)return xr(e,er().suffixes[s-27639]);if(s>=1811940352&&s<=1879048191)return xr(e,er().suffixes[s-1811939328]);if(s==k$)return{packedValues:Ht,structures:_t.slice(0),version:e};if(s==55799)return e});const v$=new Uint8Array(new Uint16Array([1]).buffer)[0]==1,Bl=[Uint8Array,Uint8ClampedArray,Uint16Array,Uint32Array,typeof BigUint64Array>"u"?{name:"BigUint64Array"}:BigUint64Array,Int8Array,Int16Array,Int32Array,typeof BigInt64Array>"u"?{name:"BigInt64Array"}:BigInt64Array,Float32Array,Float64Array],w$=[64,68,69,70,71,72,77,78,79,85,86];for(let s=0;s<Bl.length;s++)C$(Bl[s],w$[s]);function C$(s,e){let n="get"+s.name.slice(0,-5),t;typeof s=="function"?t=s.BYTES_PER_ELEMENT:s=null;for(let r=0;r<2;r++){if(!r&&t==1)continue;let i=t==2?1:t==4?2:3;St[r?e:e-4]=t==1||r==v$?o=>{if(!s)throw new Error("Could not find typed array for code "+e);return new s(Uint8Array.prototype.slice.call(o,0).buffer)}:o=>{if(!s)throw new Error("Could not find typed array for code "+e);let l=new DataView(o.buffer,o.byteOffset,o.byteLength),a=o.length>>i,c=new s(a),f=l[n];for(let u=0;u<a;u++)c[u]=f.call(l,u<<i,r);return c}}}function S$(){let s=Cr(),e=Y+ze();for(let t=2;t<s;t++){let r=Cr();Y+=r}let n=Y;return Y=e,At=[_o(Cr()),_o(Cr())],At.position0=0,At.position1=0,At.postBundlePosition=Y,Y=n,ze()}function Cr(){let s=xe[Y++]&31;if(s>23)switch(s){case 24:s=xe[Y++];break;case 25:s=Ut.getUint16(Y),Y+=2;break;case 26:s=Ut.getUint32(Y),Y+=4;break}return s}function Ho(){if(Ue.getShared){let s=Tf(()=>(xe=null,Ue.getShared()))||{},e=s.structures||[];Ue.sharedVersion=s.version,Ht=Ue.sharedValues=s.packedValues,_t===!0?Ue.structures=_t=e:_t.splice.apply(_t,[0,e.length].concat(e))}}function Tf(s){let e=ar,n=Y,t=us,r=gi,i=fs,o=yn,l=At,a=new Uint8Array(xe.slice(0,ar)),c=_t,f=Ue,u=_i,d=s();return ar=e,Y=n,us=t,gi=r,fs=i,yn=o,At=l,xe=a,_i=u,_t=c,Ue=f,Ut=new DataView(xe.buffer,xe.byteOffset,xe.byteLength),d}function $o(){xe=null,yn=null,_t=null}const Xo=new Array(147);for(let s=0;s<256;s++)Xo[s]=+("1e"+Math.floor(45.15-s*.30103));let Yo=new bi({useRecords:!1});Yo.decode;Yo.decodeMultiple;let es;try{es=new TextEncoder}catch{}let xo,Pf;const Ps=typeof globalThis=="object"&&globalThis.Buffer,Ii=typeof Ps<"u",zs=Ii?Ps.allocUnsafeSlow:Uint8Array,zl=Ii?Ps:Uint8Array,Ul=256,Fl=Ii?4294967296:2144337920;let Us,L,lt,I=0,Qn,Rt=null;const E$=61440,R$=/[\u0080-\uFFFF]/,nn=Symbol("record-id");class T$ extends bi{constructor(e){super(e),this.offset=0;let n,t,r,i,o;e=e||{};let l=zl.prototype.utf8Write?function(A,Q,U){return L.utf8Write(A,Q,U)}:es&&es.encodeInto?function(A,Q){return es.encodeInto(A,L.subarray(Q)).written}:!1,a=this,c=e.structures||e.saveStructures,f=e.maxSharedStructures;if(f==null&&(f=c?128:0),f>8190)throw new Error("Maximum maxSharedStructure is 8190");let u=e.sequential;u&&(f=0),this.structures||(this.structures=[]),this.saveStructures&&(this.saveShared=this.saveStructures);let d,p,h=e.sharedValues,b;if(h){b=Object.create(null);for(let A=0,Q=h.length;A<Q;A++)b[h[A]]=A}let x=[],$=0,R=0;this.mapEncode=function(A,Q){if(this._keyMap&&!this._mapped)switch(A.constructor.name){case"Array":A=A.map(U=>this.encodeKeys(U));break}return this.encode(A,Q)},this.encode=function(A,Q){if(L||(L=new zs(8192),lt=new DataView(L.buffer,0,8192),I=0),Qn=L.length-10,Qn-I<2048?(L=new zs(L.length),lt=new DataView(L.buffer,0,L.length),Qn=L.length-10,I=0):Q===Jl&&(I=I+7&2147483640),n=I,a.useSelfDescribedHeader&&(lt.setUint32(I,3654940416),I+=3),o=a.structuredClone?new Map:null,a.bundleStrings&&typeof A!="string"?(Rt=[],Rt.size=1/0):Rt=null,t=a.structures,t){if(t.uninitialized){let X=a.getShared()||{};a.structures=t=X.structures||[],a.sharedVersion=X.version;let q=a.sharedValues=X.packedValues;if(q){b={};for(let ge=0,K=q.length;ge<K;ge++)b[q[ge]]=ge}}let U=t.length;if(U>f&&!u&&(U=f),!t.transitions){t.transitions=Object.create(null);for(let X=0;X<U;X++){let q=t[X];if(!q)continue;let ge,K=t.transitions;for(let we=0,G=q.length;we<G;we++){K[nn]===void 0&&(K[nn]=X);let H=q[we];ge=K[H],ge||(ge=K[H]=Object.create(null)),K=ge}K[nn]=X|1048576}}u||(t.nextId=U)}if(r&&(r=!1),i=t||[],p=b,e.pack){let U=new Map;if(U.values=[],U.encoder=a,U.maxValues=e.maxPrivatePackedValues||(b?16:1/0),U.objectMap=b||!1,U.samplingPackedValues=d,ts(A,U),U.values.length>0){L[I++]=216,L[I++]=51,Pn(4);let X=U.values;S(X),Pn(0),Pn(0),p=Object.create(b||null);for(let q=0,ge=X.length;q<ge;q++)p[X[q]]=q}}Us=Q&Vs;try{if(Us)return;if(S(A),Rt&&Gl(n,S),a.offset=I,o&&o.idsToInsert){I+=o.idsToInsert.length*2,I>Qn&&T(I),a.offset=I;let U=I$(L.subarray(n,I),o.idsToInsert);return o=null,U}return Q&Jl?(L.start=n,L.end=I,L):L.subarray(n,I)}finally{if(t){if(R<10&&R++,t.length>f&&(t.length=f),$>1e4)t.transitions=null,R=0,$=0,x.length>0&&(x=[]);else if(x.length>0&&!u){for(let U=0,X=x.length;U<X;U++)x[U][nn]=void 0;x=[]}}if(r&&a.saveShared){a.structures.length>f&&(a.structures=a.structures.slice(0,f));let U=L.subarray(n,I);return a.updateSharedData()===!1?a.encode(A):U}Q&O$&&(I=n)}},this.findCommonStringsToPack=()=>(d=new Map,b||(b=Object.create(null)),A=>{let Q=A&&A.threshold||4,U=this.pack?A.maxPrivatePackedValues||16:0;h||(h=this.sharedValues=[]);for(let[X,q]of d)q.count>Q&&(b[X]=U++,h.push(X),r=!0);for(;this.saveShared&&this.updateSharedData()===!1;);d=null});const S=A=>{I>Qn&&(L=T(I));var Q=typeof A,U;if(Q==="string"){if(p){let K=p[A];if(K>=0){K<16?L[I++]=K+224:(L[I++]=198,K&1?S(15-K>>1):S(K-16>>1));return}else if(d&&!e.pack){let we=d.get(A);we?we.count++:d.set(A,{count:1})}}let X=A.length;if(Rt&&X>=4&&X<1024){if((Rt.size+=X)>E$){let we,G=(Rt[0]?Rt[0].length*3+Rt[1].length:0)+10;I+G>Qn&&(L=T(I+G)),L[I++]=217,L[I++]=223,L[I++]=249,L[I++]=Rt.position?132:130,L[I++]=26,we=I-n,I+=4,Rt.position&&Gl(n,S),Rt=["",""],Rt.size=0,Rt.position=we}let K=R$.test(A);Rt[K?0:1]+=A,L[I++]=K?206:207,S(X);return}let q;X<32?q=1:X<256?q=2:X<65536?q=3:q=5;let ge=X*3;if(I+ge>Qn&&(L=T(I+ge)),X<64||!l){let K,we,G,H=I+q;for(K=0;K<X;K++)we=A.charCodeAt(K),we<128?L[H++]=we:we<2048?(L[H++]=we>>6|192,L[H++]=we&63|128):(we&64512)===55296&&((G=A.charCodeAt(K+1))&64512)===56320?(we=65536+((we&1023)<<10)+(G&1023),K++,L[H++]=we>>18|240,L[H++]=we>>12&63|128,L[H++]=we>>6&63|128,L[H++]=we&63|128):(L[H++]=we>>12|224,L[H++]=we>>6&63|128,L[H++]=we&63|128);U=H-I-q}else U=l(A,I+q,ge);U<24?L[I++]=96|U:U<256?(q<2&&L.copyWithin(I+2,I+1,I+1+U),L[I++]=120,L[I++]=U):U<65536?(q<3&&L.copyWithin(I+3,I+2,I+2+U),L[I++]=121,L[I++]=U>>8,L[I++]=U&255):(q<5&&L.copyWithin(I+5,I+3,I+3+U),L[I++]=122,lt.setUint32(I,U),I+=4),I+=U}else if(Q==="number")if(!this.alwaysUseFloat&&A>>>0===A)A<24?L[I++]=A:A<256?(L[I++]=24,L[I++]=A):A<65536?(L[I++]=25,L[I++]=A>>8,L[I++]=A&255):(L[I++]=26,lt.setUint32(I,A),I+=4);else if(!this.alwaysUseFloat&&A>>0===A)A>=-24?L[I++]=31-A:A>=-256?(L[I++]=56,L[I++]=~A):A>=-65536?(L[I++]=57,lt.setUint16(I,~A),I+=2):(L[I++]=58,lt.setUint32(I,~A),I+=4);else{let X;if((X=this.useFloat32)>0&&A<4294967296&&A>=-2147483648){L[I++]=250,lt.setFloat32(I,A);let q;if(X<4||(q=A*Xo[(L[I]&127)<<1|L[I+1]>>7])>>0===q){I+=4;return}else I--}L[I++]=251,lt.setFloat64(I,A),I+=8}else if(Q==="object")if(!A)L[I++]=246;else{if(o){let q=o.get(A);if(q){if(L[I++]=216,L[I++]=29,L[I++]=25,!q.references){let ge=o.idsToInsert||(o.idsToInsert=[]);q.references=[],ge.push(q)}q.references.push(I-n),I+=2;return}else o.set(A,{offset:I-n})}let X=A.constructor;if(X===Object)P(A,!0);else if(X===Array){U=A.length,U<24?L[I++]=128|U:Pn(U);for(let q=0;q<U;q++)S(A[q])}else if(X===Map)if((this.mapsAsObjects?this.useTag259ForMaps!==!1:this.useTag259ForMaps)&&(L[I++]=217,L[I++]=1,L[I++]=3),U=A.size,U<24?L[I++]=160|U:U<256?(L[I++]=184,L[I++]=U):U<65536?(L[I++]=185,L[I++]=U>>8,L[I++]=U&255):(L[I++]=186,lt.setUint32(I,U),I+=4),a.keyMap)for(let[q,ge]of A)S(a.encodeKey(q)),S(ge);else for(let[q,ge]of A)S(q),S(ge);else{for(let q=0,ge=xo.length;q<ge;q++){let K=Pf[q];if(A instanceof K){let we=xo[q],G=we.tag;G==null&&(G=we.getTag&&we.getTag.call(this,A)),G<24?L[I++]=192|G:G<256?(L[I++]=216,L[I++]=G):G<65536?(L[I++]=217,L[I++]=G>>8,L[I++]=G&255):G>-1&&(L[I++]=218,lt.setUint32(I,G),I+=4),we.encode.call(this,A,S,T);return}}if(A[Symbol.iterator]){if(Us){let q=new Error("Iterable should be serialized as iterator");throw q.iteratorNotHandled=!0,q}L[I++]=159;for(let q of A)S(q);L[I++]=255;return}if(A[Symbol.asyncIterator]||Fs(A)){let q=new Error("Iterable/blob should be serialized as iterator");throw q.iteratorNotHandled=!0,q}if(this.useToJSON&&A.toJSON){const q=A.toJSON();if(q!==A)return S(q)}P(A,!A.hasOwnProperty)}}else if(Q==="boolean")L[I++]=A?245:244;else if(Q==="bigint"){if(A<BigInt(1)<<BigInt(64)&&A>=0)L[I++]=27,lt.setBigUint64(I,A);else if(A>-(BigInt(1)<<BigInt(64))&&A<0)L[I++]=59,lt.setBigUint64(I,-A-BigInt(1));else if(this.largeBigIntToFloat)L[I++]=251,lt.setFloat64(I,Number(A));else throw new RangeError(A+" was too large to fit in CBOR 64-bit integer format, set largeBigIntToFloat to convert to float-64");I+=8}else if(Q==="undefined")L[I++]=247;else throw new Error("Unknown type: "+Q)},P=this.useRecords===!1?this.variableMapSize?A=>{let Q=Object.keys(A),U=Object.values(A),X=Q.length;if(X<24?L[I++]=160|X:X<256?(L[I++]=184,L[I++]=X):X<65536?(L[I++]=185,L[I++]=X>>8,L[I++]=X&255):(L[I++]=186,lt.setUint32(I,X),I+=4),a.keyMap)for(let q=0;q<X;q++)S(a.encodeKey(Q[q])),S(U[q]);else for(let q=0;q<X;q++)S(Q[q]),S(U[q])}:(A,Q)=>{L[I++]=185;let U=I-n;I+=2;let X=0;if(a.keyMap)for(let q in A)(Q||A.hasOwnProperty(q))&&(S(a.encodeKey(q)),S(A[q]),X++);else for(let q in A)(Q||A.hasOwnProperty(q))&&(S(q),S(A[q]),X++);L[U+++n]=X>>8,L[U+n]=X&255}:(A,Q)=>{let U,X=i.transitions||(i.transitions=Object.create(null)),q=0,ge=0,K,we;if(this.keyMap){we=Object.keys(A).map(H=>this.encodeKey(H)),ge=we.length;for(let H=0;H<ge;H++){let ct=we[H];U=X[ct],U||(U=X[ct]=Object.create(null),q++),X=U}}else for(let H in A)(Q||A.hasOwnProperty(H))&&(U=X[H],U||(X[nn]&1048576&&(K=X[nn]&65535),U=X[H]=Object.create(null),q++),X=U,ge++);let G=X[nn];if(G!==void 0)G&=65535,L[I++]=217,L[I++]=G>>8|224,L[I++]=G&255;else if(we||(we=X.__keys__||(X.__keys__=Object.keys(A))),K===void 0?(G=i.nextId++,G||(G=0,i.nextId=1),G>=Ul&&(i.nextId=(G=f)+1)):G=K,i[G]=we,G<f){L[I++]=217,L[I++]=G>>8|224,L[I++]=G&255,X=i.transitions;for(let H=0;H<ge;H++)(X[nn]===void 0||X[nn]&1048576)&&(X[nn]=G),X=X[we[H]];X[nn]=G|1048576,r=!0}else{if(X[nn]=G,lt.setUint32(I,3655335680),I+=3,q&&($+=R*q),x.length>=Ul-f&&(x.shift()[nn]=void 0),x.push(X),Pn(ge+2),S(57344+G),S(we),Q===null)return;for(let H in A)(Q||A.hasOwnProperty(H))&&S(A[H]);return}if(ge<24?L[I++]=128|ge:Pn(ge),Q!==null)for(let H in A)(Q||A.hasOwnProperty(H))&&S(A[H])},T=A=>{let Q;if(A>16777216){if(A-n>Fl)throw new Error("Encoded buffer would be larger than maximum buffer size");Q=Math.min(Fl,Math.round(Math.max((A-n)*(A>67108864?1.25:2),4194304)/4096)*4096)}else Q=(Math.max(A-n<<2,L.length-1)>>12)+1<<12;let U=new zs(Q);return lt=new DataView(U.buffer,0,Q),L.copy?L.copy(U,0,n,A):U.set(L.slice(n,A)),I-=n,n=0,Qn=U.length-10,L=U};let F=100,k=1e3;this.encodeAsIterable=function(A,Q){return ee(A,Q,j)},this.encodeAsAsyncIterable=function(A,Q){return ee(A,Q,te)};function*j(A,Q,U){let X=A.constructor;if(X===Object){let q=a.useRecords!==!1;q?P(A,null):Vl(Object.keys(A).length,160);for(let ge in A){let K=A[ge];q||S(ge),K&&typeof K=="object"?Q[ge]?yield*j(K,Q[ge]):yield*fe(K,Q,ge):S(K)}}else if(X===Array){let q=A.length;Pn(q);for(let ge=0;ge<q;ge++){let K=A[ge];K&&(typeof K=="object"||I-n>F)?Q.element?yield*j(K,Q.element):yield*fe(K,Q,"element"):S(K)}}else if(A[Symbol.iterator]){L[I++]=159;for(let q of A)q&&(typeof q=="object"||I-n>F)?Q.element?yield*j(q,Q.element):yield*fe(q,Q,"element"):S(q);L[I++]=255}else Fs(A)?(Vl(A.size,64),yield L.subarray(n,I),yield A,Z()):A[Symbol.asyncIterator]?(L[I++]=159,yield L.subarray(n,I),yield A,Z(),L[I++]=255):S(A);U&&I>n?yield L.subarray(n,I):I-n>F&&(yield L.subarray(n,I),Z())}function*fe(A,Q,U){let X=I-n;try{S(A),I-n>F&&(yield L.subarray(n,I),Z())}catch(q){if(q.iteratorNotHandled)Q[U]={},I=n+X,yield*j.call(this,A,Q[U]);else throw q}}function Z(){F=k,a.encode(null,Vs)}function ee(A,Q,U){return Q&&Q.chunkThreshold?F=k=Q.chunkThreshold:F=100,A&&typeof A=="object"?(a.encode(null,Vs),U(A,a.iterateProperties||(a.iterateProperties={}),!0)):[a.encode(A)]}async function*te(A,Q){for(let U of j(A,Q,!0)){let X=U.constructor;if(X===zl||X===Uint8Array)yield U;else if(Fs(U)){let q=U.stream().getReader(),ge;for(;!(ge=await q.read()).done;)yield ge.value}else if(U[Symbol.asyncIterator])for await(let q of U)Z(),q?yield*te(q,Q.async||(Q.async={})):yield a.encode(q);else yield U}}}useBuffer(e){L=e,lt=new DataView(L.buffer,L.byteOffset,L.byteLength),I=0}clearSharedData(){this.structures&&(this.structures=[]),this.sharedValues&&(this.sharedValues=void 0)}updateSharedData(){let e=this.sharedVersion||0;this.sharedVersion=e+1;let n=this.structures.slice(0),t=new Af(n,this.sharedValues,this.sharedVersion),r=this.saveShared(t,i=>(i&&i.version||0)==e);return r===!1?(t=this.getShared()||{},this.structures=t.structures||[],this.sharedValues=t.packedValues,this.sharedVersion=t.version,this.structures.nextId=this.structures.length):n.forEach((i,o)=>this.structures[o]=i),r}}function Vl(s,e){s<24?L[I++]=e|s:s<256?(L[I++]=e|24,L[I++]=s):s<65536?(L[I++]=e|25,L[I++]=s>>8,L[I++]=s&255):(L[I++]=e|26,lt.setUint32(I,s),I+=4)}class Af{constructor(e,n,t){this.structures=e,this.packedValues=n,this.version=t}}function Pn(s){s<24?L[I++]=128|s:s<256?(L[I++]=152,L[I++]=s):s<65536?(L[I++]=153,L[I++]=s>>8,L[I++]=s&255):(L[I++]=154,lt.setUint32(I,s),I+=4)}const P$=typeof Blob>"u"?function(){}:Blob;function Fs(s){if(s instanceof P$)return!0;let e=s[Symbol.toStringTag];return e==="Blob"||e==="File"}function ts(s,e){switch(typeof s){case"string":if(s.length>3){if(e.objectMap[s]>-1||e.values.length>=e.maxValues)return;let t=e.get(s);if(t)++t.count==2&&e.values.push(s);else if(e.set(s,{count:1}),e.samplingPackedValues){let r=e.samplingPackedValues.get(s);r?r.count++:e.samplingPackedValues.set(s,{count:1})}}break;case"object":if(s)if(s instanceof Array)for(let t=0,r=s.length;t<r;t++)ts(s[t],e);else{let t=!e.encoder.useRecords;for(var n in s)s.hasOwnProperty(n)&&(t&&ts(n,e),ts(s[n],e))}break;case"function":console.log(s)}}const A$=new Uint8Array(new Uint16Array([1]).buffer)[0]==1;Pf=[Date,Set,Error,RegExp,cr,ArrayBuffer,Uint8Array,Uint8ClampedArray,Uint16Array,Uint32Array,typeof BigUint64Array>"u"?function(){}:BigUint64Array,Int8Array,Int16Array,Int32Array,typeof BigInt64Array>"u"?function(){}:BigInt64Array,Float32Array,Float64Array,Af];xo=[{tag:1,encode(s,e){let n=s.getTime()/1e3;(this.useTimestamp32||s.getMilliseconds()===0)&&n>=0&&n<4294967296?(L[I++]=26,lt.setUint32(I,n),I+=4):(L[I++]=251,lt.setFloat64(I,n),I+=8)}},{tag:258,encode(s,e){let n=Array.from(s);e(n)}},{tag:27,encode(s,e){e([s.name,s.message])}},{tag:27,encode(s,e){e(["RegExp",s.source,s.flags])}},{getTag(s){return s.tag},encode(s,e){e(s.value)}},{encode(s,e,n){ql(s,n)}},{getTag(s){if(s.constructor===Uint8Array&&(this.tagUint8Array||Ii&&this.tagUint8Array!==!1))return 64},encode(s,e,n){ql(s,n)}},Rn(68,1),Rn(69,2),Rn(70,4),Rn(71,8),Rn(72,1),Rn(77,2),Rn(78,4),Rn(79,8),Rn(85,4),Rn(86,8),{encode(s,e){let n=s.packedValues||[],t=s.structures||[];if(n.values.length>0){L[I++]=216,L[I++]=51,Pn(4);let r=n.values;e(r),Pn(0),Pn(0),packedObjectMap=Object.create(sharedPackedObjectMap||null);for(let i=0,o=r.length;i<o;i++)packedObjectMap[r[i]]=i}if(t){lt.setUint32(I,3655335424),I+=3;let r=t.slice(0);r.unshift(57344),r.push(new cr(s.version,1399353956)),e(r)}else e(new cr(s.version,1399353956))}}];function Rn(s,e){return!A$&&e>1&&(s-=4),{tag:s,encode:function(t,r){let i=t.byteLength,o=t.byteOffset||0,l=t.buffer||t;r(Ii?Ps.from(l,o,i):new Uint8Array(l,o,i))}}}function ql(s,e){let n=s.byteLength;n<24?L[I++]=64+n:n<256?(L[I++]=88,L[I++]=n):n<65536?(L[I++]=89,L[I++]=n>>8,L[I++]=n&255):(L[I++]=90,lt.setUint32(I,n),I+=4),I+n>=L.length&&e(I+n),L.set(s.buffer?s:new Uint8Array(s),I),I+=n}function I$(s,e){let n,t=e.length*2,r=s.length-t;e.sort((i,o)=>i.offset>o.offset?1:-1);for(let i=0;i<e.length;i++){let o=e[i];o.id=i;for(let l of o.references)s[l++]=i>>8,s[l]=i&255}for(;n=e.pop();){let i=n.offset;s.copyWithin(i+t,i,r),t-=2;let o=i+t;s[o++]=216,s[o++]=28,r=i}return s}function Gl(s,e){lt.setUint32(Rt.position+s,I-Rt.position-s+1);let n=Rt;Rt=null,e(n[0]),e(n[1])}let Zo=new T$({useRecords:!1});Zo.encode;Zo.encodeAsIterable;Zo.encodeAsAsyncIterable;const Jl=512,O$=1024,Vs=2048;function gr(s,e,n,t){Object.defineProperty(s,e,{get:n,set:t,enumerable:!0,configurable:!0})}class If{constructor(){this.chunkedMTU=16300,this._dataCount=1,this.chunk=e=>{const n=[],t=e.byteLength,r=Math.ceil(t/this.chunkedMTU);let i=0,o=0;for(;o<t;){const l=Math.min(t,o+this.chunkedMTU),a=e.slice(o,l),c={__peerData:this._dataCount,n:i,data:a,total:r};n.push(c),o=l,i++}return this._dataCount++,n}}}function M$(s){let e=0;for(const r of s)e+=r.byteLength;const n=new Uint8Array(e);let t=0;for(const r of s)n.set(r,t),t+=r.byteLength;return n}const qs=Wl.default||Wl,Jr=new class{isWebRTCSupported(){return typeof RTCPeerConnection<"u"}isBrowserSupported(){const s=this.getBrowser(),e=this.getVersion();return this.supportedBrowsers.includes(s)?s==="chrome"?e>=this.minChromeVersion:s==="firefox"?e>=this.minFirefoxVersion:s==="safari"?!this.isIOS&&e>=this.minSafariVersion:!1:!1}getBrowser(){return qs.browserDetails.browser}getVersion(){return qs.browserDetails.version||0}isUnifiedPlanSupported(){const s=this.getBrowser(),e=qs.browserDetails.version||0;if(s==="chrome"&&e<this.minChromeVersion)return!1;if(s==="firefox"&&e>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;let n,t=!1;try{n=new RTCPeerConnection,n.addTransceiver("audio"),t=!0}catch{}finally{n&&n.close()}return t}toString(){return`Supports:
    browser:${this.getBrowser()}
    version:${this.getVersion()}
    isIOS:${this.isIOS}
    isWebRTCSupported:${this.isWebRTCSupported()}
    isBrowserSupported:${this.isBrowserSupported()}
    isUnifiedPlanSupported:${this.isUnifiedPlanSupported()}`}constructor(){this.isIOS=["iPad","iPhone","iPod"].includes(navigator.platform),this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}},W$=s=>!s||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(s),Of=()=>Math.random().toString(36).slice(2),Ql={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};class D$ extends If{noop(){}blobToArrayBuffer(e,n){const t=new FileReader;return t.onload=function(r){r.target&&n(r.target.result)},t.readAsArrayBuffer(e),t}binaryStringToArrayBuffer(e){const n=new Uint8Array(e.length);for(let t=0;t<e.length;t++)n[t]=e.charCodeAt(t)&255;return n.buffer}isSecure(){return location.protocol==="https:"}constructor(...e){super(...e),this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.defaultConfig=Ql,this.browser=Jr.getBrowser(),this.browserVersion=Jr.getVersion(),this.pack=Fc,this.unpack=Uc,this.supports=function(){const n={browser:Jr.isBrowserSupported(),webRTC:Jr.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!n.webRTC)return n;let t;try{t=new RTCPeerConnection(Ql),n.audioVideo=!0;let r;try{r=t.createDataChannel("_PEERJSTEST",{ordered:!0}),n.data=!0,n.reliable=!!r.ordered;try{r.binaryType="blob",n.binaryBlob=!Jr.isIOS}catch{}}catch{}finally{r&&r.close()}}catch{}finally{t&&t.close()}return n}(),this.validateId=W$,this.randomToken=Of}}const Qt=new D$,j$="PeerJS: ";var Kl;(function(s){s[s.Disabled=0]="Disabled",s[s.Errors=1]="Errors",s[s.Warnings=2]="Warnings",s[s.All=3]="All"})(Kl||(Kl={}));class N${get logLevel(){return this._logLevel}set logLevel(e){this._logLevel=e}log(...e){this._logLevel>=3&&this._print(3,...e)}warn(...e){this._logLevel>=2&&this._print(2,...e)}error(...e){this._logLevel>=1&&this._print(1,...e)}setLogFunction(e){this._print=e}_print(e,...n){const t=[j$,...n];for(const r in t)t[r]instanceof Error&&(t[r]="("+t[r].name+") "+t[r].message);e>=3?console.log(...t):e>=2?console.warn("WARNING",...t):e>=1&&console.error("ERROR",...t)}constructor(){this._logLevel=0}}var ye=new N$,ea={},L$=Object.prototype.hasOwnProperty,Gt="~";function $i(){}Object.create&&($i.prototype=Object.create(null),new $i().__proto__||(Gt=!1));function B$(s,e,n){this.fn=s,this.context=e,this.once=n||!1}function Mf(s,e,n,t,r){if(typeof n!="function")throw new TypeError("The listener must be a function");var i=new B$(n,t||s,r),o=Gt?Gt+e:e;return s._events[o]?s._events[o].fn?s._events[o]=[s._events[o],i]:s._events[o].push(i):(s._events[o]=i,s._eventsCount++),s}function ns(s,e){--s._eventsCount===0?s._events=new $i:delete s._events[e]}function zt(){this._events=new $i,this._eventsCount=0}zt.prototype.eventNames=function(){var e=[],n,t;if(this._eventsCount===0)return e;for(t in n=this._events)L$.call(n,t)&&e.push(Gt?t.slice(1):t);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(n)):e};zt.prototype.listeners=function(e){var n=Gt?Gt+e:e,t=this._events[n];if(!t)return[];if(t.fn)return[t.fn];for(var r=0,i=t.length,o=new Array(i);r<i;r++)o[r]=t[r].fn;return o};zt.prototype.listenerCount=function(e){var n=Gt?Gt+e:e,t=this._events[n];return t?t.fn?1:t.length:0};zt.prototype.emit=function(e,n,t,r,i,o){var l=Gt?Gt+e:e;if(!this._events[l])return!1;var a=this._events[l],c=arguments.length,f,u;if(a.fn){switch(a.once&&this.removeListener(e,a.fn,void 0,!0),c){case 1:return a.fn.call(a.context),!0;case 2:return a.fn.call(a.context,n),!0;case 3:return a.fn.call(a.context,n,t),!0;case 4:return a.fn.call(a.context,n,t,r),!0;case 5:return a.fn.call(a.context,n,t,r,i),!0;case 6:return a.fn.call(a.context,n,t,r,i,o),!0}for(u=1,f=new Array(c-1);u<c;u++)f[u-1]=arguments[u];a.fn.apply(a.context,f)}else{var d=a.length,p;for(u=0;u<d;u++)switch(a[u].once&&this.removeListener(e,a[u].fn,void 0,!0),c){case 1:a[u].fn.call(a[u].context);break;case 2:a[u].fn.call(a[u].context,n);break;case 3:a[u].fn.call(a[u].context,n,t);break;case 4:a[u].fn.call(a[u].context,n,t,r);break;default:if(!f)for(p=1,f=new Array(c-1);p<c;p++)f[p-1]=arguments[p];a[u].fn.apply(a[u].context,f)}}return!0};zt.prototype.on=function(e,n,t){return Mf(this,e,n,t,!1)};zt.prototype.once=function(e,n,t){return Mf(this,e,n,t,!0)};zt.prototype.removeListener=function(e,n,t,r){var i=Gt?Gt+e:e;if(!this._events[i])return this;if(!n)return ns(this,i),this;var o=this._events[i];if(o.fn)o.fn===n&&(!r||o.once)&&(!t||o.context===t)&&ns(this,i);else{for(var l=0,a=[],c=o.length;l<c;l++)(o[l].fn!==n||r&&!o[l].once||t&&o[l].context!==t)&&a.push(o[l]);a.length?this._events[i]=a.length===1?a[0]:a:ns(this,i)}return this};zt.prototype.removeAllListeners=function(e){var n;return e?(n=Gt?Gt+e:e,this._events[n]&&ns(this,n)):(this._events=new $i,this._eventsCount=0),this};zt.prototype.off=zt.prototype.removeListener;zt.prototype.addListener=zt.prototype.on;zt.prefixed=Gt;zt.EventEmitter=zt;ea=zt;var _r={};gr(_r,"ConnectionType",()=>Nn);gr(_r,"PeerErrorType",()=>ht);gr(_r,"BaseConnectionErrorType",()=>xi);gr(_r,"DataConnectionErrorType",()=>yi);gr(_r,"SerializationType",()=>Br);gr(_r,"SocketEventType",()=>Dn);gr(_r,"ServerMessageType",()=>Mt);var Nn;(function(s){s.Data="data",s.Media="media"})(Nn||(Nn={}));var ht;(function(s){s.BrowserIncompatible="browser-incompatible",s.Disconnected="disconnected",s.InvalidID="invalid-id",s.InvalidKey="invalid-key",s.Network="network",s.PeerUnavailable="peer-unavailable",s.SslUnavailable="ssl-unavailable",s.ServerError="server-error",s.SocketError="socket-error",s.SocketClosed="socket-closed",s.UnavailableID="unavailable-id",s.WebRTC="webrtc"})(ht||(ht={}));var xi;(function(s){s.NegotiationFailed="negotiation-failed",s.ConnectionClosed="connection-closed"})(xi||(xi={}));var yi;(function(s){s.NotOpenYet="not-open-yet",s.MessageToBig="message-too-big"})(yi||(yi={}));var Br;(function(s){s.Binary="binary",s.BinaryUTF8="binary-utf8",s.JSON="json",s.None="raw"})(Br||(Br={}));var Dn;(function(s){s.Message="message",s.Disconnected="disconnected",s.Error="error",s.Close="close"})(Dn||(Dn={}));var Mt;(function(s){s.Heartbeat="HEARTBEAT",s.Candidate="CANDIDATE",s.Offer="OFFER",s.Answer="ANSWER",s.Open="OPEN",s.Error="ERROR",s.IdTaken="ID-TAKEN",s.InvalidKey="INVALID-KEY",s.Leave="LEAVE",s.Expire="EXPIRE"})(Mt||(Mt={}));var ta={};ta=JSON.parse('{"name":"peerjs","version":"1.5.2","keywords":["peerjs","webrtc","p2p","rtc"],"description":"PeerJS client","homepage":"https://peerjs.com","bugs":{"url":"https://github.com/peers/peerjs/issues"},"repository":{"type":"git","url":"https://github.com/peers/peerjs"},"license":"MIT","contributors":["Michelle Bu <michelle@michellebu.com>","afrokick <devbyru@gmail.com>","ericz <really.ez@gmail.com>","Jairo <kidandcat@gmail.com>","Jonas Gloning <34194370+jonasgloning@users.noreply.github.com>","Jairo Caro-Accino Viciana <jairo@galax.be>","Carlos Caballero <carlos.caballero.gonzalez@gmail.com>","hc <hheennrryy@gmail.com>","Muhammad Asif <capripio@gmail.com>","PrashoonB <prashoonbhattacharjee@gmail.com>","Harsh Bardhan Mishra <47351025+HarshCasper@users.noreply.github.com>","akotynski <aleksanderkotbury@gmail.com>","lmb <i@lmb.io>","Jairooo <jairocaro@msn.com>","Moritz Stückler <moritz.stueckler@gmail.com>","Simon <crydotsnakegithub@gmail.com>","Denis Lukov <denismassters@gmail.com>","Philipp Hancke <fippo@andyet.net>","Hans Oksendahl <hansoksendahl@gmail.com>","Jess <jessachandler@gmail.com>","khankuan <khankuan@gmail.com>","DUODVK <kurmanov.work@gmail.com>","XiZhao <kwang1imsa@gmail.com>","Matthias Lohr <matthias@lohr.me>","=frank tree <=frnktrb@googlemail.com>","Andre Eckardt <aeckardt@outlook.com>","Chris Cowan <agentme49@gmail.com>","Alex Chuev <alex@chuev.com>","alxnull <alxnull@e.mail.de>","Yemel Jardi <angel.jardi@gmail.com>","Ben Parnell <benjaminparnell.94@gmail.com>","Benny Lichtner <bennlich@gmail.com>","fresheneesz <bitetrudpublic@gmail.com>","bob.barstead@exaptive.com <bob.barstead@exaptive.com>","chandika <chandika@gmail.com>","emersion <contact@emersion.fr>","Christopher Van <cvan@users.noreply.github.com>","eddieherm <edhermoso@gmail.com>","Eduardo Pinho <enet4mikeenet@gmail.com>","Evandro Zanatta <ezanatta@tray.net.br>","Gardner Bickford <gardner@users.noreply.github.com>","Gian Luca <gianluca.cecchi@cynny.com>","PatrickJS <github@gdi2290.com>","jonnyf <github@jonathanfoss.co.uk>","Hizkia Felix <hizkifw@gmail.com>","Hristo Oskov <hristo.oskov@gmail.com>","Isaac Madwed <i.madwed@gmail.com>","Ilya Konanykhin <ilya.konanykhin@gmail.com>","jasonbarry <jasbarry@me.com>","Jonathan Burke <jonathan.burke.1311@googlemail.com>","Josh Hamit <josh.hamit@gmail.com>","Jordan Austin <jrax86@gmail.com>","Joel Wetzell <jwetzell@yahoo.com>","xizhao <kevin.wang@cloudera.com>","Alberto Torres <kungfoobar@gmail.com>","Jonathan Mayol <mayoljonathan@gmail.com>","Jefferson Felix <me@jsfelix.dev>","Rolf Erik Lekang <me@rolflekang.com>","Kevin Mai-Husan Chia <mhchia@users.noreply.github.com>","Pepijn de Vos <pepijndevos@gmail.com>","JooYoung <qkdlql@naver.com>","Tobias Speicher <rootcommander@gmail.com>","Steve Blaurock <sblaurock@gmail.com>","Kyrylo Shegeda <shegeda@ualberta.ca>","Diwank Singh Tomer <singh@diwank.name>","Sören Balko <Soeren.Balko@gmail.com>","Arpit Solanki <solankiarpit1997@gmail.com>","Yuki Ito <yuki@gnnk.net>","Artur Zayats <zag2art@gmail.com>"],"funding":{"type":"opencollective","url":"https://opencollective.com/peer"},"collective":{"type":"opencollective","url":"https://opencollective.com/peer"},"files":["dist/*"],"sideEffects":["lib/global.ts","lib/supports.ts"],"main":"dist/bundler.cjs","module":"dist/bundler.mjs","browser-minified":"dist/peerjs.min.js","browser-unminified":"dist/peerjs.js","browser-minified-cbor":"dist/serializer.cbor.mjs","browser-minified-msgpack":"dist/serializer.msgpack.mjs","types":"dist/types.d.ts","engines":{"node":">= 14"},"targets":{"types":{"source":"lib/exports.ts"},"main":{"source":"lib/exports.ts","sourceMap":{"inlineSources":true}},"module":{"source":"lib/exports.ts","includeNodeModules":["eventemitter3"],"sourceMap":{"inlineSources":true}},"browser-minified":{"context":"browser","outputFormat":"global","optimize":true,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 80, safari >= 15"},"source":"lib/global.ts"},"browser-unminified":{"context":"browser","outputFormat":"global","optimize":false,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 80, safari >= 15"},"source":"lib/global.ts"},"browser-minified-cbor":{"context":"browser","outputFormat":"esmodule","isLibrary":true,"optimize":true,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 102, safari >= 15"},"source":"lib/dataconnection/StreamConnection/Cbor.ts"},"browser-minified-msgpack":{"context":"browser","outputFormat":"esmodule","isLibrary":true,"optimize":true,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 102, safari >= 15"},"source":"lib/dataconnection/StreamConnection/MsgPack.ts"}},"scripts":{"contributors":"git-authors-cli --print=false && prettier --write package.json && git add package.json package-lock.json && git commit -m \\"chore(contributors): update and sort contributors list\\"","check":"tsc --noEmit && tsc -p e2e/tsconfig.json --noEmit","watch":"parcel watch","build":"rm -rf dist && parcel build","prepublishOnly":"npm run build","test":"jest","test:watch":"jest --watch","coverage":"jest --coverage --collectCoverageFrom=\\"./lib/**\\"","format":"prettier --write .","format:check":"prettier --check .","semantic-release":"semantic-release","e2e":"wdio run e2e/wdio.local.conf.ts","e2e:bstack":"wdio run e2e/wdio.bstack.conf.ts"},"devDependencies":{"@parcel/config-default":"^2.9.3","@parcel/packager-ts":"^2.9.3","@parcel/transformer-typescript-tsc":"^2.9.3","@parcel/transformer-typescript-types":"^2.9.3","@semantic-release/changelog":"^6.0.1","@semantic-release/git":"^10.0.1","@swc/core":"^1.3.27","@swc/jest":"^0.2.24","@types/jasmine":"^4.3.4","@wdio/browserstack-service":"^8.11.2","@wdio/cli":"^8.11.2","@wdio/globals":"^8.11.2","@wdio/jasmine-framework":"^8.11.2","@wdio/local-runner":"^8.11.2","@wdio/spec-reporter":"^8.11.2","@wdio/types":"^8.10.4","http-server":"^14.1.1","jest":"^29.3.1","jest-environment-jsdom":"^29.3.1","mock-socket":"^9.0.0","parcel":"^2.9.3","prettier":"^3.0.0","semantic-release":"^21.0.0","ts-node":"^10.9.1","typescript":"^5.0.0","wdio-geckodriver-service":"^5.0.1"},"dependencies":{"@msgpack/msgpack":"^2.8.0","cbor-x":"1.5.4","eventemitter3":"^4.0.7","peerjs-js-binarypack":"^2.1.0","webrtc-adapter":"^8.0.0"},"alias":{"process":false,"buffer":false}}');class z$ extends ea.EventEmitter{constructor(e,n,t,r,i,o=5e3){super(),this.pingInterval=o,this._disconnected=!0,this._messagesQueue=[];const l=e?"wss://":"ws://";this._baseUrl=l+n+":"+t+r+"peerjs?key="+i}start(e,n){this._id=e;const t=`${this._baseUrl}&id=${e}&token=${n}`;this._socket||!this._disconnected||(this._socket=new WebSocket(t+"&version="+ta.version),this._disconnected=!1,this._socket.onmessage=r=>{let i;try{i=JSON.parse(r.data),ye.log("Server message received:",i)}catch{ye.log("Invalid server message",r.data);return}this.emit(Dn.Message,i)},this._socket.onclose=r=>{this._disconnected||(ye.log("Socket closed.",r),this._cleanup(),this._disconnected=!0,this.emit(Dn.Disconnected))},this._socket.onopen=()=>{this._disconnected||(this._sendQueuedMessages(),ye.log("Socket open"),this._scheduleHeartbeat())})}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(!this._wsOpen()){ye.log("Cannot send heartbeat, because socket closed");return}const e=JSON.stringify({type:Mt.Heartbeat});this._socket.send(e),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const e=[...this._messagesQueue];this._messagesQueue=[];for(const n of e)this.send(n)}send(e){if(this._disconnected)return;if(!this._id){this._messagesQueue.push(e);return}if(!e.type){this.emit(Dn.Error,"Invalid message");return}if(!this._wsOpen())return;const n=JSON.stringify(e);this._socket.send(n)}close(){this._disconnected||(this._cleanup(),this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}}class Wf{constructor(e){this.connection=e}startConnection(e){const n=this._startPeerConnection();if(this.connection.peerConnection=n,this.connection.type===Nn.Media&&e._stream&&this._addTracksToConnection(e._stream,n),e.originator){const t=this.connection,r={ordered:!!e.reliable},i=n.createDataChannel(t.label,r);t._initializeDataChannel(i),this._makeOffer()}else this.handleSDP("OFFER",e.sdp)}_startPeerConnection(){ye.log("Creating RTCPeerConnection.");const e=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(e),e}_setupListeners(e){const n=this.connection.peer,t=this.connection.connectionId,r=this.connection.type,i=this.connection.provider;ye.log("Listening for ICE candidates."),e.onicecandidate=o=>{!o.candidate||!o.candidate.candidate||(ye.log(`Received ICE candidates for ${n}:`,o.candidate),i.socket.send({type:Mt.Candidate,payload:{candidate:o.candidate,type:r,connectionId:t},dst:n}))},e.oniceconnectionstatechange=()=>{switch(e.iceConnectionState){case"failed":ye.log("iceConnectionState is failed, closing connections to "+n),this.connection.emitError(xi.NegotiationFailed,"Negotiation of connection to "+n+" failed."),this.connection.close();break;case"closed":ye.log("iceConnectionState is closed, closing connections to "+n),this.connection.emitError(xi.ConnectionClosed,"Connection to "+n+" closed."),this.connection.close();break;case"disconnected":ye.log("iceConnectionState changed to disconnected on the connection with "+n);break;case"completed":e.onicecandidate=()=>{};break}this.connection.emit("iceStateChanged",e.iceConnectionState)},ye.log("Listening for data channel"),e.ondatachannel=o=>{ye.log("Received data channel");const l=o.channel;i.getConnection(n,t)._initializeDataChannel(l)},ye.log("Listening for remote stream"),e.ontrack=o=>{ye.log("Received remote stream");const l=o.streams[0],a=i.getConnection(n,t);if(a.type===Nn.Media){const c=a;this._addStreamToMediaConnection(l,c)}}}cleanup(){ye.log("Cleaning up PeerConnection to "+this.connection.peer);const e=this.connection.peerConnection;if(!e)return;this.connection.peerConnection=null,e.onicecandidate=e.oniceconnectionstatechange=e.ondatachannel=e.ontrack=()=>{};const n=e.signalingState!=="closed";let t=!1;const r=this.connection.dataChannel;r&&(t=!!r.readyState&&r.readyState!=="closed"),(n||t)&&e.close()}async _makeOffer(){const e=this.connection.peerConnection,n=this.connection.provider;try{const t=await e.createOffer(this.connection.options.constraints);ye.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(t.sdp=this.connection.options.sdpTransform(t.sdp)||t.sdp);try{await e.setLocalDescription(t),ye.log("Set localDescription:",t,`for:${this.connection.peer}`);let r={sdp:t,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type===Nn.Data){const i=this.connection;r={...r,label:i.label,reliable:i.reliable,serialization:i.serialization}}n.socket.send({type:Mt.Offer,payload:r,dst:this.connection.peer})}catch(r){r!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(n.emitError(ht.WebRTC,r),ye.log("Failed to setLocalDescription, ",r))}}catch(t){n.emitError(ht.WebRTC,t),ye.log("Failed to createOffer, ",t)}}async _makeAnswer(){const e=this.connection.peerConnection,n=this.connection.provider;try{const t=await e.createAnswer();ye.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(t.sdp=this.connection.options.sdpTransform(t.sdp)||t.sdp);try{await e.setLocalDescription(t),ye.log("Set localDescription:",t,`for:${this.connection.peer}`),n.socket.send({type:Mt.Answer,payload:{sdp:t,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(r){n.emitError(ht.WebRTC,r),ye.log("Failed to setLocalDescription, ",r)}}catch(t){n.emitError(ht.WebRTC,t),ye.log("Failed to create answer, ",t)}}async handleSDP(e,n){n=new RTCSessionDescription(n);const t=this.connection.peerConnection,r=this.connection.provider;ye.log("Setting remote description",n);const i=this;try{await t.setRemoteDescription(n),ye.log(`Set remoteDescription:${e} for:${this.connection.peer}`),e==="OFFER"&&await i._makeAnswer()}catch(o){r.emitError(ht.WebRTC,o),ye.log("Failed to setRemoteDescription, ",o)}}async handleCandidate(e){ye.log("handleCandidate:",e);try{await this.connection.peerConnection.addIceCandidate(e),ye.log(`Added ICE candidate for:${this.connection.peer}`)}catch(n){this.connection.provider.emitError(ht.WebRTC,n),ye.log("Failed to handleCandidate, ",n)}}_addTracksToConnection(e,n){if(ye.log(`add tracks from stream ${e.id} to peer connection`),!n.addTrack)return ye.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");e.getTracks().forEach(t=>{n.addTrack(t,e)})}_addStreamToMediaConnection(e,n){ye.log(`add stream ${e.id} to media connection ${n.connectionId}`),n.addStream(e)}}class Df extends ea.EventEmitter{emitError(e,n){ye.error("Error:",n),this.emit("error",new U$(`${e}`,n))}}class U$ extends Error{constructor(e,n){typeof n=="string"?super(n):(super(),Object.assign(this,n)),this.type=e}}class jf extends Df{get open(){return this._open}constructor(e,n,t){super(),this.peer=e,this.provider=n,this.options=t,this._open=!1,this.metadata=t.metadata}}var Co;const ci=class ci extends jf{get type(){return Nn.Media}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(e,n,t){super(e,n,t),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||ci.ID_PREFIX+Qt.randomToken(),this._negotiator=new Wf(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{ye.log(`DC#${this.connectionId} dc connection success`),this.emit("willCloseOnRemote")},this.dataChannel.onclose=()=>{ye.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}addStream(e){ye.log("Receiving stream",e),this._remoteStream=e,super.emit("stream",e)}handleMessage(e){const n=e.type,t=e.payload;switch(e.type){case Mt.Answer:this._negotiator.handleSDP(n,t.sdp),this._open=!0;break;case Mt.Candidate:this._negotiator.handleCandidate(t.candidate);break;default:ye.warn(`Unrecognized message type:${n} from peer:${this.peer}`);break}}answer(e,n={}){if(this._localStream){ye.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=e,n&&n.sdpTransform&&(this.options.sdpTransform=n.sdpTransform),this._negotiator.startConnection({...this.options._payload,_stream:e});const t=this.provider._getMessages(this.connectionId);for(const r of t)this.handleMessage(r);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}};Co=new WeakMap,yt(ci,Co,ci.ID_PREFIX="mc_");let ds=ci;class F${constructor(e){this._options=e}_buildRequest(e){const n=this._options.secure?"https":"http",{host:t,port:r,path:i,key:o}=this._options,l=new URL(`${n}://${t}:${r}${i}${o}/${e}`);return l.searchParams.set("ts",`${Date.now()}${Math.random()}`),l.searchParams.set("version",ta.version),fetch(l.href,{referrerPolicy:this._options.referrerPolicy})}async retrieveId(){try{const e=await this._buildRequest("id");if(e.status!==200)throw new Error(`Error. Status:${e.status}`);return e.text()}catch(e){ye.error("Error retrieving ID",e);let n="";throw this._options.path==="/"&&this._options.host!==Qt.CLOUD_HOST&&(n=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+n)}}async listAllPeers(){try{const e=await this._buildRequest("peers");if(e.status!==200){if(e.status===401){let n="";throw this._options.host===Qt.CLOUD_HOST?n="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":n="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+n)}throw new Error(`Error. Status:${e.status}`)}return e.json()}catch(e){throw ye.error("Error retrieving list peers",e),new Error("Could not get list peers from the server."+e)}}}var So,Eo;const nr=class nr extends jf{get type(){return Nn.Data}constructor(e,n,t){super(e,n,t),this.connectionId=this.options.connectionId||nr.ID_PREFIX+Of(),this.label=this.options.label||this.connectionId,this.reliable=!!this.options.reliable,this._negotiator=new Wf(this),this._negotiator.startConnection(this.options._payload||{originator:!0,reliable:this.reliable})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{ye.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=n=>{ye.log(`DC#${this.connectionId} dc onmessage:`,n.data)},this.dataChannel.onclose=()=>{ye.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}close(e){if(e!=null&&e.flush){this.send({__peerData:{type:"close"}});return}this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this.dataChannel=null),this.open&&(this._open=!1,super.emit("close"))}send(e,n=!1){if(!this.open){this.emitError(yi.NotOpenYet,"Connection is not open. You should listen for the `open` event before sending messages.");return}return this._send(e,n)}async handleMessage(e){const n=e.payload;switch(e.type){case Mt.Answer:await this._negotiator.handleSDP(e.type,n.sdp);break;case Mt.Candidate:await this._negotiator.handleCandidate(n.candidate);break;default:ye.warn("Unrecognized message type:",e.type,"from peer:",this.peer);break}}};So=new WeakMap,Eo=new WeakMap,yt(nr,So,nr.ID_PREFIX="dc_"),yt(nr,Eo,nr.MAX_BUFFERED_AMOUNT=8388608);let ps=nr;class na extends ps{get bufferSize(){return this._bufferSize}_initializeDataChannel(e){super._initializeDataChannel(e),this.dataChannel.binaryType="arraybuffer",this.dataChannel.addEventListener("message",n=>this._handleDataMessage(n))}_bufferedSend(e){(this._buffering||!this._trySend(e))&&(this._buffer.push(e),this._bufferSize=this._buffer.length)}_trySend(e){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>ps.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(e)}catch(n){return ye.error(`DC#:${this.connectionId} Error when sending:`,n),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const e=this._buffer[0];this._trySend(e)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}close(e){if(e!=null&&e.flush){this.send({__peerData:{type:"close"}});return}this._buffer=[],this._bufferSize=0,super.close()}constructor(...e){super(...e),this._buffer=[],this._bufferSize=0,this._buffering=!1}}class Gs extends na{close(e){super.close(e),this._chunkedData={}}constructor(e,n,t){super(e,n,t),this.chunker=new If,this.serialization=Br.Binary,this._chunkedData={}}_handleDataMessage({data:e}){const n=Uc(e),t=n.__peerData;if(t){if(t.type==="close"){this.close();return}this._handleChunk(n);return}this.emit("data",n)}_handleChunk(e){const n=e.__peerData,t=this._chunkedData[n]||{data:[],count:0,total:e.total};if(t.data[e.n]=new Uint8Array(e.data),t.count++,this._chunkedData[n]=t,t.total===t.count){delete this._chunkedData[n];const r=M$(t.data);this._handleDataMessage({data:r})}}_send(e,n){const t=Fc(e);if(t instanceof Promise)return this._send_blob(t);if(!n&&t.byteLength>this.chunker.chunkedMTU){this._sendChunks(t);return}this._bufferedSend(t)}async _send_blob(e){const n=await e;if(n.byteLength>this.chunker.chunkedMTU){this._sendChunks(n);return}this._bufferedSend(n)}_sendChunks(e){const n=this.chunker.chunk(e);ye.log(`DC#${this.connectionId} Try to send ${n.length} chunks...`);for(const t of n)this.send(t,!0)}}class V$ extends na{_handleDataMessage({data:e}){super.emit("data",e)}_send(e,n){this._bufferedSend(e)}constructor(...e){super(...e),this.serialization=Br.None}}class q$ extends na{_handleDataMessage({data:e}){const n=this.parse(this.decoder.decode(e)),t=n.__peerData;if(t&&t.type==="close"){this.close();return}this.emit("data",n)}_send(e,n){const t=this.encoder.encode(this.stringify(e));if(t.byteLength>=Qt.chunkedMTU){this.emitError(yi.MessageToBig,"Message too big for JSON channel");return}this._bufferedSend(t)}constructor(...e){super(...e),this.serialization=Br.JSON,this.encoder=new TextEncoder,this.decoder=new TextDecoder,this.stringify=JSON.stringify,this.parse=JSON.parse}}var Ro;const fi=class fi extends Df{get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const e=Object.create(null);for(const[n,t]of this._connections)e[n]=t;return e}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}constructor(e,n){super(),this._serializers={raw:V$,json:q$,binary:Gs,"binary-utf8":Gs,default:Gs},this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;let t;if(e&&e.constructor==Object?n=e:e&&(t=e.toString()),n={debug:0,host:Qt.CLOUD_HOST,port:Qt.CLOUD_PORT,path:"/",key:fi.DEFAULT_KEY,token:Qt.randomToken(),config:Qt.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin",serializers:{},...n},this._options=n,this._serializers={...this._serializers,...this.options.serializers},this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==Qt.CLOUD_HOST?this._options.secure=Qt.isSecure():this._options.host==Qt.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&ye.setLogFunction(this._options.logFunction),ye.logLevel=this._options.debug||0,this._api=new F$(n),this._socket=this._createServerConnection(),!Qt.supports.audioVideo&&!Qt.supports.data){this._delayedAbort(ht.BrowserIncompatible,"The current browser does not support WebRTC");return}if(t&&!Qt.validateId(t)){this._delayedAbort(ht.InvalidID,`ID "${t}" is invalid`);return}t?this._initialize(t):this._api.retrieveId().then(r=>this._initialize(r)).catch(r=>this._abort(ht.ServerError,r))}_createServerConnection(){const e=new z$(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return e.on(Dn.Message,n=>{this._handleMessage(n)}),e.on(Dn.Error,n=>{this._abort(ht.SocketError,n)}),e.on(Dn.Disconnected,()=>{this.disconnected||(this.emitError(ht.Network,"Lost connection to server."),this.disconnect())}),e.on(Dn.Close,()=>{this.disconnected||this._abort(ht.SocketClosed,"Underlying socket is already closed.")}),e}_initialize(e){this._id=e,this.socket.start(e,this._options.token)}_handleMessage(e){const n=e.type,t=e.payload,r=e.src;switch(n){case Mt.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case Mt.Error:this._abort(ht.ServerError,t.msg);break;case Mt.IdTaken:this._abort(ht.UnavailableID,`ID "${this.id}" is taken`);break;case Mt.InvalidKey:this._abort(ht.InvalidKey,`API KEY "${this._options.key}" is invalid`);break;case Mt.Leave:ye.log(`Received leave message from ${r}`),this._cleanupPeer(r),this._connections.delete(r);break;case Mt.Expire:this.emitError(ht.PeerUnavailable,`Could not connect to peer ${r}`);break;case Mt.Offer:{const i=t.connectionId;let o=this.getConnection(r,i);if(o&&(o.close(),ye.warn(`Offer received for existing Connection ID:${i}`)),t.type===Nn.Media){const a=new ds(r,this,{connectionId:i,_payload:t,metadata:t.metadata});o=a,this._addConnection(r,o),this.emit("call",a)}else if(t.type===Nn.Data){const a=new this._serializers[t.serialization](r,this,{connectionId:i,_payload:t,metadata:t.metadata,label:t.label,serialization:t.serialization,reliable:t.reliable});o=a,this._addConnection(r,o),this.emit("connection",a)}else{ye.warn(`Received malformed connection type:${t.type}`);return}const l=this._getMessages(i);for(const a of l)o.handleMessage(a);break}default:{if(!t){ye.warn(`You received a malformed message from ${r} of type ${n}`);return}const i=t.connectionId,o=this.getConnection(r,i);o&&o.peerConnection?o.handleMessage(e):i?this._storeMessage(i,e):ye.warn("You received an unrecognized message:",e);break}}}_storeMessage(e,n){this._lostMessages.has(e)||this._lostMessages.set(e,[]),this._lostMessages.get(e).push(n)}_getMessages(e){const n=this._lostMessages.get(e);return n?(this._lostMessages.delete(e),n):[]}connect(e,n={}){if(n={serialization:"default",...n},this.disconnected){ye.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(ht.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}const t=new this._serializers[n.serialization](e,this,n);return this._addConnection(e,t),t}call(e,n,t={}){if(this.disconnected){ye.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(ht.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!n){ye.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}const r=new ds(e,this,{...t,_stream:n});return this._addConnection(e,r),r}_addConnection(e,n){ye.log(`add connection ${n.type}:${n.connectionId} to peerId:${e}`),this._connections.has(e)||this._connections.set(e,[]),this._connections.get(e).push(n)}_removeConnection(e){const n=this._connections.get(e.peer);if(n){const t=n.indexOf(e);t!==-1&&n.splice(t,1)}this._lostMessages.delete(e.connectionId)}getConnection(e,n){const t=this._connections.get(e);if(!t)return null;for(const r of t)if(r.connectionId===n)return r;return null}_delayedAbort(e,n){setTimeout(()=>{this._abort(e,n)},0)}_abort(e,n){ye.error("Aborting!"),this.emitError(e,n),this._lastServerId?this.disconnect():this.destroy()}destroy(){this.destroyed||(ye.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(const e of this._connections.keys())this._cleanupPeer(e),this._connections.delete(e);this.socket.removeAllListeners()}_cleanupPeer(e){const n=this._connections.get(e);if(n)for(const t of n)t.close()}disconnect(){if(this.disconnected)return;const e=this.id;ye.log(`Disconnect peer with ID:${e}`),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=e,this._id=null,this.emit("disconnected",e)}reconnect(){if(this.disconnected&&!this.destroyed)ye.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)ye.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(e=n=>{}){this._api.listAllPeers().then(n=>e(n)).catch(n=>this._abort(ht.ServerError,n))}};Ro=new WeakMap,yt(fi,Ro,fi.DEFAULT_KEY="peerjs");let hs=fi;class G${constructor(e){this.dataConnection=e}}function J$(s,e,n){const t=function(f){for(const u of l)console.dev("Sent",f),u.dataConnection.send(f)};let{username:r}=e;const i=at(),o=new hs(Ne.magic);let l=[],a=!1;o.on("open",function(f){c.register(),console.dev("Server is ready: "+r+" "+f),i(Ne.event.open,t)}),o.on("connection",function(f){l.push(new G$(f)),f.on("open",function(){const u=l.map(p=>p.dataConnection.metadata.username);u.push(r),f.send({type:Ne.net.userList,server:r,list:u}),i(Ne.event.service,{type:Ne.net.userAdd,username:f.metadata.username,connects:f.metadata.connects});const d=l.filter(p=>p.dataConnection!=f);for(const p of d)p.dataConnection.send({type:Ne.net.userAdd,username:f.metadata.username,connects:f.metadata.connects})}),f.on("data",function(u){l.filter(h=>h.dataConnection==f)[0];const d=new Date(u.time).toLocaleTimeString();i(Ne.event.msg,new sr(u.from,u.text,d)),console.dev("Received",u);const p=l.filter(h=>h.dataConnection!=f);for(const h of p)h.dataConnection.send(u)}),f.on("close",function(){if(!a){console.dev(`Client closed connection: ${f.metadata.username}`),i(Ne.event.service,{type:Ne.net.userRemove,username:f.metadata.username}),l=l.filter(u=>u.dataConnection!=f);for(const u of l)u.dataConnection.send({type:Ne.net.userRemove,username:f.metadata.username})}}),f.on("error",function(u){l=l.filter(d=>d.dataConnection!=f)})}),o.on("disconnected",function(){c.close()}),o.on("error",function(f){c.close()});const c=qn("idle",{idle:{register:"registered",close(){return console.dev("Failed to register as server"),"closed"}},registered:{close:"closed"},closed:{_enter(){i(Ne.event.closed)}}});return zn(()=>{a=!0,o.destroy(),console.dev("The server component is being destroyed")}),s.$$set=f=>{"username"in f&&n(1,r=f.username)},[t,r]}class Q$ extends re{constructor(e){super(),ie(this,e,J$,null,se,{send:0,username:1})}get send(){return this.$$.ctx[0]}}var Dr,ys,Nf,ks,Lf,vs,Bf;const ft=class ft{constructor(e,n,t,r){var i;this.hex=e,this.r=n,this.g=t,this.b=r,this.luminance=bt(i=ft,vs,Bf).call(i,n,t,r)}static random(){const e="0123456789ABCDEF";let n="#";for(let t=0;t<6;t++)n+=e[Math.floor(Math.random()*16)];return ft.fromHex(n)}static fromHex(e){var o;const[n,t,r]=bt(o=ft,ys,Nf).call(o,e),i=new ft(e,n,t,r);return Object.freeze(i)}static fromRgb(e,n,t){var i;const r=new ft(bt(i=ft,ks,Lf).call(i,e,n,t),e,n,t);return Object.freeze(r)}static generateColorPair(e=null){const n=ft.random(),t=n.luminance>.5?ft.fromHex("#000000"):ft.fromHex("#FFFFFF");return[n,t]}static generateCachedColorPair(e){if(e===null)return ft.generateColorPair();if(e in Gn(ft,Dr))return Gn(ft,Dr)[e];{const n=ft.generateColorPair();return Gn(ft,Dr)[e]=n,n}}invert(){const e=parseInt(this.hex.slice(1),16),n=255-(e>>16&255),t=255-(e>>8&255),r=255-(e&255);return ft.fromRgb(n,t,r)}lighten(e=40){const n=parseInt(this.hex.slice(1),16),t=Math.min(255,(n>>16&255)+e),r=Math.min(255,(n>>8&255)+e),i=Math.min(255,(n&255)+e);return ft.fromRgb(t,r,i)}darken(e=40){const n=parseInt(this.hex.slice(1),16),t=Math.max(0,(n>>16&255)-e),r=Math.max(0,(n>>8&255)-e),i=Math.max(0,(n&255)-e);return ft.fromRgb(t,r,i)}generateTextColor(){const e=this.invert(),n=5;return(this.luminance>e.luminance?(this.luminance+.05)/(e.luminance+.05):(e.luminance+.05)/(this.luminance+.05))<n?this.luminance>.5?e.darken():e.lighten():e}};Dr=new WeakMap,ys=new WeakSet,Nf=function(e){var n=parseInt(e.slice(1),16),t=n>>16&255,r=n>>8&255,i=n&255;return[t,r,i]},ks=new WeakSet,Lf=function(e,n,t){return`#${(1<<24|e<<16|n<<8|t).toString(16).slice(1).toUpperCase()}`},vs=new WeakSet,Bf=function(e,n,t){const r=[e,n,t].map(function(i){return i/=255,i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4)});return r[0]*.2126+r[1]*.7152+r[2]*.0722},yt(ft,ys),yt(ft,ks),yt(ft,vs),yt(ft,Dr,{});let Yn=ft;function K$(s,e,n){const t=function(d){a&&(console.dev("Sent",d),a.send(d))};let{username:r}=e,{connects:i}=e;const o=at(),l=new hs;let a=null,c,f={};l.on("open",function(d){u.registered()}),l.on("disconnected",function(){u.close()}),l.on("error",function(d){u.close(),console.dev("Peer server has failed: "+d)});const u=qn("idle",{idle:{registered:"registered",close:"closed"},registered:{_enter(){a=l.connect(Ne.magic,{metadata:{username:r,connects:i}}),a.on("open",function(){u.connected()}),a.on("close",function(){console.dev(`Server "${c}" diconnected.`),o(Ne.event.service,{type:Ne.net.userRemove,username:c}),u.close()}),a.on("error",function(d){u.close(),console.dev("Server has failed: "+d)})},connected:"connected",close:"closed"},connected:{_enter(){console.dev("Client ready ",r),a.on("data",function(d){switch(d==null?void 0:d.type){case Ne.net.msg:f[d==null?void 0:d.from];const p=new Date(d.time).toLocaleTimeString();o(Ne.event.msg,new sr(d.from,d.text,p));break;case Ne.net.userList:c=d.server;for(const h of d.list)f[h]=Yn.generateCachedColorPair(h);o(Ne.event.service,{type:Ne.net.userList,list:d.list});break;case Ne.net.userAdd:f[d.username]=Yn.generateCachedColorPair(d.username),o(Ne.event.service,{type:Ne.net.userAdd,username:d.username,connects:d.connects});break;case Ne.net.userRemove:delete f[d.username],o(Ne.event.service,{type:Ne.net.userRemove,username:d.username});break}console.dev("Received",d)}),o(Ne.event.connected,t)},close:"closed"},closed:{_enter(){o(Ne.event.closed),console.dev("Client closed.")}}});return zn(()=>{l.destroy(),console.dev("The client component is being destroyed")}),s.$$set=d=>{"username"in d&&n(1,r=d.username),"connects"in d&&n(2,i=d.connects)},[t,r,i]}class H$ extends re{constructor(e){super(),ie(this,e,K$,null,se,{send:0,username:1,connects:2})}get send(){return this.$$.ctx[0]}}var zf={},Uf={},As={};Object.defineProperty(As,"__esModule",{value:!0});As.adjectives=void 0;As.adjectives=["abandoned","able","absolute","adorable","adventurous","academic","acceptable","acclaimed","accomplished","accurate","aching","acidic","acrobatic","active","actual","adept","admirable","admired","adolescent","adorable","adored","advanced","afraid","affectionate","aged","aggravating","aggressive","agile","agitated","agonizing","agreeable","ajar","alarmed","alarming","alert","alienated","alive","all","altruistic","amazing","ambitious","ample","amused","amusing","anchored","ancient","angelic","angry","anguished","animated","annual","another","antique","anxious","any","apprehensive","appropriate","apt","arctic","arid","aromatic","artistic","ashamed","assured","astonishing","athletic","attached","attentive","attractive","austere","authentic","authorized","automatic","avaricious","average","aware","awesome","awful","awkward","babyish","bad","back","baggy","bare","barren","basic","beautiful","belated","beloved","beneficial","better","best","bewitched","big","biodegradable","bitter","black","bland","blank","blaring","bleak","blind","blissful","blond","blue","blushing","bogus","boiling","bold","bony","boring","bossy","both","bouncy","bountiful","bowed","brave","breakable","brief","bright","brilliant","brisk","broken","bronze","brown","bruised","bubbly","bulky","bumpy","buoyant","burdensome","burly","bustling","busy","buttery","buzzing","calculating","calm","candid","canine","capital","carefree","careful","careless","caring","cautious","cavernous","celebrated","charming","cheap","cheerful","cheery","chief","chilly","chubby","circular","classic","clean","clear","clever","close","closed","cloudy","clueless","clumsy","cluttered","coarse","cold","colorful","colorless","colossal","comfortable","common","compassionate","competent","complete","complex","complicated","composed","concerned","concrete","confused","conscious","considerate","constant","content","conventional","cooked","cool","cooperative","coordinated","corny","corrupt","costly","courageous","courteous","crafty","crazy","creamy","creative","creepy","criminal","crisp","critical","crooked","crowded","cruel","crushing","cuddly","cultivated","cultured","cumbersome","curly","curvy","cute","cylindrical","damaged","damp","dangerous","dapper","daring","darling","dark","dazzling","dead","deadly","deafening","dear","dearest","decent","decimal","decisive","defenseless","defensive","defiant","deficient","definite","definitive","delayed","delectable","delicious","delightful","delirious","demanding","dense","dental","dependable","dependent","descriptive","deserted","detailed","determined","devoted","different","difficult","digital","diligent","dim","dimpled","dimwitted","direct","disastrous","discrete","disloyal","dismal","distant","downright","dreary","dirty","disguised","dishonest","dismal","distant","distinct","distorted","dizzy","dopey","doting","double","downright","drab","drafty","dramatic","dreary","droopy","dry","dual","dull","dutiful","each","eager","earnest","early","easy","ecstatic","edible","educated","elaborate","elastic","elated","elderly","electric","elegant","elementary","elliptical","embarrassed","embellished","eminent","emotional","empty","enchanted","enchanting","energetic","enlightened","enormous","enraged","entire","envious","equal","equatorial","essential","esteemed","ethical","euphoric","even","evergreen","everlasting","every","evil","exalted","excellent","exemplary","exhausted","excitable","excited","exciting","exotic","expensive","experienced","expert","extraneous","extroverted","fabulous","failing","faint","fair","faithful","fake","false","familiar","famous","fancy","fantastic","far","faraway","fast","fat","fatal","fatherly","favorable","favorite","fearful","fearless","feisty","feline","few","fickle","filthy","fine","finished","firm","first","firsthand","fitting","fixed","flaky","flamboyant","flashy","flat","flawed","flawless","flickering","flimsy","flippant","flowery","fluffy","fluid","flustered","focused","fond","foolhardy","foolish","forceful","forked","formal","forsaken","forthright","fortunate","fragrant","frail","frank","frayed","free","French","fresh","frequent","friendly","frightened","frightening","frigid","frilly","frizzy","frivolous","front","frosty","frozen","frugal","fruitful","full","fumbling","functional","funny","fussy","fuzzy","gargantuan","gaseous","general","generous","gentle","genuine","giant","giddy","gigantic","gifted","giving","glamorous","glaring","glass","gleaming","gleeful","glistening","glittering","gloomy","glorious","glossy","glum","golden","good","gorgeous","graceful","gracious","grand","grandiose","granular","grateful","grave","gray","great","greedy","green","gregarious","grim","grimy","gripping","grizzled","gross","grotesque","grouchy","grounded","growing","growling","grown","grubby","gruesome","grumpy","guilty","gullible","gummy","hairy","half","handmade","handsome","handy","happy","hard","harmful","harmless","harmonious","harsh","hasty","hateful","haunting","healthy","heartfelt","hearty","heavenly","heavy","hefty","helpful","helpless","hidden","hideous","high","hilarious","hoarse","hollow","homely","honest","honorable","honored","hopeful","horrible","hospitable","hot","huge","humble","humiliating","humming","humongous","hungry","hurtful","husky","icky","icy","ideal","idealistic","identical","idle","idiotic","idolized","ignorant","ill","illegal","illiterate","illustrious","imaginary","imaginative","immaculate","immaterial","immediate","immense","impassioned","impeccable","impartial","imperfect","imperturbable","impish","impolite","important","impossible","impractical","impressionable","impressive","improbable","impure","inborn","incomparable","incompatible","incomplete","inconsequential","incredible","indelible","inexperienced","indolent","infamous","infantile","infatuated","inferior","infinite","informal","innocent","insecure","insidious","insignificant","insistent","instructive","insubstantial","intelligent","intent","intentional","interesting","internal","international","intrepid","ironclad","irresponsible","irritating","itchy","jaded","jagged","jaunty","jealous","jittery","joint","jolly","jovial","joyful","joyous","jubilant","judicious","juicy","jumbo","junior","jumpy","juvenile","kaleidoscopic","keen","key","kind","kindhearted","kindly","klutzy","knobby","knotty","knowledgeable","knowing","known","kooky","lame","lanky","large","last","lasting","late","lavish","lawful","lazy","leading","lean","leafy","left","legal","legitimate","light","lighthearted","likable","likely","limited","limp","limping","linear","lined","liquid","little","live","lively","livid","loathsome","lone","lonely","long","loose","lopsided","lost","loud","lovable","lovely","loving","low","loyal","lucky","lumbering","luminous","lumpy","lustrous","luxurious","mad","magnificent","majestic","major","mammoth","married","marvelous","massive","mature","meager","mealy","mean","measly","meaty","medical","mediocre","medium","meek","mellow","melodic","memorable","menacing","merry","messy","metallic","mild","milky","mindless","miniature","minor","minty","miserable","miserly","misguided","misty","mixed","modern","modest","monstrous","monthly","monumental","moral","mortified","motherly","motionless","mountainous","muddy","muffled","multicolored","mundane","murky","mushy","musty","muted","mysterious","naive","narrow","nasty","natural","naughty","nautical","near","neat","necessary","needy","negative","neglected","negligible","neighboring","nervous","new","next","nice","nifty","nimble","nippy","nocturnal","noisy","nonstop","normal","notable","noted","noteworthy","novel","noxious","numb","nutritious","nutty","obedient","obese","oblong","oily","oblong","obvious","occasional","odd","oddball","offbeat","offensive","official","old","only","open","optimal","optimistic","opulent","orange","orderly","organic","ornate","ornery","ordinary","original","other","our","outlying","outgoing","outlandish","outrageous","outstanding","oval","overcooked","overdue","overjoyed","overlooked","palatable","pale","paltry","parallel","parched","partial","passionate","past","pastel","peaceful","peppery","perfect","perfumed","periodic","perky","personal","pertinent","pesky","pessimistic","petty","phony","physical","piercing","pink","pitiful","plain","plaintive","plastic","playful","pleasant","pleased","pleasing","plump","plush","polished","polite","political","pointed","pointless","poised","poor","popular","portly","posh","positive","possible","potable","powerful","powerless","practical","precious","present","prestigious","pretty","precious","previous","pricey","prickly","primary","prime","pristine","private","prize","probable","productive","profitable","profuse","proper","proud","prudent","punctual","pungent","puny","pure","purple","pushy","putrid","puzzled","puzzling","quaint","qualified","quarrelsome","quarterly","queasy","querulous","questionable","quick","quiet","quintessential","quirky","quixotic","quizzical","radiant","ragged","rapid","rare","rash","raw","recent","reckless","rectangular","ready","real","realistic","reasonable","red","reflecting","regal","regular","reliable","relieved","remarkable","remorseful","remote","repentant","required","respectful","responsible","repulsive","revolving","rewarding","rich","rigid","right","ringed","ripe","roasted","robust","rosy","rotating","rotten","rough","round","rowdy","royal","rubbery","rundown","ruddy","rude","runny","rural","rusty","sad","safe","salty","same","sandy","sane","sarcastic","sardonic","satisfied","scaly","scarce","scared","scary","scented","scholarly","scientific","scornful","scratchy","scrawny","second","secondary","secret","selfish","sentimental","separate","serene","serious","serpentine","several","severe","shabby","shadowy","shady","shallow","shameful","shameless","sharp","shimmering","shiny","shocked","shocking","shoddy","short","showy","shrill","shy","sick","silent","silky","silly","silver","similar","simple","simplistic","sinful","single","sizzling","skeletal","skinny","sleepy","slight","slim","slimy","slippery","slow","slushy","small","smart","smoggy","smooth","smug","snappy","snarling","sneaky","sniveling","snoopy","sociable","soft","soggy","solid","somber","some","spherical","sophisticated","sore","sorrowful","soulful","soupy","sour","sparkling","sparse","specific","spectacular","speedy","spicy","spiffy","spirited","spiteful","splendid","spotless","spotted","spry","square","squeaky","squiggly","stable","staid","stained","stale","standard","starchy","stark","starry","steep","sticky","stiff","stimulating","stingy","stormy","straight","strange","steel","strict","strident","striking","striped","strong","studious","stunning","stupendous","stupid","sturdy","stylish","subdued","submissive","substantial","subtle","suburban","sudden","sugary","sunny","super","superb","superficial","superior","supportive","surprised","suspicious","svelte","sweaty","sweet","sweltering","swift","sympathetic","tall","talkative","tame","tan","tangible","tart","tasty","tattered","taut","tedious","teeming","tempting","tender","tense","tepid","terrible","terrific","testy","thankful","thick","thin","third","thirsty","this","thorough","thorny","thoughtful","threadbare","thrifty","thunderous","tidy","tight","timely","tinted","tiny","tired","torn","total","tough","traumatic","treasured","tremendous","tragic","trained","tremendous","triangular","tricky","trifling","trim","trivial","troubled","true","trusting","trustworthy","trusty","truthful","tubby","turbulent","twin","ugly","ultimate","unacceptable","unaware","uncomfortable","uncommon","unconscious","understated","unequaled","uneven","unfinished","unfit","unfolded","unfortunate","unhappy","unhealthy","uniform","unimportant","unique","united","unkempt","unknown","unlawful","unlined","unlucky","unnatural","unpleasant","unrealistic","unripe","unruly","unselfish","unsightly","unsteady","unsung","untidy","untimely","untried","untrue","unused","unusual","unwelcome","unwieldy","unwilling","unwitting","unwritten","upbeat","upright","upset","urban","usable","used","useful","utilized","utter","vacant","vague","vain","valid","valuable","vapid","variable","vast","velvety","venerated","vengeful","verifiable","vibrant","vicious","victorious","vigilant","vigorous","villainous","violet","violent","virtual","virtuous","visible","vital","vivacious","vivid","voluminous","wan","warlike","warm","warmhearted","warped","wary","wasteful","watchful","waterlogged","watery","wavy","wealthy","weak","weary","webbed","wee","weekly","weepy","weighty","weird","welcome","wet","which","whimsical","whirlwind","whispered","white","whole","whopping","wicked","wide","wiggly","wild","willing","wilted","winding","windy","winged","wiry","wise","witty","wobbly","woeful","wonderful","wooden","woozy","wordy","worldly","worn","worried","worrisome","worse","worst","worthless","worthwhile","worthy","wrathful","wretched","writhing","wrong","wry","yawning","yearly","yellow","yellowish","young","youthful","yummy","zany","zealous","zesty","zigzag"];var Is={};Object.defineProperty(Is,"__esModule",{value:!0});Is.animals=void 0;Is.animals=["aardvark","albatross","alligator","alpaca","ant","anteater","antelope","ape","armadillo","donkey","baboon","badger","barracuda","bat","bear","beaver","bee","bison","boar","buffalo","butterfly","camel","capybara","caribou","cassowary","cat","caterpillar","cattle","chamois","cheetah","chicken","chimpanzee","chinchilla","chough","clam","cobra","cockroach","cod","corgi","cormorant","coyote","crab","crane","crocodile","crow","curlew","deer","dinosaur","dog","dogfish","dolphin","dotterel","dove","dragonfly","duck","dugong","dunlin","eagle","echidna","eel","eland","elephant","elk","emu","falcon","ferret","finch","fish","flamingo","fly","fox","frog","gaur","gazelle","gerbil","giraffe","gnat","gnu","goat","goldfinch","goldfish","goose","gorilla","goshawk","grasshopper","grouse","guanaco","gull","hamster","hare","hawk","hedgehog","heron","herring","hippopotamus","hornet","horse","human","hummingbird","hyena","ibex","ibis","jackal","jaguar","jay","jellyfish","kangaroo","kingfisher","koala","kookabura","kouprey","kudu","lapwing","lark","lemur","leopard","lion","llama","lobster","locust","loris","louse","lyrebird","magpie","mallard","manatee","mandrill","mantis","marten","meerkat","mink","mole","mongoose","monkey","moose","mosquito","mouse","mule","narwhal","newt","nightingale","octopus","okapi","opossum","oryx","ostrich","otter","owl","oyster","panther","parrot","partridge","peafowl","pelican","penguin","pheasant","pig","pigeon","pony","porcupine","porpoise","quail","quelea","quetzal","rabbit","raccoon","rail","ram","rat","raven","deer","panda","reindeer","rhinoceros","rook","salamander","salmon","sandpiper","sardine","scorpion","seahorse","seal","shark","sheep","shrew","skunk","slug","snail","snake","sparrow","spider","spoonbill","squid","squirrel","starling","stingray","stinkbug","stork","swallow","swan","tapir","tarsier","termite","tiger","toad","trout","turkey","turtle","viper","vulture","wallaby","walrus","wasp","weasel","whale","wildcat","wolf","wolverine","wombat","woodpecker","worm","wren","yak","zebra"];(function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.generateUsername=s.getRandomNumber=void 0;const e=As,n=Is,t=(l,a)=>Math.floor(Math.random()*(a-l+1))+l;s.getRandomNumber=t;const r=l=>(0,s.getRandomNumber)(0,l.length-1),i={useHyphen:!0,useRandomNumber:!0},o=(l={})=>{const a={...i,...l},c=e.adjectives[r(e.adjectives)],f=n.animals[r(n.animals)],u=(0,s.getRandomNumber)(0,999);let d=`${c}-${f}${u}`;if(a.useHyphen||(d=d.replace("-","")),!a.useRandomNumber){const p=/[0-9]/g;d=d.replace(p,"")}return d};s.generateUsername=o})(Uf);(function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.generateUsername=void 0;var e=Uf;Object.defineProperty(s,"generateUsername",{enumerable:!0,get:function(){return e.generateUsername}})})(zf);function X$(s){let e,n;return e=new H$({props:{connects:s[1],username:s[0]}}),e.$on("connected",s[14]),e.$on("closed",s[15]),e.$on("msg",s[3]),e.$on("service",s[4]),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p(t,r){const i={};r&2&&(i.connects=t[1]),e.$set(i)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Y$(s){let e,n;return e=new Q$({props:{username:s[0]}}),e.$on("open",s[12]),e.$on("closed",s[13]),e.$on("msg",s[3]),e.$on("service",s[4]),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p:V,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Z$(s){let e,n,t,r;const i=[Y$,X$],o=[];function l(a,c){return a[2]=="registerServer"||a[2]=="connectedServer"?0:a[2]=="registerClient"||a[2]=="connectedClient"?1:-1}return~(e=l(s))&&(n=o[e]=i[e](s)),{c(){n&&n.c(),t=J()},l(a){n&&n.l(a),t=J()},m(a,c){~e&&o[e].m(a,c),y(a,t,c),r=!0},p(a,[c]){let f=e;e=l(a),e===f?~e&&o[e].p(a,c):(n&&(de(),_(o[f],1,1,()=>{o[f]=null}),pe()),~e?(n=o[e],n?n.p(a,c):(n=o[e]=i[e](a),n.c()),g(n,1),n.m(t.parentNode,t)):n=null)},i(a){r||(g(n),r=!0)},o(a){_(n),r=!1},d(a){~e&&o[e].d(a),a&&m(t)}}}function ex(s,e,n){let t;const r=zf.generateUsername(),[i,o]=Yn.generateCachedColorPair(r),l=function(){x.register()},a=function(T){d({type:Ne.net.msg,from:r,text:T,time:Date.now()}),u(Ne.event.msg,or.fromMessage(new sr(r,T),i,o,!0,!1))};let{users:c=[r]}=e,{userColors:f={}}=e;f[r]=[i,o];const u=at();let d,p=0;function h(T){const[F,k]=f[T.detail.from];u(Ne.event.msg,or.fromMessage(T.detail,F,k))}function b(T){switch(T.detail.type){case Ne.net.userList:n(6,c=T.detail.list.sort());for(const F of T.detail.list)F in f||n(7,f[F]=Yn.generateColorPair(),f);break;case Ne.net.userAdd:c.includes(T.detail.username)||(console.dev(T.detail.username,c),c.push(T.detail.username),n(7,f[T.detail.username]=Yn.generateColorPair(),f),n(6,c=c.sort()),T.detail.connects==0&&u(Ne.event.service,T.detail));break;case Ne.net.userRemove:n(6,c=c.filter(F=>F!=T.detail.username)),u(Ne.event.service,T.detail);break}}const x=qn("init",{init:{register:"registerServer"},failed:{},registerServer:{open(T){return d=T,"connectedServer"},closed:"registerClient"},registerClient:{connected(T){return d=T,"connectedClient"}},connectedServer:{_enter(){n(1,++p)==1&&u(Ne.event.ready,r)}},connectedClient:{_enter(){n(1,++p)==1&&u(Ne.event.ready,r)},closed:"leaderElection"},leaderElection:{_enter(){console.dev("Start leaderElection"),setTimeout(()=>{x.register()},Math.floor(Math.random()*1500)+500)},register:"registerServer"}});fr(s,x,T=>n(2,t=T)),Et(()=>{x.register()});const $=T=>x.open(T.detail),R=()=>x.closed(),S=T=>x.connected(T.detail),P=()=>x.closed();return s.$$set=T=>{"users"in T&&n(6,c=T.users),"userColors"in T&&n(7,f=T.userColors)},[r,p,t,h,b,x,c,f,i,o,l,a,$,R,S,P]}class tx extends re{constructor(e){super(),ie(this,e,ex,Z$,se,{username:0,backgroundColor:8,textColor:9,connect:10,send:11,users:6,userColors:7})}get username(){return this.$$.ctx[0]}get backgroundColor(){return this.$$.ctx[8]}get textColor(){return this.$$.ctx[9]}get connect(){return this.$$.ctx[10]}get send(){return this.$$.ctx[11]}}function nx(s){let e,n,t,r,i,o,l,a,c,f,u,d,p,h,b,x,$,R,S,P,T,F,k,j,fe,Z,ee,te,A,Q,U,X,q,ge,K,we,G,H,ct,Nt,Zt,Jt,Sn,Re;return ct=new jr({props:{url:"https://peerjs.com/",text:"PeerJS"}}),{c(){e=O("br"),n=W(),t=O("span"),r=le(`Welcome to the chat. Please be advised that this chat is unmoderated.\r
 We cannot guarantee the accuracy, reliability, or appropriateness of the content shared within this website.`),i=W(),o=O("br"),l=O("br"),a=W(),c=O("span"),f=le("By participating in this chat, you acknowledge and agree to the following:"),u=W(),d=O("br"),p=W(),h=O("ol"),b=O("li"),x=O("b"),$=le("Unmoderated Content:"),R=le(" The chat is not monitored by any staff or moderators. Users are responsible for their own interactions and the content they share."),S=W(),P=O("li"),T=O("b"),F=le("No Liability:"),k=le(` We do not accept any liability for any harm, loss, or damage that may arise from interactions within this chat.\r
         This includes, but is not limited to, emotional distress, misinformation, or any other negative experiences.`),j=W(),fe=O("li"),Z=O("b"),ee=le("User Responsibility:"),te=le(` It is your responsibility to exercise caution and discretion when engaging with other users.\r
         We encourage you to report any inappropriate behavior or content to the appropriate authorities.`),A=W(),Q=O("li"),U=O("b"),X=le("Age Restrictions:"),q=le(" This chat program is intended for users aged 18 and older. If you are under 18, please refrain from participating."),ge=W(),K=O("li"),we=O("b"),G=le("External Service:"),H=le(" While our program does not collect personal data from users, it utilizes an external service, "),v(ct.$$.fragment),Nt=le(`, to facilitate peer-to-peer connections.\r
          We want to make it clear that we do not assume any liability or guarantee regarding the security, privacy, or functionality of PeerJS.\r
          Users are encouraged to review PeerJS's privacy policy and terms of service to understand how their data may be handled.`),Zt=W(),Jt=O("span"),Sn=le(`By continuing to use this chat program, you confirm that you have read, understood, and agreed to this disclaimer. Please exercise caution and discretion while engaging in conversations.\r
     Thank you for your understanding and cooperation.`)},l(oe){e=M(oe,"BR",{}),n=D(oe),t=M(oe,"SPAN",{});var be=z(t);r=ce(be,`Welcome to the chat. Please be advised that this chat is unmoderated.\r
 We cannot guarantee the accuracy, reliability, or appropriateness of the content shared within this website.`),be.forEach(m),i=D(oe),o=M(oe,"BR",{}),l=M(oe,"BR",{}),a=D(oe),c=M(oe,"SPAN",{});var Ee=z(c);f=ce(Ee,"By participating in this chat, you acknowledge and agree to the following:"),Ee.forEach(m),u=D(oe),d=M(oe,"BR",{}),p=D(oe),h=M(oe,"OL",{});var _e=z(h);b=M(_e,"LI",{});var Me=z(b);x=M(Me,"B",{});var We=z(x);$=ce(We,"Unmoderated Content:"),We.forEach(m),R=ce(Me," The chat is not monitored by any staff or moderators. Users are responsible for their own interactions and the content they share."),Me.forEach(m),S=D(_e),P=M(_e,"LI",{});var Ce=z(P);T=M(Ce,"B",{});var Pe=z(T);F=ce(Pe,"No Liability:"),Pe.forEach(m),k=ce(Ce,` We do not accept any liability for any harm, loss, or damage that may arise from interactions within this chat.\r
         This includes, but is not limited to, emotional distress, misinformation, or any other negative experiences.`),Ce.forEach(m),j=D(_e),fe=M(_e,"LI",{});var je=z(fe);Z=M(je,"B",{});var Fe=z(Z);ee=ce(Fe,"User Responsibility:"),Fe.forEach(m),te=ce(je,` It is your responsibility to exercise caution and discretion when engaging with other users.\r
         We encourage you to report any inappropriate behavior or content to the appropriate authorities.`),je.forEach(m),A=D(_e),Q=M(_e,"LI",{});var ut=z(Q);U=M(ut,"B",{});var Ge=z(U);X=ce(Ge,"Age Restrictions:"),Ge.forEach(m),q=ce(ut," This chat program is intended for users aged 18 and older. If you are under 18, please refrain from participating."),ut.forEach(m),ge=D(_e),K=M(_e,"LI",{});var Be=z(K);we=M(Be,"B",{});var ne=z(we);G=ce(ne,"External Service:"),ne.forEach(m),H=ce(Be," While our program does not collect personal data from users, it utilizes an external service, "),E(ct.$$.fragment,Be),Nt=ce(Be,`, to facilitate peer-to-peer connections.\r
          We want to make it clear that we do not assume any liability or guarantee regarding the security, privacy, or functionality of PeerJS.\r
          Users are encouraged to review PeerJS's privacy policy and terms of service to understand how their data may be handled.`),Be.forEach(m),_e.forEach(m),Zt=D(oe),Jt=M(oe,"SPAN",{});var $e=z(Jt);Sn=ce($e,`By continuing to use this chat program, you confirm that you have read, understood, and agreed to this disclaimer. Please exercise caution and discretion while engaging in conversations.\r
     Thank you for your understanding and cooperation.`),$e.forEach(m)},m(oe,be){y(oe,e,be),y(oe,n,be),y(oe,t,be),N(t,r),y(oe,i,be),y(oe,o,be),y(oe,l,be),y(oe,a,be),y(oe,c,be),N(c,f),y(oe,u,be),y(oe,d,be),y(oe,p,be),y(oe,h,be),N(h,b),N(b,x),N(x,$),N(b,R),N(h,S),N(h,P),N(P,T),N(T,F),N(P,k),N(h,j),N(h,fe),N(fe,Z),N(Z,ee),N(fe,te),N(h,A),N(h,Q),N(Q,U),N(U,X),N(Q,q),N(h,ge),N(h,K),N(K,we),N(we,G),N(K,H),w(ct,K,null),N(K,Nt),y(oe,Zt,be),y(oe,Jt,be),N(Jt,Sn),Re=!0},p:V,i(oe){Re||(g(ct.$$.fragment,oe),Re=!0)},o(oe){_(ct.$$.fragment,oe),Re=!1},d(oe){oe&&m(e),oe&&m(n),oe&&m(t),oe&&m(i),oe&&m(o),oe&&m(l),oe&&m(a),oe&&m(c),oe&&m(u),oe&&m(d),oe&&m(p),oe&&m(h),C(ct),oe&&m(Zt),oe&&m(Jt)}}}class rx extends re{constructor(e){super(),ie(this,e,null,nx,se,{})}}function ix(s){let e,n,t,r;return e=new Ie({props:{key:"A",desc:"Accept",pos:"g-1",color:ae.c4_b_bg_c$lg}}),t=new Ie({props:{key:"R",desc:"Reject",pos:"g-2",color:ae.c4_b_bg_c$lg}}),{c(){v(e.$$.fragment),n=W(),v(t.$$.fragment)},l(i){E(e.$$.fragment,i),n=D(i),E(t.$$.fragment,i)},m(i,o){w(e,i,o),y(i,n,o),w(t,i,o),r=!0},p:V,i(i){r||(g(e.$$.fragment,i),g(t.$$.fragment,i),r=!0)},o(i){_(e.$$.fragment,i),_(t.$$.fragment,i),r=!1},d(i){C(e,i),i&&m(n),C(t,i)}}}function sx(s){let e,n;return e=new et({props:{pos:"g-1",$$slots:{default:[ix]},$$scope:{ctx:s}}}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p(t,r){const i={};r&1&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function ox(s){let e,n;return e=new Wt({props:{$$slots:{default:[sx]},$$scope:{ctx:s}}}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p(t,[r]){const i={};r&1&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}class ax extends re{constructor(e){super(),ie(this,e,null,ox,se,{})}}function lx(s){let e,n,t;return{c(){e=O("span"),n=le("Please wait. Connecting"),t=le(s[0]),this.h()},l(r){e=M(r,"SPAN",{class:!0});var i=z(e);n=ce(i,"Please wait. Connecting"),t=ce(i,s[0]),i.forEach(m),this.h()},h(){B(e,"class","msg svelte-8tjqg0")},m(r,i){y(r,e,i),N(e,n),N(e,t)},p(r,i){i&1&&De(t,r[0])},d(r){r&&m(e)}}}function cx(s){let e,n;return e=new Pi({props:{color:ae.c4_b_bg_c$lg,$$slots:{default:[lx]},$$scope:{ctx:s}}}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p(t,r){const i={};r&9&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function fx(s){let e,n;return e=new Wt({props:{$$slots:{default:[px]},$$scope:{ctx:s}}}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p(t,r){const i={};r&8&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function ux(s){let e,n;return e=new Ie({props:{key:"strg+M",desc:"Minimize",pos:"g-1",color:ae.c4_b_bg_c$lg}}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p:V,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function dx(s){let e,n;return e=new Ie({props:{key:"strg+X",desc:"Exit",pos:"g-1",color:ae.c4_b_bg_c$lg}}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p:V,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function px(s){let e,n,t,r;return e=new et({props:{pos:"g-1",$$slots:{default:[ux]},$$scope:{ctx:s}}}),t=new et({props:{pos:"g-2",$$slots:{default:[dx]},$$scope:{ctx:s}}}),{c(){v(e.$$.fragment),n=W(),v(t.$$.fragment)},l(i){E(e.$$.fragment,i),n=D(i),E(t.$$.fragment,i)},m(i,o){w(e,i,o),y(i,n,o),w(t,i,o),r=!0},p(i,o){const l={};o&8&&(l.$$scope={dirty:o,ctx:i}),e.$set(l);const a={};o&8&&(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i(i){r||(g(e.$$.fragment,i),g(t.$$.fragment,i),r=!0)},o(i){_(e.$$.fragment,i),_(t.$$.fragment,i),r=!1},d(i){C(e,i),i&&m(n),C(t,i)}}}function hx(s){let e,n,t,r;e=new Wt({props:{$$slots:{default:[cx]},$$scope:{ctx:s}}});let i=!ve&&fx(s);return{c(){v(e.$$.fragment),n=W(),i&&i.c(),t=J()},l(o){E(e.$$.fragment,o),n=D(o),i&&i.l(o),t=J()},m(o,l){w(e,o,l),y(o,n,l),i&&i.m(o,l),y(o,t,l),r=!0},p(o,[l]){const a={};l&9&&(a.$$scope={dirty:l,ctx:o}),e.$set(a),ve||i.p(o,l)},i(o){r||(g(e.$$.fragment,o),g(i),r=!0)},o(o){_(e.$$.fragment,o),_(i),r=!1},d(o){C(e,o),o&&m(n),i&&i.d(o),o&&m(t)}}}function mx(s,e,n){let{wait:t="."}=e,r;function i(){t==="..."?n(0,t=""):n(0,t+="."),r=setTimeout(()=>{i()},"1000")}return Et(()=>{r=setTimeout(()=>{i()},"1000")}),zn(()=>{clearTimeout(r)}),s.$$set=o=>{"wait"in o&&n(0,t=o.wait)},[t]}class Ff extends re{constructor(e){super(),ie(this,e,mx,hx,se,{wait:0})}}function gx(s){let e,n,t,r,i,o;return i=new Cs({}),{c(){e=O("span"),n=le("Your message:"),t=O("span"),r=le(s[0]),v(i.$$.fragment),this.h()},l(l){e=M(l,"SPAN",{});var a=z(e);n=ce(a,"Your message:"),a.forEach(m),t=M(l,"SPAN",{class:!0});var c=z(t);r=ce(c,s[0]),c.forEach(m),E(i.$$.fragment,l),this.h()},h(){B(t,"class","msg svelte-8tjqg0")},m(l,a){y(l,e,a),N(e,n),y(l,t,a),N(t,r),w(i,l,a),o=!0},p(l,a){(!o||a&1)&&De(r,l[0])},i(l){o||(g(i.$$.fragment,l),o=!0)},o(l){_(i.$$.fragment,l),o=!1},d(l){l&&m(e),l&&m(t),C(i,l)}}}function _x(s){let e,n;return e=new Pi({props:{color:ae.c4_b_bg_c$lg,$$slots:{default:[gx]},$$scope:{ctx:s}}}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p(t,r){const i={};r&3&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function bx(s){let e,n;return e=new Wt({props:{$$slots:{default:[yx]},$$scope:{ctx:s}}}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p(t,r){const i={};r&2&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function $x(s){let e,n,t,r;return e=new Ie({props:{key:"Enter ",desc:"Send",pos:"g-1",color:ae.c4_b_bg_c$lg}}),t=new Ie({props:{key:"strg+M",desc:"Minimize",pos:"g-1",color:ae.c4_b_bg_c$lg}}),{c(){v(e.$$.fragment),n=W(),v(t.$$.fragment)},l(i){E(e.$$.fragment,i),n=D(i),E(t.$$.fragment,i)},m(i,o){w(e,i,o),y(i,n,o),w(t,i,o),r=!0},p:V,i(i){r||(g(e.$$.fragment,i),g(t.$$.fragment,i),r=!0)},o(i){_(e.$$.fragment,i),_(t.$$.fragment,i),r=!1},d(i){C(e,i),i&&m(n),C(t,i)}}}function xx(s){let e,n,t,r;return e=new Ie({props:{key:"strg+L",desc:"Users",pos:"g-1",color:ae.c4_b_bg_c$lg}}),t=new Ie({props:{key:"strg+X",desc:"Exit",pos:"g-1",color:ae.c4_b_bg_c$lg}}),{c(){v(e.$$.fragment),n=W(),v(t.$$.fragment)},l(i){E(e.$$.fragment,i),n=D(i),E(t.$$.fragment,i)},m(i,o){w(e,i,o),y(i,n,o),w(t,i,o),r=!0},p:V,i(i){r||(g(e.$$.fragment,i),g(t.$$.fragment,i),r=!0)},o(i){_(e.$$.fragment,i),_(t.$$.fragment,i),r=!1},d(i){C(e,i),i&&m(n),C(t,i)}}}function yx(s){let e,n,t,r;return e=new et({props:{pos:"g-1",$$slots:{default:[$x]},$$scope:{ctx:s}}}),t=new et({props:{pos:"g-2",$$slots:{default:[xx]},$$scope:{ctx:s}}}),{c(){v(e.$$.fragment),n=W(),v(t.$$.fragment)},l(i){E(e.$$.fragment,i),n=D(i),E(t.$$.fragment,i)},m(i,o){w(e,i,o),y(i,n,o),w(t,i,o),r=!0},p(i,o){const l={};o&2&&(l.$$scope={dirty:o,ctx:i}),e.$set(l);const a={};o&2&&(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i(i){r||(g(e.$$.fragment,i),g(t.$$.fragment,i),r=!0)},o(i){_(e.$$.fragment,i),_(t.$$.fragment,i),r=!1},d(i){C(e,i),i&&m(n),C(t,i)}}}function kx(s){let e,n,t,r;e=new Wt({props:{$$slots:{default:[_x]},$$scope:{ctx:s}}});let i=!ve&&bx(s);return{c(){v(e.$$.fragment),n=W(),i&&i.c(),t=J()},l(o){E(e.$$.fragment,o),n=D(o),i&&i.l(o),t=J()},m(o,l){w(e,o,l),y(o,n,l),i&&i.m(o,l),y(o,t,l),r=!0},p(o,[l]){const a={};l&3&&(a.$$scope={dirty:l,ctx:o}),e.$set(a),ve||i.p(o,l)},i(o){r||(g(e.$$.fragment,o),g(i),r=!0)},o(o){_(e.$$.fragment,o),_(i),r=!1},d(o){C(e,o),o&&m(n),i&&i.d(o),o&&m(t)}}}function vx(s,e,n){let{msg:t=""}=e;return s.$$set=r=>{"msg"in r&&n(0,t=r.msg)},[t]}class Vf extends re{constructor(e){super(),ie(this,e,vx,kx,se,{msg:0})}}function wx(s){let e,n,t,r;return e=new Te({props:{descriptor:"Accept",pos:"g-1-1",color:ae.c4_b_bs_c$lg}}),e.$on("click",s[1]),t=new Te({props:{descriptor:"Reject",pos:"g-1-2",color:ae.c4_b_bs_c$lg}}),t.$on("click",s[2]),{c(){v(e.$$.fragment),n=W(),v(t.$$.fragment)},l(i){E(e.$$.fragment,i),n=D(i),E(t.$$.fragment,i)},m(i,o){w(e,i,o),y(i,n,o),w(t,i,o),r=!0},p:V,i(i){r||(g(e.$$.fragment,i),g(t.$$.fragment,i),r=!0)},o(i){_(e.$$.fragment,i),_(t.$$.fragment,i),r=!1},d(i){C(e,i),i&&m(n),C(t,i)}}}function Cx(s){let e,n;return e=new Yt({props:{$$slots:{default:[wx]},$$scope:{ctx:s}}}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p(t,[r]){const i={};r&8&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Sx(s){const e=at();return[e,()=>e("vinput",ke.artificial("a")),()=>e("vinput",ke.artificial("r"))]}class Ex extends re{constructor(e){super(),ie(this,e,Sx,Cx,se,{})}}function Rx(s){let e,n,t,r;return e=new Te({props:{descriptor:"Exit",pos:"g-1-1",color:ae.c4_b_bs_c$lg}}),e.$on("click",s[1]),t=new Te({props:{descriptor:"Minimize",pos:"g-1-2",color:ae.c4_b_bs_c$lg}}),t.$on("click",s[2]),{c(){v(e.$$.fragment),n=W(),v(t.$$.fragment)},l(i){E(e.$$.fragment,i),n=D(i),E(t.$$.fragment,i)},m(i,o){w(e,i,o),y(i,n,o),w(t,i,o),r=!0},p:V,i(i){r||(g(e.$$.fragment,i),g(t.$$.fragment,i),r=!0)},o(i){_(e.$$.fragment,i),_(t.$$.fragment,i),r=!1},d(i){C(e,i),i&&m(n),C(t,i)}}}function Tx(s){let e,n;return e=new Yt({props:{$$slots:{default:[Rx]},$$scope:{ctx:s}}}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p(t,[r]){const i={};r&8&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Px(s){const e=at();return[e,()=>e("vinput",ke.artificial("x",!0)),()=>e("vinput",ke.artificial("m",!0))]}class Ax extends re{constructor(e){super(),ie(this,e,Px,Tx,se,{})}}function Ix(s){let e,n,t,r,i,o;return e=new Te({props:{descriptor:"Exit",pos:"g-1-1",color:ae.c4_b_bs_c$lg}}),e.$on("click",s[6]),t=new Te({props:{descriptor:"Minimize",pos:"g-1-2",color:ae.c4_b_bs_c$lg}}),t.$on("click",s[7]),i=new Te({props:{descriptor:"Users",pos:"g-1-3",color:ae.c4_b_bs_c$lg}}),i.$on("click",s[8]),{c(){v(e.$$.fragment),n=W(),v(t.$$.fragment),r=W(),v(i.$$.fragment)},l(l){E(e.$$.fragment,l),n=D(l),E(t.$$.fragment,l),r=D(l),E(i.$$.fragment,l)},m(l,a){w(e,l,a),y(l,n,a),w(t,l,a),y(l,r,a),w(i,l,a),o=!0},p:V,i(l){o||(g(e.$$.fragment,l),g(t.$$.fragment,l),g(i.$$.fragment,l),o=!0)},o(l){_(e.$$.fragment,l),_(t.$$.fragment,l),_(i.$$.fragment,l),o=!1},d(l){C(e,l),l&&m(n),C(t,l),l&&m(r),C(i,l)}}}function Ox(s){let e,n,t,r,i,o,l,a;function c(u){s[3](u)}let f={color:ae.c4_b_c$lg,additionalStyles:s[2]};return s[0]!==void 0&&(f.value=s[0]),n=new Ri({props:f}),jt.push(()=>Ft(n,"value",c)),n.$on("vinput",s[4]),i=new Te({props:{descriptor:">>>",pos:"g-1-4",color:ae.c4_b_bs_c$lg}}),i.$on("click",s[5]),l=new Yt({props:{nopadding:!0,$$slots:{default:[Ix]},$$scope:{ctx:s}}}),{c(){e=O("div"),v(n.$$.fragment),r=W(),v(i.$$.fragment),o=W(),v(l.$$.fragment),this.h()},l(u){e=M(u,"DIV",{class:!0});var d=z(e);E(n.$$.fragment,d),r=D(d),E(i.$$.fragment,d),d.forEach(m),o=D(u),E(l.$$.fragment,u),this.h()},h(){B(e,"class","chat-bottom noselect svelte-lrzi5t")},m(u,d){y(u,e,d),w(n,e,null),N(e,r),w(i,e,null),y(u,o,d),w(l,u,d),a=!0},p(u,[d]){const p={};!t&&d&1&&(t=!0,p.value=u[0],Vt(()=>t=!1)),n.$set(p);const h={};d&512&&(h.$$scope={dirty:d,ctx:u}),l.$set(h)},i(u){a||(g(n.$$.fragment,u),g(i.$$.fragment,u),g(l.$$.fragment,u),a=!0)},o(u){_(n.$$.fragment,u),_(i.$$.fragment,u),_(l.$$.fragment,u),a=!1},d(u){u&&m(e),C(n),C(i),u&&m(o),C(l,u)}}}function Mx(s,e,n){let{mobile_value:t}=e;const r=at(),i=new Y_(1).css_value;function o(d){t=d,n(0,t)}function l(d){Hn.call(this,s,d)}const a=()=>r("vinputUp",ke.artificial("Enter")),c=()=>r("vinput",ke.artificial("x",!0)),f=()=>r("vinput",ke.artificial("m",!0)),u=()=>r("vinput",ke.artificial("l",!0));return s.$$set=d=>{"mobile_value"in d&&n(0,t=d.mobile_value)},[t,r,i,o,l,a,c,f,u]}class Wx extends re{constructor(e){super(),ie(this,e,Mx,Ox,se,{mobile_value:0})}}function Hl(s,e,n){const t=s.slice();return t[3]=e[n],t[5]=n,t}function Xl(s){let e,n,t=s[5]+1+"",r,i,o,l=s[3]+"",a,c=s[3]==s[0]?" (you)":"",f,u,d;return{c(){e=O("div"),n=O("span"),r=le(t),i=le(". "),o=O("span"),a=le(l),f=le(c),d=W(),this.h()},l(p){e=M(p,"DIV",{class:!0});var h=z(e);n=M(h,"SPAN",{});var b=z(n);r=ce(b,t),i=ce(b,". "),b.forEach(m),o=M(h,"SPAN",{class:!0});var x=z(o);a=ce(x,l),f=ce(x,c),x.forEach(m),d=D(h),h.forEach(m),this.h()},h(){B(o,"class",u=Ln(new ss(s[2][s[3]][1].hex).combine(new hi(s[2][s[3]][0].hex)).css_value)+" svelte-v0r14k"),B(e,"class","item svelte-v0r14k")},m(p,h){y(p,e,h),N(e,n),N(n,r),N(n,i),N(e,o),N(o,a),N(o,f),N(e,d)},p(p,h){h&2&&l!==(l=p[3]+"")&&De(a,l),h&3&&c!==(c=p[3]==p[0]?" (you)":"")&&De(f,c),h&6&&u!==(u=Ln(new ss(p[2][p[3]][1].hex).combine(new hi(p[2][p[3]][0].hex)).css_value)+" svelte-v0r14k")&&B(o,"class",u)},d(p){p&&m(e)}}}function Dx(s){let e,n,t,r,i,o,l,a,c,f,u,d,p,h=s[1],b=[];for(let x=0;x<h.length;x+=1)b[x]=Xl(Hl(s,h,x));return{c(){e=O("br"),n=W(),t=O("div"),r=O("span"),i=le("List of connected users:"),o=W(),l=O("div"),a=O("span"),c=le("------------------------"),f=W(),u=O("br"),d=W();for(let x=0;x<b.length;x+=1)b[x].c();p=J(),this.h()},l(x){e=M(x,"BR",{}),n=D(x),t=M(x,"DIV",{class:!0});var $=z(t);r=M($,"SPAN",{});var R=z(r);i=ce(R,"List of connected users:"),R.forEach(m),$.forEach(m),o=D(x),l=M(x,"DIV",{class:!0});var S=z(l);a=M(S,"SPAN",{});var P=z(a);c=ce(P,"------------------------"),P.forEach(m),S.forEach(m),f=D(x),u=M(x,"BR",{}),d=D(x);for(let T=0;T<b.length;T+=1)b[T].l(x);p=J(),this.h()},h(){B(t,"class","item header svelte-v0r14k"),B(l,"class","item header svelte-v0r14k")},m(x,$){y(x,e,$),y(x,n,$),y(x,t,$),N(t,r),N(r,i),y(x,o,$),y(x,l,$),N(l,a),N(a,c),y(x,f,$),y(x,u,$),y(x,d,$);for(let R=0;R<b.length;R+=1)b[R]&&b[R].m(x,$);y(x,p,$)},p(x,[$]){if($&7){h=x[1];let R;for(R=0;R<h.length;R+=1){const S=Hl(x,h,R);b[R]?b[R].p(S,$):(b[R]=Xl(S),b[R].c(),b[R].m(p.parentNode,p))}for(;R<b.length;R+=1)b[R].d(1);b.length=h.length}},i:V,o:V,d(x){x&&m(e),x&&m(n),x&&m(t),x&&m(o),x&&m(l),x&&m(f),x&&m(u),x&&m(d),It(b,x),x&&m(p)}}}function jx(s,e,n){let{username:t}=e,{users:r}=e,{userColors:i}=e;return s.$$set=o=>{"username"in o&&n(0,t=o.username),"users"in o&&n(1,r=o.users),"userColors"in o&&n(2,i=o.userColors)},[t,r,i]}class Nx extends re{constructor(e){super(),ie(this,e,jx,Dx,se,{username:0,users:1,userColors:2})}}function Lx(s){let e,n,t,r;return e=new Ie({props:{key:"B",desc:"Back",pos:"g-1",color:ae.c4_b_bg_c$lg}}),t=new Ie({props:{pos:"g-2",color:ae.c4_b_bg_c$lg}}),{c(){v(e.$$.fragment),n=W(),v(t.$$.fragment)},l(i){E(e.$$.fragment,i),n=D(i),E(t.$$.fragment,i)},m(i,o){w(e,i,o),y(i,n,o),w(t,i,o),r=!0},p:V,i(i){r||(g(e.$$.fragment,i),g(t.$$.fragment,i),r=!0)},o(i){_(e.$$.fragment,i),_(t.$$.fragment,i),r=!1},d(i){C(e,i),i&&m(n),C(t,i)}}}function Bx(s){let e,n;return e=new et({props:{pos:"g-1",$$slots:{default:[Lx]},$$scope:{ctx:s}}}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p(t,r){const i={};r&1&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function zx(s){let e,n;return e=new Wt({props:{$$slots:{default:[Bx]},$$scope:{ctx:s}}}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p(t,[r]){const i={};r&1&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}class Ux extends re{constructor(e){super(),ie(this,e,null,zx,se,{})}}function Fx(s){let e,n;return e=new Te({props:{descriptor:"Go Back",pos:"g-1-1",color:ae.c4_b_bs_c$lg}}),e.$on("click",s[1]),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p:V,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Vx(s){let e,n;return e=new Yt({props:{$$slots:{default:[Fx]},$$scope:{ctx:s}}}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p(t,[r]){const i={};r&4&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function qx(s){const e=at();return[e,()=>e("vinput",ke.artificial("b"))]}class Gx extends re{constructor(e){super(),ie(this,e,qx,Vx,se,{})}}const On={$(s){return typeof s=="string"?document.querySelector(s):s},extend(...s){return Object.assign(...s)},cumulativeOffset(s){let e=0,n=0;do e+=s.offsetTop||0,n+=s.offsetLeft||0,s=s.offsetParent;while(s);return{top:e,left:n}},directScroll(s){return s&&s!==document&&s!==document.body},scrollTop(s,e){let n=e!==void 0;return this.directScroll(s)?n?s.scrollTop=e:s.scrollTop:n?document.documentElement.scrollTop=document.body.scrollTop=e:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},scrollLeft(s,e){let n=e!==void 0;return this.directScroll(s)?n?s.scrollLeft=e:s.scrollLeft:n?document.documentElement.scrollLeft=document.body.scrollLeft=e:window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0}},qf={container:"body",duration:500,delay:0,offset:0,easing:ku,onStart:V,onDone:V,onAborting:V,scrollX:!1,scrollY:!0},Jx=s=>{let{offset:e,duration:n,delay:t,easing:r,x:i=0,y:o=0,scrollX:l,scrollY:a,onStart:c,onDone:f,container:u,onAborting:d,element:p}=s;typeof e=="function"&&(e=e());var h=On.cumulativeOffset(u),b=p?On.cumulativeOffset(p):{top:o,left:i},x=On.scrollLeft(u),$=On.scrollTop(u),R=b.left-h.left+e,S=b.top-h.top+e,P=R-x,T=S-$;let F=!0,k=!1,j=lu()+t,fe=j+n;function Z(Q,U,X){l&&On.scrollLeft(Q,X),a&&On.scrollTop(Q,U)}function ee(Q){Q||(k=!0,c(p,{x:i,y:o}))}function te(Q){Z(u,$+T*Q,x+P*Q)}function A(){F=!1}return cu(Q=>{if(!k&&Q>=j&&ee(!1),k&&Q>=fe&&(te(1),A(),f(p,{x:i,y:o})),!F)return d(p,{x:i,y:o}),!1;if(k){const U=Q-j,X=0+1*r(U/n);te(X)}return!0}),ee(t),te(0),A},Qx=s=>{let e=On.extend({},qf,s);return e.container=On.$(e.container),e.element=On.$(e.element),e},Kx=s=>{On.extend(qf,s||{})},Hr=s=>Jx(Qx(s));function Yl(s,e,n){const t=s.slice();return t[37]=e[n],t[39]=n,t}function Hx(s){let e,n,t=s[2],r=[];for(let o=0;o<t.length;o+=1)r[o]=Zl(Yl(s,t,o));const i=o=>_(r[o],1,1,()=>{r[o]=null});return{c(){for(let o=0;o<r.length;o+=1)r[o].c();e=J()},l(o){for(let l=0;l<r.length;l+=1)r[l].l(o);e=J()},m(o,l){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(o,l);y(o,e,l),n=!0},p(o,l){if(l[0]&4){t=o[2];let a;for(a=0;a<t.length;a+=1){const c=Yl(o,t,a);r[a]?(r[a].p(c,l),g(r[a],1)):(r[a]=Zl(c),r[a].c(),g(r[a],1),r[a].m(e.parentNode,e))}for(de(),a=t.length;a<r.length;a+=1)i(a);pe()}},i(o){if(!n){for(let l=0;l<t.length;l+=1)g(r[l]);n=!0}},o(o){r=r.filter(Boolean);for(let l=0;l<r.length;l+=1)_(r[l]);n=!1},d(o){It(r,o),o&&m(e)}}}function Xx(s){let e,n;return e=new rx({}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p:V,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Zl(s){let e,n;return e=new t$({props:{id:s[39],sender:s[37].from,text:s[37].text,time:s[37].time,inverted:s[37].inverted,emphasize:s[37].emphasize,backgroundColor:s[37].backgroundColor,textColor:s[37].textColor}}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p(t,r){const i={};r[0]&4&&(i.sender=t[37].from),r[0]&4&&(i.text=t[37].text),r[0]&4&&(i.time=t[37].time),r[0]&4&&(i.inverted=t[37].inverted),r[0]&4&&(i.emphasize=t[37].emphasize),r[0]&4&&(i.backgroundColor=t[37].backgroundColor),r[0]&4&&(i.textColor=t[37].textColor),e.$set(i)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function ec(s){let e,n,t,r,i,o,l,a;function c(x){s[22](x)}function f(x){s[23](x)}function u(x){s[24](x)}function d(x){s[25](x)}function p(x){s[26](x)}function h(x){s[27](x)}let b={};return s[1]!==void 0&&(b.send=s[1]),s[3]!==void 0&&(b.username=s[3]),s[4]!==void 0&&(b.backgroundColor=s[4]),s[5]!==void 0&&(b.textColor=s[5]),s[7]!==void 0&&(b.users=s[7]),s[8]!==void 0&&(b.userColors=s[8]),e=new tx({props:b}),jt.push(()=>Ft(e,"send",c)),jt.push(()=>Ft(e,"username",f)),jt.push(()=>Ft(e,"backgroundColor",u)),jt.push(()=>Ft(e,"textColor",d)),jt.push(()=>Ft(e,"users",p)),jt.push(()=>Ft(e,"userColors",h)),e.$on("msg",s[13]),e.$on("ready",s[11]),e.$on("service",s[12]),{c(){v(e.$$.fragment)},l(x){E(e.$$.fragment,x)},m(x,$){w(e,x,$),a=!0},p(x,$){const R={};!n&&$[0]&2&&(n=!0,R.send=x[1],Vt(()=>n=!1)),!t&&$[0]&8&&(t=!0,R.username=x[3],Vt(()=>t=!1)),!r&&$[0]&16&&(r=!0,R.backgroundColor=x[4],Vt(()=>r=!1)),!i&&$[0]&32&&(i=!0,R.textColor=x[5],Vt(()=>i=!1)),!o&&$[0]&128&&(o=!0,R.users=x[7],Vt(()=>o=!1)),!l&&$[0]&256&&(l=!0,R.userColors=x[8],Vt(()=>l=!1)),e.$set(R)},i(x){a||(g(e.$$.fragment,x),a=!0)},o(x){_(e.$$.fragment,x),a=!1},d(x){C(e,x)}}}function tc(s){let e,n;return e=new Nx({props:{username:s[3],users:s[7],userColors:s[8]}}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p(t,r){const i={};r[0]&8&&(i.username=t[3]),r[0]&128&&(i.users=t[7]),r[0]&256&&(i.userColors=t[8]),e.$set(i)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function Yx(s){let e,n,t,r;const i=[ry,ny,ty,ey],o=[];function l(a,c){return a[10]=="idle"?0:a[10]=="offline"?1:a[10]=="online"?2:a[10]=="users"?3:-1}return~(e=l(s))&&(n=o[e]=i[e](s)),{c(){n&&n.c(),t=J()},l(a){n&&n.l(a),t=J()},m(a,c){~e&&o[e].m(a,c),y(a,t,c),r=!0},p(a,c){let f=e;e=l(a),e===f?~e&&o[e].p(a,c):(n&&(de(),_(o[f],1,1,()=>{o[f]=null}),pe()),~e?(n=o[e],n?n.p(a,c):(n=o[e]=i[e](a),n.c()),g(n,1),n.m(t.parentNode,t)):n=null)},i(a){r||(g(n),r=!0)},o(a){_(n),r=!1},d(a){~e&&o[e].d(a),a&&m(t)}}}function Zx(s){let e,n,t,r;const i=[ay,oy,sy,iy],o=[];function l(a,c){return a[10]=="idle"?0:a[10]=="offline"?1:a[10]=="online"?2:a[10]=="users"?3:-1}return~(n=l(s))&&(t=o[n]=i[n](s)),{c(){e=O("div"),t&&t.c(),this.h()},l(a){e=M(a,"DIV",{class:!0});var c=z(e);t&&t.l(c),c.forEach(m),this.h()},h(){B(e,"class","control svelte-5thlt3")},m(a,c){y(a,e,c),~n&&o[n].m(e,null),r=!0},p(a,c){let f=n;n=l(a),n===f?~n&&o[n].p(a,c):(t&&(de(),_(o[f],1,1,()=>{o[f]=null}),pe()),~n?(t=o[n],t?t.p(a,c):(t=o[n]=i[n](a),t.c()),g(t,1),t.m(e,null)):t=null)},i(a){r||(g(t),r=!0)},o(a){_(t),r=!1},d(a){a&&m(e),~n&&o[n].d()}}}function ey(s){let e,n;return e=new Gx({}),e.$on("vinput",s[17]),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p:V,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function ty(s){let e,n,t,r,i,o,l;function a(d){s[30](d)}let c={};s[6]!==void 0&&(c.msg=s[6]),n=new Vf({props:c}),jt.push(()=>Ft(n,"msg",a));function f(d){s[31](d)}let u={};return s[6]!==void 0&&(u.mobile_value=s[6]),i=new Wx({props:u}),jt.push(()=>Ft(i,"mobile_value",f)),i.$on("vinput",s[17]),i.$on("vinputUp",s[16]),{c(){e=O("div"),v(n.$$.fragment),r=W(),v(i.$$.fragment),this.h()},l(d){e=M(d,"DIV",{class:!0});var p=z(e);E(n.$$.fragment,p),p.forEach(m),r=D(d),E(i.$$.fragment,d),this.h()},h(){B(e,"class","control svelte-5thlt3")},m(d,p){y(d,e,p),w(n,e,null),y(d,r,p),w(i,d,p),l=!0},p(d,p){const h={};!t&&p[0]&64&&(t=!0,h.msg=d[6],Vt(()=>t=!1)),n.$set(h);const b={};!o&&p[0]&64&&(o=!0,b.mobile_value=d[6],Vt(()=>o=!1)),i.$set(b)},i(d){l||(g(n.$$.fragment,d),g(i.$$.fragment,d),l=!0)},o(d){_(n.$$.fragment,d),_(i.$$.fragment,d),l=!1},d(d){d&&m(e),C(n),d&&m(r),C(i,d)}}}function ny(s){let e,n,t,r,i;return n=new Ff({}),r=new Ax({}),r.$on("vinput",s[17]),{c(){e=O("div"),v(n.$$.fragment),t=W(),v(r.$$.fragment),this.h()},l(o){e=M(o,"DIV",{class:!0});var l=z(e);E(n.$$.fragment,l),l.forEach(m),t=D(o),E(r.$$.fragment,o),this.h()},h(){B(e,"class","control svelte-5thlt3")},m(o,l){y(o,e,l),w(n,e,null),y(o,t,l),w(r,o,l),i=!0},p:V,i(o){i||(g(n.$$.fragment,o),g(r.$$.fragment,o),i=!0)},o(o){_(n.$$.fragment,o),_(r.$$.fragment,o),i=!1},d(o){o&&m(e),C(n),o&&m(t),C(r,o)}}}function ry(s){let e,n;return e=new Ex({}),e.$on("vinput",s[17]),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p:V,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function iy(s){let e,n;return e=new Ux({}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p:V,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function sy(s){let e,n,t;function r(o){s[29](o)}let i={};return s[6]!==void 0&&(i.msg=s[6]),e=new Vf({props:i}),jt.push(()=>Ft(e,"msg",r)),{c(){v(e.$$.fragment)},l(o){E(e.$$.fragment,o)},m(o,l){w(e,o,l),t=!0},p(o,l){const a={};!n&&l[0]&64&&(n=!0,a.msg=o[6],Vt(()=>n=!1)),e.$set(a)},i(o){t||(g(e.$$.fragment,o),t=!0)},o(o){_(e.$$.fragment,o),t=!1},d(o){C(e,o)}}}function oy(s){let e,n;return e=new Ff({}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p:V,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function ay(s){let e,n;return e=new ax({}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p:V,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function ly(s){let e,n,t,r,i,o,l,a,c,f,u,d;const p=[Xx,Hx],h=[];function b(T,F){return T[10]=="idle"?0:T[10]=="online"?1:-1}~(n=b(s))&&(t=h[n]=p[n](s));let x=s[10]!="idle"&&ec(s),$=s[10]=="users"&&tc(s);const R=[Zx,Yx],S=[];function P(T,F){return ve?ve?1:-1:0}return~(l=P())&&(a=S[l]=R[l](s)),{c(){e=O("div"),t&&t.c(),r=W(),x&&x.c(),i=W(),$&&$.c(),o=W(),a&&a.c(),c=J(),this.h()},l(T){e=M(T,"DIV",{id:!0,class:!0});var F=z(e);t&&t.l(F),r=D(F),x&&x.l(F),i=D(F),$&&$.l(F),F.forEach(m),o=D(T),a&&a.l(T),c=J(),this.h()},h(){B(e,"id","messages"),B(e,"class","content svelte-5thlt3")},m(T,F){y(T,e,F),~n&&h[n].m(e,null),N(e,r),x&&x.m(e,null),N(e,i),$&&$.m(e,null),s[28](e),y(T,o,F),~l&&S[l].m(T,F),y(T,c,F),f=!0,u||(d=Tt(e,"scrollend",s[18]),u=!0)},p(T,F){let k=n;n=b(T),n===k?~n&&h[n].p(T,F):(t&&(de(),_(h[k],1,1,()=>{h[k]=null}),pe()),~n?(t=h[n],t?t.p(T,F):(t=h[n]=p[n](T),t.c()),g(t,1),t.m(e,r)):t=null),T[10]!="idle"?x?(x.p(T,F),F[0]&1024&&g(x,1)):(x=ec(T),x.c(),g(x,1),x.m(e,i)):x&&(de(),_(x,1,1,()=>{x=null}),pe()),T[10]=="users"?$?($.p(T,F),F[0]&1024&&g($,1)):($=tc(T),$.c(),g($,1),$.m(e,null)):$&&(de(),_($,1,1,()=>{$=null}),pe()),a&&a.p(T,F)},i(T){f||(g(t),g(x),g($),g(a),f=!0)},o(T){_(t),_(x),_($),_(a),f=!1},d(T){T&&m(e),~n&&h[n].d(),x&&x.d(),$&&$.d(),s[28](null),T&&m(o),~l&&S[l].d(T),T&&m(c),u=!1,d()}}}function cy(s){let e,n,t,r,i;return n=new Ti({props:{hidden:s[0],name:"Chat",info:"Global",version:"v1.0",color:ae.c4_b_bg_c$lg,$$slots:{default:[ly]},$$scope:{ctx:s}}}),{c(){e=W(),v(n.$$.fragment)},l(o){e=D(o),E(n.$$.fragment,o)},m(o,l){y(o,e,l),w(n,o,l),t=!0,r||(i=[Tt(document,"keydown",s[14]),Tt(document,"keyup",s[15])],r=!0)},p(o,l){const a={};l[0]&1&&(a.hidden=o[0]),l[0]&2046|l[1]&512&&(a.$$scope={dirty:l,ctx:o}),n.$set(a)},i(o){t||(g(n.$$.fragment,o),t=!0)},o(o){_(n.$$.fragment,o),t=!1},d(o){o&&m(e),C(n,o),r=!1,ws(i)}}}function fy(s,e,n){let t,{pid:r}=e,{hidden:i=!1}=e,{ipc_channel:o}=e;const l=at();Yn.generateColorPair();let a,c=[],f,u,d,p="",h=!1,b,x,$,R=!0;function S(H){ee.ready(),c.push(or.fromMessage(new sr("",`You are connected. Your username is "${H.detail}"`),u,d,!1,!0)),n(2,c)}function P(H){switch(H.detail.type){case Ne.net.userAdd:c.push(or.fromMessage(new sr("",`User "${H.detail.username}" joined the chat.`),u,d,!1,!0)),n(2,c);break;case Ne.net.userRemove:c.push(or.fromMessage(new sr("",`User "${H.detail.username}" left the chat.`),u,d,!1,!0)),n(2,c);break}}function T(H){H.detail,c.push(H.detail),n(2,c)}function F(H){!i&&!ve&&ee.input(H)}function k(H){!i&&!ve&&ee.keyUp(H)}function j(H){!i&&ve&&ee.keyUp(H.detail)}function fe(H){!i&&ve&&ee.input(H.detail)}function Z(){$.scrollHeight-$.scrollTop-$.clientHeight<2?R=!0:R=!1}fu(()=>{R&&Hr({container:$,element:`#msg-item-${c.length-1}`})});const ee=qn("idle",{idle:{input(H){switch(H.key){case"a":return"offline";case"r":return"exit"}}},offline:{ready:"online"},online:{input(H){switch(H.key){case"Backspace":ve||n(6,p=p.slice(0,-1));break;case" ":H.preventDefault();default:if(H.ctrlKey&&H.key=="x")return"exit";if(H.ctrlKey&&H.key=="m"){h=!0,Pt.minimize(l);break}if(H.ctrlKey&&H.key=="l")return H.preventDefault(),"users";if(Bn.printable.includes(H.key)){ve||n(6,p+=H.key);break}}},keyUp(H){switch(H.key){case"Enter":h?h=!1:(R=!0,a(p),n(6,p=""));break}}},users:{input(H){switch(H.key){case"b":return"online"}}},exit:{_enter(){Pt.terminate(l)}}});fr(s,ee,H=>n(10,t=H));function te(H){a=H,n(1,a)}function A(H){f=H,n(3,f)}function Q(H){u=H,n(4,u)}function U(H){d=H,n(5,d)}function X(H){b=H,n(7,b)}function q(H){x=H,n(8,x)}function ge(H){jt[H?"unshift":"push"](()=>{$=H,n(9,$)})}function K(H){p=H,n(6,p)}function we(H){p=H,n(6,p)}function G(H){p=H,n(6,p)}return s.$$set=H=>{"pid"in H&&n(20,r=H.pid),"hidden"in H&&n(0,i=H.hidden),"ipc_channel"in H&&n(21,o=H.ipc_channel)},[i,a,c,f,u,d,p,b,x,$,t,S,P,T,F,k,j,fe,Z,ee,r,o,te,A,Q,U,X,q,ge,K,we,G]}class uy extends re{constructor(e){super(),ie(this,e,fy,cy,se,{pid:20,hidden:0,ipc_channel:21},null,[-1,-1])}}class dy extends pr{constructor(){super("chat")}async exec(){return new ln(new Vn(this.name,uy))}}const py=new dy,nc={chat:py,first:W0,editor:Lg,lander:H1,tune:V_,redirect:l1};class hy extends cn{constructor(){super("run",!0,!0,"Executes the specified executable.",[{usage:"run [exe]",description:"To execute the specified executable [exe]."},{usage:"run [path]",description:"To execute the specified executable located under [path]."}],[{parameter:"[exe]",type:"Valid executable name in the current working directory.",description:"The name of a valid executable in the current working directory."},{parameter:"[path]",type:"Valid file path.",description:'A valid file path. Paths are delimited by "/".'}])}format(e){if(console.devlog("run.exec:",e),e.exitcode==0)return e.content!=null?ue.component(e.content.component,e.content.props):ue.empty();const n=`<br>Program returned with exit code ${e.exitcode}.<br>`;return e.content!=null?ue.component(l0,{componentA:ro,propsA:{content:n},componentB:e.content.component,propsB:e.content.props}):ue.component(ro,{content:`${n}<br>`})}async exec(e){if(e.length>0){let n=new wn(e[0]);if(!n.valid)return ue.html(`<br>Location ${n.raw} invalid.<br><br>`);let t=Ye.copy();if(n.is_absolute()&&(t=Ye.fs.get_iterator()),!t.current_node.mounted)try{await t.load()}catch(r){switch(r.message){case gt.error_codes.network:return ue.html("<br>Network error. Cannot load executable.<br><br>");default:return ue.html("<br>Cannot load executable.<br><br>")}}try{if(await t.move(n.raw),t.current_node.mounted||await t.load(),t.current_node instanceof Rr){if(t.current_node.hidden)return ue.html("<br>No such executable.<br><br>");if(t.current_node.descriptor in nc){e.shift();const i=await nc[t.current_node.descriptor].exec(e);if(i instanceof ln){const o=pt.find(i.program.component);return o.length>0&&i.program.singleton?new Hs(o[0].pid):i}else return i instanceof Hs?i:i instanceof Uo?this.format(i):(console.dev("run.exec:",i),ue.html("<br><span>Process terminated abnormally!</span><br><br>"))}else return ue.html("<br><span>An error occurred while loading the program into memory.</span><br><br>")}else return ue.html(`<br><span>Entry "${t.current_node.name}" is not an executable!</span><br><br>`)}catch(r){switch(console.devlog(r),r.message){case gt.error_codes.network:return ue.html("<br>Cannot load directory. Network error.<br><br>");case gt.error_codes.notExist:return ue.html(`<br>Executable "${n.get_name()}" does not exist.<br><br>`);default:return ue.html("<br>No such executable. Error code 1.<br><br>")}}}else return ue.html("<br>No such executable. Error code 2.<br><br>")}}const my=new hy;function rc(s,e){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(s);e&&(t=t.filter(function(r){return Object.getOwnPropertyDescriptor(s,r).enumerable})),n.push.apply(n,t)}return n}function ra(s,e){if(!(s instanceof e))throw new TypeError("Cannot call a class as a function")}function ic(s,e){for(var n=0;n<e.length;n++){var t=e[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(s,Gf(t.key),t)}}function ia(s,e,n){return e&&ic(s.prototype,e),n&&ic(s,n),Object.defineProperty(s,"prototype",{writable:!1}),s}function kn(s,e,n){return(e=Gf(e))in s?Object.defineProperty(s,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[e]=n,s}function gy(s,e){return function(n){if(Array.isArray(n))return n}(s)||function(n,t){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,o,l,a,c=[],f=!0,u=!1;try{if(l=(r=r.call(n)).next,t===0){if(Object(r)!==r)return;f=!1}else for(;!(f=(i=l.call(r)).done)&&(c.push(i.value),c.length!==t);f=!0);}catch(d){u=!0,o=d}finally{try{if(!f&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(s,e)||sa(s,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Xn(s){return function(e){if(Array.isArray(e))return yo(e)}(s)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(s)||sa(s)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function sa(s,e){if(s){if(typeof s=="string")return yo(s,e);var n=Object.prototype.toString.call(s).slice(8,-1);return n==="Object"&&s.constructor&&(n=s.constructor.name),n==="Map"||n==="Set"?Array.from(s):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yo(s,e):void 0}}function yo(s,e){(e==null||e>s.length)&&(e=s.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=s[n];return t}function Gf(s){var e=function(n,t){if(typeof n!="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}(s,"string");return typeof e=="symbol"?e:String(e)}function He(s,e){return function(n,t){return t.get?t.get.call(n):t.value}(s,Jf(s,e,"get"))}function vt(s,e,n){return function(t,r,i){if(r.set)r.set.call(t,i);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=i}}(s,Jf(s,e,"set"),n),n}function Jf(s,e,n){if(!e.has(s))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(s)}function Qr(s,e,n){if(!e.has(s))throw new TypeError("attempted to get private field on non-instance");return n}function Qf(s,e){if(e.has(s))throw new TypeError("Cannot initialize the same private elements twice on an object")}function rn(s,e,n){Qf(s,e),e.set(s,n)}function Js(s,e){Qf(s,e),e.add(s)}var ms=function(){function s(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;ra(this,s),this.x=e,this.y=n}return ia(s,[{key:"add",value:function(e){var n=e.x,t=n===void 0?0:n,r=e.y,i=r===void 0?0:r;return this.x+=t,this.y+=i,this}}]),s}(),_y=function(){function s(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.p,t=n===void 0?new ms:n,r=e.v,i=r===void 0?new ms:r,o=e.r,l=o===void 0?.5:o,a=e.color,c=a===void 0?"#ffffff":a,f=e.alpha,u=f===void 0?1:f;ra(this,s),kn(this,"p",void 0),kn(this,"v",void 0),kn(this,"r",void 0),kn(this,"color",void 0),kn(this,"alpha",void 0),this.p=t,this.v=i,this.r=l,this.color=c,this.alpha=u}return ia(s,[{key:"update",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width,t=n===void 0?0:n,r=e.height,i=r===void 0?0:r,o=this.p,l=this.r,a=this.v;o.y-l>i&&(this.p.y=0-l),o.x-l>t&&(this.p.x=0-l),o.x+l<0&&(this.p.x=t+l),this.p.add(a)}},{key:"draw",value:function(e){var n=this.p,t=this.r,r=this.color,i=this.alpha;e.save(),e.beginPath(),e.arc(n.x,n.y,t,0,2*Math.PI),e.closePath(),e.fillStyle=r,e.globalAlpha=i,e.fill(),e.restore()}}]),s}();function ai(s){if(!s)throw Error("[let-it-go] ".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"internal error."))}function Sr(s){ai(Array.isArray(s),"Range must be an array."),ai(s.length===2,"Range size must be 2."),ai(s.every(function(e){return typeof e=="number"}),"Range value must be a number.")}function sc(s){Sr(s),ai(s.every(function(e){return e>=0}),"Radius range value must be positive.")}function oc(s){Sr(s),ai(s.every(function(e){return e>=0&&e<=1}),"Alpha range value must be from 0 to 1.")}function Mn(s,e){return Math.random()*(e-s)+s}function ac(s){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Object.entries(e).forEach(function(n){var t=gy(n,2),r=t[0],i=t[1];s.style[r]=i||""})}var bn={root:document.body,number:window.innerWidth,velocityXRange:[-3,3],velocityYRange:[1,5],radiusRange:[.5,1],color:"#ffffff",alphaRange:[.8,1],backgroundColor:"transparent",style:{zIndex:"-1",pointerEvents:"none"}},gs=new WeakMap,Xr=new WeakMap,Yr=new WeakMap,Zr=new WeakMap,ei=new WeakMap,ti=new WeakMap,ni=new WeakMap,yr=new WeakMap,Fn=new WeakMap,ri=new WeakMap,ii=new WeakMap,lc=new WeakSet,Qs=new WeakSet,Kf=new WeakMap,ko=new WeakMap,Ks=new WeakSet,Hf=function(){function s(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=n.root,r=t===void 0?bn.root:t,i=n.number,o=i===void 0?bn.number:i,l=n.velocityXRange,a=l===void 0?bn.velocityXRange:l,c=n.velocityYRange,f=c===void 0?bn.velocityYRange:c,u=n.radiusRange,d=u===void 0?bn.radiusRange:u,p=n.color,h=p===void 0?bn.color:p,b=n.alphaRange,x=b===void 0?bn.alphaRange:b,$=n.backgroundColor,R=$===void 0?bn.backgroundColor:$,S=n.style,P=S===void 0?bn.style:S;ra(this,s),Js(this,Ks),Js(this,Qs),Js(this,lc),kn(this,"root",document.body),rn(this,gs,{writable:!0,value:!1}),rn(this,Xr,{writable:!0,value:0}),rn(this,Yr,{writable:!0,value:void 0}),rn(this,Zr,{writable:!0,value:void 0}),rn(this,ei,{writable:!0,value:void 0}),rn(this,ti,{writable:!0,value:void 0}),rn(this,ni,{writable:!0,value:void 0}),kn(this,"backgroundColor",void 0),kn(this,"style",bn.style),kn(this,"canvas",document.createElement("canvas")),rn(this,yr,{writable:!0,value:void 0}),rn(this,Fn,{writable:!0,value:[]}),rn(this,ri,{writable:!0,value:null}),rn(this,ii,{writable:!0,value:null}),rn(this,Kf,{writable:!0,value:function(){return He(e,Fn).forEach(function(F){return F.update(e.canvas)})}}),rn(this,ko,{writable:!0,value:function(){var F=e.canvas,k=F.width,j=F.height;He(e,yr).clearRect(0,0,k,j),He(e,yr).fillStyle=e.backgroundColor,He(e,yr).fillRect(0,0,k,j),He(e,Fn).forEach(function(fe){return fe.draw(He(e,yr))}),requestAnimationFrame(He(e,ko))}}),Sr(a),Sr(f),sc(d),oc(x),this.root=r,vt(this,Xr,o),vt(this,Yr,a.sort()),vt(this,Zr,f.sort()),vt(this,ei,d.sort()),vt(this,ti,h),vt(this,ni,x.sort()),this.backgroundColor=R,this.style=P;var T=this.canvas.getContext("2d");if(!T)throw new Error("[let-it-go] The 2d context canvas is not supported.");vt(this,yr,T),Qr(this,lc,by).call(this),Qr(this,Qs,cc).call(this),Qr(this,Ks,fc).call(this)}return ia(s,[{key:"number",get:function(){return He(this,Xr)},set:function(e){vt(this,Xr,e),Qr(this,Qs,cc).call(this)}},{key:"velocityXRange",get:function(){return He(this,Yr)},set:function(e){Sr(e);var n=e.sort();vt(this,Yr,n),He(this,Fn).forEach(function(t){t.v.x=Mn.apply(void 0,Xn(n))})}},{key:"velocityYRange",get:function(){return He(this,Zr)},set:function(e){Sr(e);var n=e.sort();vt(this,Zr,n),He(this,Fn).forEach(function(t){t.v.y=Mn.apply(void 0,Xn(n))})}},{key:"radiusRange",get:function(){return He(this,ei)},set:function(e){sc(e);var n=e.sort();vt(this,ei,n),He(this,Fn).forEach(function(t){t.r=Mn.apply(void 0,Xn(n))})}},{key:"color",get:function(){return He(this,ti)},set:function(e){vt(this,ti,e),He(this,Fn).forEach(function(n){n.color=e})}},{key:"alphaRange",get:function(){return He(this,ni)},set:function(e){oc(e);var n=e.sort();vt(this,ni,n),He(this,Fn).forEach(function(t){t.alpha=Mn.apply(void 0,Xn(n))})}},{key:"letItStop",value:function(){He(this,ri)&&(clearInterval(He(this,ri)),vt(this,ri,null)),He(this,ii)&&(cancelAnimationFrame(He(this,ii)),vt(this,ii,null)),vt(this,gs,!1)}},{key:"letItGoAgain",value:function(){Qr(this,Ks,fc).call(this)}},{key:"clear",value:function(){this.letItStop(),this.root.removeChild(this.canvas)}}]),s}();function by(){var s=this;new ResizeObserver(function(e){var n,t=function(i,o){var l=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(!l){if(Array.isArray(i)||(l=sa(i))||o&&i&&typeof i.length=="number"){l&&(i=l);var a=0,c=function(){};return{s:c,n:function(){return a>=i.length?{done:!0}:{done:!1,value:i[a++]}},e:function(p){throw p},f:c}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var f,u=!0,d=!1;return{s:function(){l=l.call(i)},n:function(){var p=l.next();return u=p.done,p},e:function(p){d=!0,f=p},f:function(){try{u||l.return==null||l.return()}finally{if(d)throw f}}}}(e);try{for(t.s();!(n=t.n()).done;){var r=n.value;s.canvas.width=r.contentRect.width,s.canvas.height=r.contentRect.height}}catch(i){t.e(i)}finally{t.f()}}).observe(this.root),this.canvas.width=this.root.clientWidth,this.canvas.height=this.root.clientHeight,ac(this.root,{position:"relative"}),ac(this.canvas,function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?rc(Object(t),!0).forEach(function(r){kn(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):rc(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}({position:"absolute",top:"0",left:"0"},this.style)),this.root.appendChild(this.canvas)}function cc(){var s=this,e=this.canvas;vt(this,Fn,Array.from({length:He(this,Xr)},function(){return new _y({p:new ms(Mn(0,e.width),Mn(0,-e.height)),v:new ms(Mn.apply(void 0,Xn(He(s,Yr)))||Number.MIN_VALUE,Mn.apply(void 0,Xn(He(s,Zr)))||Number.MIN_VALUE),r:Mn.apply(void 0,Xn(He(s,ei)))||Number.MIN_VALUE,color:He(s,ti),alpha:Mn.apply(void 0,Xn(He(s,ni)))||Number.MIN_VALUE})}))}function fc(){He(this,gs)||(vt(this,ri,setInterval(He(this,Kf),1e3/30)),vt(this,ii,requestAnimationFrame(He(this,ko))),vt(this,gs,!0))}kn(Hf,"DEFAULT_OPTIONS",bn);function $y(s,e,n){let{pid:t}=e,{hidden:r}=e,{ipc_channel:i}=e,o=null;return Et(()=>{o=new Hf({number:600,radiusRange:[.5,1],style:{width:"100%",height:"100%",zindex:1e3,pointerEvents:"none"}})}),zn(()=>{o.clear()}),s.$$set=l=>{"pid"in l&&n(0,t=l.pid),"hidden"in l&&n(1,r=l.hidden),"ipc_channel"in l&&n(2,i=l.ipc_channel)},[t,r,i]}class uc extends re{constructor(e){super(),ie(this,e,$y,null,se,{pid:0,hidden:1,ipc_channel:2})}}class xy extends cn{constructor(){super("snow",!0,!1,"Let it snow.",[{usage:"snow",description:"Let it snow."},{usage:"snow -clear",description:"Stops the snowing."}])}async exec(e){var t;const n=(t=pt.find(uc))==null?void 0:t[0];return e.length==0?n?ue.empty():new ln(new Do(this.name,uc)):e.length==1?e[0]=="-clear"?n?(pt.kill(n.pid),ue.empty()):ue.html("<br><span>It does not snow.</span><br><br>"):ue.html("<br><span>Invalid parameter.</span><br><br>"):ue.html("<br><span>Invalid parameters.</span><br><br>")}}const yy=new xy,Ir={about:Au,cd:Lu,chksys:ep,clear:np,help:kp,load:jm,mkdir:Qm,ls:Gm,restart:r0,rm:s0,run:my,snow:yy},vo={chat:"run /sys/net/chat.exe",editor:"run /sys/editor.exe",first:"run /user/first.exe",lander:"run /user/games/lander.exe",tune:"run /sys/tune.exe"};async function Xf(s){if(s=s.trim(),s=="")return new ue;let e=s.split(" ").filter(t=>t!="");const n=e.shift();return n in Ir?Ir[n].enabled?await Ir[n].exec(e):ue.html(`<span>The command '${n}' does not exist. Type 'help' for a list of available commands.</span><br><br>`):n in vo?await Xf(e.reduce((t,r)=>`${t} ${r}`,vo[n])):ue.html(`<span>The command '${n}' does not exist. Type 'help' for a list of available commands.</span><br><br>`)}function ky(s){let e,n,t=`@cs:${s[4]}>`,r,i,o=" ",l,a;return e=new _c({}),{c(){v(e.$$.fragment),n=O("span"),r=le(t),i=O("span"),l=le(o)},l(c){E(e.$$.fragment,c),n=M(c,"SPAN",{});var f=z(n);r=ce(f,t),f.forEach(m),i=M(c,"SPAN",{});var u=z(i);l=ce(u,o),u.forEach(m)},m(c,f){w(e,c,f),y(c,n,f),N(n,r),y(c,i,f),N(i,l),a=!0},p:V,i(c){a||(g(e.$$.fragment,c),a=!0)},o(c){_(e.$$.fragment,c),a=!1},d(c){C(e,c),c&&m(n),c&&m(i)}}}function vy(s){let e,n;return e=new Oe({props:{id:s[0],type:s[1],content:s[2],active:s[3],$$slots:{default:[ky]},$$scope:{ctx:s}}}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p(t,[r]){const i={};r&1&&(i.id=t[0]),r&2&&(i.type=t[1]),r&4&&(i.content=t[2]),r&8&&(i.active=t[3]),r&32&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function wy(s,e,n){let{id:t}=e,{type:r="text"}=e,{content:i=""}=e,{active:o=!1}=e;const l=Ye.current_path.to_name();return s.$$set=a=>{"id"in a&&n(0,t=a.id),"type"in a&&n(1,r=a.type),"content"in a&&n(2,i=a.content),"active"in a&&n(3,o=a.active)},[t,r,i,o,l]}class oa extends re{constructor(e){super(),ie(this,e,wy,vy,se,{id:0,type:1,content:2,active:3})}}const $n=class $n extends zr{constructor(e){super(e)}resume(){this.channel.push(Jn($n.code.resume))}append(e){this.channel.push(Jn($n.code.append,e))}replace(e){this.channel.push(Jn($n.code.replace,e))}reset(){this.channel.push(Jn($n.code.reset))}set_mobile(e){this.channel.push(Jn($n.code.set_mobile,e))}enter(){this.channel.push(Jn($n.code.enter))}scroll_from_bottom(e){this.channel.push(Jn($n.code.scroll_from_bottom,e))}flush(){let e=new mi;return this.channel.push(Jn($n.code.append,e)),e}};qe($n,"code",{resume:"resume",append:"append",replace:"replace",reset:"reset",set_mobile:"set_mobile",enter:"enter",scroll_from_bottom:"scroll_from_bottom",flush:"flush"});let xn=$n;function dc(s,e,n){const t=s.slice();return t[23]=e[n],t}function pc(s){let e,n,t;const r=[s[23].props];var i=s[23].component;function o(l){let a={};for(let c=0;c<r.length;c+=1)a=qt(a,r[c]);return{props:a}}return i&&(e=Le(i,o())),{c(){e&&v(e.$$.fragment),n=J()},l(l){e&&E(e.$$.fragment,l),n=J()},m(l,a){e&&w(e,l,a),y(l,n,a),t=!0},p(l,a){const c=a&64?on(r,[an(l[23].props)]):{};if(a&64&&i!==(i=l[23].component)){if(e){de();const f=e;_(f.$$.fragment,1,0,()=>{C(f,1)}),pe()}i?(e=Le(i,o()),v(e.$$.fragment),g(e.$$.fragment,1),w(e,n.parentNode,n)):e=null}else i&&e.$set(c)},i(l){t||(e&&g(e.$$.fragment,l),t=!0)},o(l){e&&_(e.$$.fragment,l),t=!1},d(l){l&&m(n),e&&C(e,l)}}}function Cy(s){let e,n,t,r;const i=[Ey,Sy],o=[];function l(a,c){return a[4]!=null?0:1}return n=l(s),t=o[n]=i[n](s),{c(){e=O("div"),t.c(),this.h()},l(a){e=M(a,"DIV",{id:!0,class:!0});var c=z(e);t.l(c),c.forEach(m),this.h()},h(){B(e,"id","mobile"),B(e,"class","console-mobile svelte-9ikj8l")},m(a,c){y(a,e,c),o[n].m(e,null),r=!0},p(a,c){let f=n;n=l(a),n===f?o[n].p(a,c):(de(),_(o[f],1,1,()=>{o[f]=null}),pe(),t=o[n],t?t.p(a,c):(t=o[n]=i[n](a),t.c()),g(t,1),t.m(e,null))},i(a){r||(g(t),r=!0)},o(a){_(t),r=!1},d(a){a&&m(e),o[n].d()}}}function Sy(s){let e,n,t,r;function i(a){s[14](a)}function o(a){s[15](a)}let l={};return s[3]!==void 0&&(l.value=s[3]),s[5]!==void 0&&(l.disabled=s[5]),e=new Ri({props:l}),jt.push(()=>Ft(e,"value",i)),jt.push(()=>Ft(e,"disabled",o)),e.$on("vinput",s[9]),e.$on("change",s[16]),{c(){v(e.$$.fragment)},l(a){E(e.$$.fragment,a)},m(a,c){w(e,a,c),r=!0},p(a,c){const f={};!n&&c&8&&(n=!0,f.value=a[3],Vt(()=>n=!1)),!t&&c&32&&(t=!0,f.disabled=a[5],Vt(()=>t=!1)),e.$set(f)},i(a){r||(g(e.$$.fragment,a),r=!0)},o(a){_(e.$$.fragment,a),r=!1},d(a){C(e,a)}}}function Ey(s){let e,n,t;const r=[s[4].props];var i=s[4].component;function o(l){let a={};for(let c=0;c<r.length;c+=1)a=qt(a,r[c]);return{props:a}}return i&&(e=Le(i,o())),{c(){e&&v(e.$$.fragment),n=J()},l(l){e&&E(e.$$.fragment,l),n=J()},m(l,a){e&&w(e,l,a),y(l,n,a),t=!0},p(l,a){const c=a&16?on(r,[an(l[4].props)]):{};if(a&16&&i!==(i=l[4].component)){if(e){de();const f=e;_(f.$$.fragment,1,0,()=>{C(f,1)}),pe()}i?(e=Le(i,o()),v(e.$$.fragment),g(e.$$.fragment,1),w(e,n.parentNode,n)):e=null}else i&&e.$set(c)},i(l){t||(e&&g(e.$$.fragment,l),t=!0)},o(l){e&&_(e.$$.fragment,l),t=!1},d(l){l&&m(n),e&&C(e,l)}}}function Ry(s){let e,n,t,r,i,o,l,a=s[6],c=[];for(let d=0;d<a.length;d+=1)c[d]=pc(dc(s,a,d));const f=d=>_(c[d],1,1,()=>{c[d]=null});let u=ve&&Cy(s);return{c(){e=W(),n=O("div"),t=O("div");for(let d=0;d<c.length;d+=1)c[d].c();r=W(),u&&u.c(),this.h()},l(d){e=D(d),n=M(d,"DIV",{id:!0,class:!0});var p=z(n);t=M(p,"DIV",{class:!0});var h=z(t);for(let b=0;b<c.length;b+=1)c[b].l(h);h.forEach(m),r=D(p),u&&u.l(p),p.forEach(m),this.h()},h(){B(t,"class","console-content svelte-9ikj8l"),B(n,"id","console"),B(n,"class","console-container svelte-9ikj8l"),rs(n,"hidden",s[0])},m(d,p){y(d,e,p),y(d,n,p),N(n,t);for(let h=0;h<c.length;h+=1)c[h]&&c[h].m(t,null);s[13](t),N(n,r),u&&u.m(n,null),i=!0,o||(l=Tt(document,"keydown",s[8]),o=!0)},p(d,[p]){if(p&64){a=d[6];let h;for(h=0;h<a.length;h+=1){const b=dc(d,a,h);c[h]?(c[h].p(b,p),g(c[h],1)):(c[h]=pc(b),c[h].c(),g(c[h],1),c[h].m(t,null))}for(de(),h=a.length;h<c.length;h+=1)f(h);pe()}ve&&u.p(d,p),(!i||p&1)&&rs(n,"hidden",d[0])},i(d){if(!i){for(let p=0;p<a.length;p+=1)g(c[p]);g(u),i=!0}},o(d){c=c.filter(Boolean);for(let p=0;p<c.length;p+=1)_(c[p]);_(u),i=!1},d(d){d&&m(e),d&&m(n),It(c,d),s[13](null),u&&u.d(),o=!1,l()}}}function Ty(s,e,n){let t,r,i=V,o=()=>(i(),i=uu(f,te=>n(6,r=te)),f);s.$$.on_destroy.push(()=>i());let{pid:l=0}=e,{hidden:a=!1}=e,{ipc_channel:c}=e,{lines_store:f}=e;o();const u=at();let d=!0,p,h="",b,x=!0;async function $(){for(;d;){let te=await c.shift();switch(te.key){case xn.code.resume:console.log("console.resume"),n(4,b=null),n(12,x=!0),n(0,a=!1),r.push(me(oa,{id:r.length+1,content:"",active:!0})),f.set(r),Hr({element:`#line-${r.length-1}`});break;case xn.code.append:te.value.props.id=r.length+1,r.push(te.value),f.set(r);break;case xn.code.replace:te.value.props.id=r.length,br(f,r[r.length-1]=te.value,r),f.set(r);break;case xn.code.reset:console.log("console.reset"),br(f,r=[],r);break;case xn.code.set_mobile:console.log("console.set-mobile"),n(4,b=te.value);break;case xn.code.enter:console.log("console.enter"),S();break;case xn.code.scroll_from_bottom:console.log("console.scroll_from_bottom",te.value),Hr({element:`#line-${r.length-te.value}`});break;case xn.code.flush:await Ds(),te.value.resolve()}}}async function R(te){ve?br(f,r[r.length-1].props.content=h,r):br(f,r[r.length-1].props.content+=te,r),f.set(r),await Ds(),Hr({element:`#line-${r.length}`})}function S(){n(12,x=!1),br(f,r[r.length-1].props.active=!1,r),f.set(r),Pt.submit(u,r[r.length-1].props.content)}async function P(){if(ve)br(f,r[r.length-1].props.content=h,r);else{let te=r[r.length-1];te.props.content=te.props.content.slice(0,-1)}f.set(r),await Ds(),Hr({element:`#line-${r.length}`})}function T(te){switch(te.key){case"Enter":S(),ve&&n(3,h="");break;case"Backspace":P();break;default:Bn.printable.includes(te.key)&&(te.key=="v"&&te.ctrlKey?navigator.clipboard.readText().then(A=>R(A)):te.ctrlKey||R(te.key))}}function F(te){!a&&x&&!ve&&T(te)}function k(te){!a&&x&&ve&&T(te.detail)}Et(async()=>{$(),Kx({container:p,duration:500})}),zn(async()=>{d=!1,c.push("destroy")});function j(te){jt[te?"unshift":"push"](()=>{p=te,n(2,p)})}function fe(te){h=te,n(3,h)}function Z(te){t=te,n(5,t),n(12,x)}const ee=te=>{R(te.detail)};return s.$$set=te=>{"pid"in te&&n(10,l=te.pid),"hidden"in te&&n(0,a=te.hidden),"ipc_channel"in te&&n(11,c=te.ipc_channel),"lines_store"in te&&o(n(1,f=te.lines_store))},s.$$.update=()=>{s.$$.dirty&4096&&n(5,t=!x)},[a,f,p,h,b,t,r,R,F,k,l,c,x,j,fe,Z,ee]}class Py extends re{constructor(e){super(),ie(this,e,Ty,Ry,se,{pid:10,hidden:0,ipc_channel:11,lines_store:1})}}class Ay extends pr{constructor(){super("console")}async exec(){const e=gc([me(oa,{id:1,content:"",active:!0})]);return new ln(new Vn(this.name,Py,{lines_store:e},xn))}}const Iy=new Ay;class Oy{constructor(e){this.limit=e,this.array=[]}push(e){this.array.length>=this.limit&&this.array.pop(),this.array.push(e)}stringify(){return JSON.stringify(this.array)}}function My(){console.records===void 0&&(console.records=new Oy(50),console.defaultLog=console.log.bind(console),console.log=function(...s){console.records.push({type:"log",date:new Date().toLocaleTimeString("de-DE"),value:Array.from(s)}),console.defaultLog(...s)},console.defaultError=console.error.bind(console),console.error=function(...s){console.records.push({type:"error",date:new Date().toLocaleTimeString("de-DE"),value:Array.from(s)}),console.defaultError(...s)},console.defaultWarn=console.warn.bind(console),console.warn=function(...s){console.records.push({type:"warn",date:new Date().toLocaleTimeString("de-DE"),value:Array.from(s)}),console.defaultWarn(...s)},console.defaultDebug=console.debug.bind(console),console.debug=function(...s){console.records.push({type:"debug",date:new Date().toLocaleTimeString("de-DE"),value:Array.from(s)}),console.defaultDebug(...s)},console.dev=function(...s){},console.devlog=function(...s){console.records.push({type:"devlog",date:new Date().toLocaleTimeString("de-DE"),value:Array.from(s)})})}(function(s,e){var n=s();function t(a,c,f,u,d){return ot(u- -451,f)}function r(a,c,f,u,d){return ot(a-735,c)}function i(a,c,f,u,d){return ot(c- -769,u)}function o(a,c,f,u,d){return ot(a-283,c)}for(;[];)try{var l=parseInt(r(939,"4B4G",932,939,1074))/1*(-parseInt(o(595,"hm!z",542,499,561))/2)+-parseInt(r(873,"gwPn",938,721,722))/3*(parseInt(i(-708,-546,-610,"JZv!",-606))/4)+parseInt(o(617,"kl2N",569,733,689))/5*(-parseInt(t(-279,-248,"xWMQ",-142,-110))/6)+parseInt(i(-586,-526,-577,"gwPn",-473))/7+-parseInt(i(-535,-494,-598,"JZv!",-349))/8+-parseInt(o(603,"Y6UM",607,597,477))/9+parseInt(r(1115,"N7lq",1208,1026,1133))/10;if(l===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(_s,-413022+-398011*4+-1*-2937905);function _s(){var s=["WObuWOGRWRa","WRtcN8oTprO","W4PghNFcP8kpCCoex8kxW7Tzsxe","W6ldId/dUxa","WPuEWQxdOCommYj6iW3cHq","WR8YW5BcIc4","WOHkWPWIWRe","oXngW58+n8k0a1u7","WOtcR8oxWQ3cKa","nSk3cHT/","uhxcJYNdOW","DCoDrCouWR0","o2POps8","W5dcMbRdMmo4","mvJcH8kXWQW","c8ovdCk0W5C","W5BcQ3mHxW","jgqpvCk5","W5JcHYpdKCo7","yxP2W7/cGq","WRWsBINdPq","nftcUmkMWPK","jCozFSkVWRW","W7JdHqTHW4m","WQtdUXLGbConW4W3eaGTAmkT","W4FdOsrBda","s8kmW7DdcG","pJ7cL8obW5O","WPVcNJ7dLmk6","W7tcQq/dSSkn","WO9gWQ8pW6O","hCkCpmkfW6NdJh7dQYeeWPZcLmk7","tSo1r8ocWR4","mCk/hdfD","W4/dVSkzFhe","d1ZcQSkaWPi","WO5gWQaOWOO","W5nuW5r3W48","WQHDWQWXWO0","eSo8wSk5WO0","CCoeEG/dLa","WPWUyZldSq","W5DwW5P5W7e","W5j8W73cPmku","W6VcPKqvsa","aWVcKmorW48","WQ50WQacWPK","AtJdVwma","W5pdMmojW5ZcNa","W7/cQeCAuG","W7zvW7VcL8kQ","yY/dQ1We","b8oGEmkYWRu","cehcUSkxWP8","WPzQWOS9W5e","WPmmrqtdLG","WPiDWQxdQSoiC3LdcqJcO8kBCG","a8oFvX3cRW","W6nWW59wW48","cW5jW6JdHq","W57dVGHTrq","WOjnv3BdQW","AKpcVKiO","tspdSwqV","W4ZcII3dKG","dSoDimkfW5q","WRFcMmoQfZa","rMVcTa/dOa","zSoNWQzDbW","WO3cPSkRWOxdUq","BSovWRvXhq","ibZcVSoTW4y","W455kmkiEa","d0pcMmk9WPi","W6vzfCk9tG","EmkWvmoKWOa","W7hcKstdUSoQ","W4GCWQBcRd0","t1G4WRCy","bCodaCkPW78","qmobyCorWQW","CKbSW6dcRG","tSkfFKVdRW","W7FdVCk+FKO","rgRcUcVdRG","l8oGlCkfW4G","W4rnWRddT0NdPCo2lXiTW4z5WPK","yetcU342","CCkNuCocWPG","u3j1DfW","W4VdVCkVW517W5VcONKD","W5xdK8kIE1S","W7vDhCkSAa","WQVdK3tdUuxcVqC","iSoEvHtcKW","W7lcMqhdSSoA","hfaMqmkF","W54jWQJcSdK","p1pcLmk0WOa","fK8ba8oU","W7pdUMldRK8","Axu/CIZcGSoEWQJcKCkNbmkBea","W7lcRKddQmof","W4tdPHTcW5a","W7HZfCkFAq","Be3cQcy","W4hdL1ldKg4","kdDMW7xdPq","wCorwG/dNW","W6/dVwpdMvm","vgLSW6BcRq","W7VcRfSuuW","WR/cPSkgWQRcSmoPDXhcKMW","WOpcVmozWR7cUW","zGZdUhyV","hdVdQYa4WPZcMCkKWRv9","uSo8WRvUja","whbAB2G","WR5lWPC1W6O","qmoeBbNdQW","EmkkW6bRaa","wCktW65ufq","W5BdHKldKfW","WOuBW6hcRc4","qKlcIdpdMW","ESkhqmoKWOS","W7BcIqNdImoJ","oCkYdd1t","pchcVKvj","yL7cMHJdIG","u8oeWO9Roa","W6RdNmoQW63cVa","W58mW6pcUWS","W7tcIJJdS8o+","W5TXW4XFW6e","i8o+CCkzWQ8","W6PzW4RcI8kp","WRCgFZddKW","WOGqW7/cUx0","k209u8k6","W4NdJCoPW6dcOq","z8kus8onWOS","huKR","WPJdIW8rqG","umo/DXFdNa","v8kTW79nfG","W6NdO1pdL0K","kWniW4pdHG","W4/dQx7dR2O","W4BdMmkleCom","ebXqW6xdPG","yWFdRKm5","WQlcO8kIWQpdPG","ELDhDuG","E8ojvGZdLW","WQBdQmoUotO","tSoUiCoNWPy","W6PJW5tcTmkB","W6VdKgxdR20","zGddHfed","xeT/wem","WOBcQ30vWOeoWR/cMmoRF2hcL8o0W5y","W5P/mCkqDG","cJVcRmo5W44","w8oiBCotWPO","WPuYtaxdUq","xmkGvCoXWRq","eu5tcdK","WPRcM8k+WOhdVa","W6ddHwBdUw4","W7rBW5LAW4m","WOroWPmDWRW","sqtdSgm2","wwpcVa","W6RdHx3dS2S","ls5BW4NdHq","imkKcXP0","CSoXWQ9qha","q1PBz0y","W6NdISk2yw0","WPBdJriJBq","oZ5NymkR","WPFcTmo+WPdcVa","WP1JWOmFW5y","W4NdVSkMwK0","WPb0WRO5W74","W5NdOH1tdG","W7/dKmoeW5ZcVG","tvLvtL0","rSkODSofWR0","WRZcVmodfWa","aCkKnIaF","mCoGuYtcUW","fSocEGBcNq","WRlcGCoVWRdcSW","uCk6W59Xgq","WQ7cNSopW6T7","jrFcTmoVW4O","jCokamkOW54","WPTGWQ09WR8","vsBdI0y9","tvP6zh0","kmojWRG/CY07WQ9jWQ0wWPHn","W5NdKXrjkW","fqOCWQVcUG","Efm8WOm+","htf2ACkx","W7PqeSk5xW","W7ZdSCktBvy","AmklB8otWOi","WORcRCo2W7HD","W4RdVGD0W5G","xSovBb3dPW","WReowJhdNq","k1dcNmkdWPO","WOdcHSkBWPZdVG","WQ5dWOyVW4G","emkadZDP","WO/cGmogW6Dt","eSoQwCkFWPK","W5VdMcvmW5i","aH9ye1u","WQdcV8owWRJcPa","hd7cSgrG","i2axhmo3","W4ldQCkev2y","CmorWRTYda","emoaz8kPWQa","W6/dPSoMW4lcQq","mXFcP3ze","A8kvCCojWPy","WQ4LtGxdMa","A8oYrY3dJG","W6/dM0FdO3u","W59BgCk1za","a3qQwCk7","WOePWQVdRSom","dSo3s8k3WRO","ohm8ASk9","W4r+W6z3W5q","W6NdLX9NW7W","fCoBp8k6W60","WPtdR8k3W4Tp","yctdH1m+","WQNcJCooWRBcKq","W47dUeddSLC","nrxcQhDN","WQldVH1Mwmk+WPe2mdK","WQKbWOldOSod","qLC1WOSn","zcddM3CL","ce8Fcmo7","wSoXzCocWPe","cSoCz8k9WQO","W7BdQWddKSk0","E3uMWQGI","WOimWR4VWQ49WP8kcI4MW4CC","WQHvWRWeWQm","W7hdOhddOKG","W7z3W5XbW4y","xdVdU0yf","W5ddJexdRfS","W6xcLSo9WQZcGW","W57dOGzTlG","CuTxW5RcPW","vhZcQXldKa","WOddRaiDBG","W4hdOIrnW4u","frDAW6FdQG","q0HVW43cKG","ASk3htD/WPJdIq","W47dOa9yka","pYjSc28","qqRdSx8+","WPGOW7tcLLa","W4BdKSkpgmoo","rdVdI2e6","WPtcIJRdQCk6","W5DaW7VcSmkD","grnbchu","A8orwcVdUq","W7ZcQuWwsa","F8owwJZdTa","CmoDrXxdOq","WRhcTIldMSkM","WRKCW6JcRGC","nH9Uvmkh","pJdcRmoLW78","W7xdR8oyW4VcHq","W5awW4G3WOJcLXiJiq","FItdMvGR","xNr3txK","W7TPW4bDW5i","F8o+WRrooG","W5hdM8kdgSo8","CcJdJhq3","W6RdSSoEW73cPq","ntxcRhHC","WOpcQCkaWPBdOa","WOpdSI4LBW","rvGLWOOy","ECoqFmorWRS","W5tdPmo2W7tcTW","W5ldO8oyW4RcKa","pSoTxdhcJa","aWpcOmoRW5O","WQqKW6xcQtG","W4VdVCkOWP8oW5FcQNOLW6Lb","W7xdMXb8iq","b8ofqmkYWOu","nJDrW7hdSq","W7RdLttdImkJ","xu9zs2G","m13cSJvFqaBdLWe3iSopW4K","pd3cG15a","WPpcQmoOW4nZ","aSoHCCkOWPO","W4ldNbBdGmkf","pSkqpcfZ","D8o2td/dTW","W5XLp8kBrq","EIVdMu4/","W63dVSkDpmoP","WOW2W4NcRru","WPhcT8oNpr4","W4tdLx7dRM8","WROZWO7dG8oO","tg1oBvq"];return _s=function(){return s},_s()}function Wy(){var s={CIvqp:function(a,c){return a<c},EFNEd:function(a,c){return a==c},hgCiv:function(a,c){return a!=c},fnZoX:function(a,c){return a+c},bQHtf:function(a,c,f,u){return a(c,f,u)},HQwcL:function(a,c){return a===c},gZALQ:n("hm!z",532,781,671),tJXoS:n("S)CI",663,528,637),bqyxZ:i(1192,"2WB!"),KaqeX:o(1035,"[$Of",967,1052,974),nfrOZ:l(667,936,806,871,"E)4Q"),LqsQM:function(a,c){return a===c},MbRfp:i(1034,"[mYM"),rYanw:l(1131,976,1042,1103,"@k^Q"),BoAkj:function(a,c,f,u){return a(c,f,u)},twcOu:function(a,c){return a(c)},HzbUp:function(a,c){return a+c},uOYJi:l(1102,1163,1005,896,"hm!z")+l(649,878,761,892,"xWMQ")+o(930,"WG%W",1023,1023,917)+i(1183,"4B4G"),JPCEn:o(1094,"hm!z",899,998,1004)+t(658,735,623,"j!2m")+o(960,"]E&i",1011,982,1061)+o(1117,"P^lp",1034,1125,1133)+n("8bC@",604,572,667)+t(808,755,774,"gA&J")+" )",zkCDa:l(656,685,807,703,"QKhQ"),YaZQj:function(a,c){return a!=c},JLoAp:function(a,c){return a===c},wLMId:o(1159,"xJAN",1067,1248,1098),RfvCs:function(a,c){return a!==c},NSNEE:n("xWMQ",867,795,761),JNosc:t(748,761,621,"4B4G"),Ezgmj:function(a,c){return a===c},OsSJC:o(1040,"GF&L",1079,1055,1016),xkmBt:t(792,582,673,"N7lq"),iYOeJ:function(a,c){return a==c},ENfno:function(a,c){return a!=c},qUTFx:function(a,c){return a+c},xlOPi:function(a,c){return a===c},NuXXw:o(1028,"8bC@",1119,899,1019),WjITF:o(1129,"QKhQ",1045,1193,1188),QWeKW:function(a,c){return a===c},tpXJe:t(660,760,659,"o]S9"),VlVLO:i(1291,"CULS"),YINFg:function(a,c,f,u){return a(c,f,u)},JWCEr:l(966,818,960,816,"WG%W"),vIiTN:n("$BIX",679,804,661),vPowl:function(a,c,f,u){return a(c,f,u)},nFiAB:i(1023,"4B4G")+t(617,495,517,"pQ4Y")+t(455,719,599,"8bC@")+t(796,848,697,"sJOW")+"e.",NOFgc:function(a,c){return a!==c},WcbUX:i(1163,"GF&L"),kMgCn:n("o]S9",831,584,725),OxWdB:o(1042,"tN2z",1273,1010,1145),dqyvV:n("GeQV",581,896,735),gYnfq:function(a,c){return a+c},EnyGc:function(a,c){return a+c},kaXuL:l(725,770,796,892,"[mYM"),jAmeI:t(661,588,701,"QKhQ"),EfZvc:i(990,"N7lq")+n("Y6UM",773,687,786)+t(754,683,604,"c7)j")+l(1139,1239,1075,1023,"QKhQ")+o(1322,"()iG",1100,1078,1206)+n("S)CI",573,672,727),UBCtQ:o(1010,"4B4G",1109,1034,1152)+l(839,854,778,806,"GeQV")+n("sJOW",827,793,756)+l(1031,942,889,920,"GeQV")+t(716,871,804,"S)CI")+t(492,733,643,"j!2m")+l(1118,1073,964,1117,"o]S9")+i(1142,"8bC@"),qfcUG:o(969,"6s13",978,862,935)+i(1160,"tN2z")+"4",RyiDR:function(a,c){return a===c},IfYUP:function(a,c){return a!==c},vfKuz:function(a,c){return a-c},HwGeW:function(a,c){return a==c},BLPGP:o(1309,"xWMQ",1111,1295,1211),tlRgA:function(a,c){return a+c},OIcRq:function(a){return a()},CtxuG:l(1053,791,916,1021,"6s13")+l(800,848,776,753,"w9%J")+o(1013,"w9%J",1055,1077,1047)+l(936,1113,993,850,"hm!z")+i(1072,"pQ4Y")+t(753,705,628,"GeQV")+t(434,507,511,"F8AQ")+l(782,905,915,912,"[Osc")+n("c7)j",766,820,790)+i(1137,"gA&J")+t(527,474,583,"8bC@")+t(826,721,713,"PQ^h")+i(1310,"tN2z"),sjhGE:i(1003,"nVL%")+n("nVL%",451,530,546)+n("GeQV",392,489,476)+i(1178,"hm!z")+i(1233,"b#7h")+l(1067,993,941,935,"vlb4")+o(1048,"gwPn",1040,1158,1050)+l(750,765,793,685,"P^lp")+i(1286,"c7)j")+i(1068,"sJOW")+n("[$Of",687,666,721)+l(962,1058,926,966,"GF&L")+n("gA&J",583,834,712)+i(1123,"E)4Q")+o(1249,"gA&J",1045,1113,1108)+t(804,738,779,"ruSI")+o(1077,"w9%J",1068,1289,1200)+o(1005,"()iG",1193,1158,1079)+"EW",tIosW:i(995,"%&F8"),NKrbe:i(1010,"2WB!"),iJmhc:function(a,c,f,u){return a(c,f,u)},xBMve:function(a,c){return a===c},xegcP:i(1049,"PQ^h"),EeZzf:i(1308,"ruSI"),rRfxS:function(a,c){return a!==c},efxgQ:o(1195,"CULS",1119,1214,1232),ywfGc:i(1145,"sXl6"),TthPA:l(1009,955,1071,1034,"CcK)"),UCMFQ:function(a,c,f,u){return a(c,f,u)},Jqzcd:o(980,"iXmV",849,840,927),vCNHe:i(1259,"3i0*"),PZDOB:function(a,c){return a>c},ejkZu:function(a,c,f,u){return a(c,f,u)},msnBA:function(a,c){return a||c},UOyFM:function(a,c){return a<c},rtncx:n("xJAN",638,841,703)+l(812,891,908,751,"CULS")+"1",PTSwD:function(a,c){return a===c},ZKqrR:function(a,c){return a-c},obXoC:function(a,c){return a===c},GkaRV:function(a,c,f){return a(c,f)},LRLDM:function(a){return a()}},e=function(){function a(p,h,b,x,$){return o(p-112,$,b-297,x-18,h- -788)}function c(p,h,b,x,$){return l(p-290,h-134,p- -860,x-453,b)}function f(p,h,b,x,$){return i($- -1022,b)}if(s[c(155,224,"6s13",137)](s[c(201,69,"j!2m",340)],s[a(426,308,288,211,"8bC@")])){var u=_0x42621a?function(){function p(b,x,$,R,S){return a(b-161,b-31,$-258,R-380,$)}if(_0x3e50c3){var h=_0x75c4b7[p(296,210,"nVL%",292)](_0x17b1cc,arguments);return _0x295787=null,h}}:function(){};return _0x488bee=![],u}else{var d=!![];return function(p,h){function b(k,j,fe,Z,ee){return c(ee- -414,j-418,j,Z-491)}function x(k,j,fe,Z,ee){return a(k-351,ee- -629,fe-269,Z-231,fe)}function $(k,j,fe,Z,ee){return f(k-461,j-136,Z,Z-103,fe-617)}function R(k,j,fe,Z,ee){return c(j-808,j-40,fe,Z-18)}function S(k,j,fe,Z,ee){return f(k-194,j-415,j,Z-344,Z- -43)}var P={IKhkZ:function(k,j){function fe(Z,ee,te,A,Q){return ot(Q-834,A)}return s[fe(1267,1369,1251,"E)4Q",1216)](k,j)},qQDfG:function(k,j){function fe(Z,ee,te,A,Q){return ot(ee- -645,te)}return s[fe(-260,-243,"*B1i")](k,j)},tzQAU:function(k,j){function fe(Z,ee,te,A,Q){return ot(A-285,te)}return s[fe(801,811,"nVL%",741)](k,j)},UtxEI:function(k,j){function fe(Z,ee,te,A,Q){return ot(te- -113,A)}return s[fe(233,218,105,"o]S9")](k,j)},LrHKv:function(k,j,fe,Z){function ee(te,A,Q,U,X){return ot(te- -517,A)}return s[ee(-266,"[$Of")](k,j,fe,Z)},rMMrY:function(k,j){function fe(Z,ee,te,A,Q){return ot(ee-67,Z)}return s[fe("*B1i",471)](k,j)},XMXjw:s[b(-143,"o]S9",-390,-128,-239)],igwnI:s[b(-450,"8bC@",-433,-264,-294)],RCjHn:function(k,j){function fe(Z,ee,te,A,Q){return $(Z-96,ee-397,ee- -1386,te)}return s[fe(-467,-496,"sJOW")](k,j)},xusNQ:s[x(-281,-200,"GF&L",-302,-351)]};if(s[x(-354,-442,"]E&i",-433,-436)](s[b(-110,"4B4G",-177,-388,-255)],s[$(616,538,682,"sJOW")])){for(var T=-6954+295+1*6659;UiPwYZ[x(-334,-235,"b#7h",-371,-350)](T,_0x31b2d0[S(-46,"QKhQ",-168,-19)+"h"]);T+=4163+-311*-1+-13*344)if(UiPwYZ[$(713,791,749,"8bC@")](_0x7955dd,_0x53e51f[T])&&UiPwYZ[R(1113,1014,"nVL%",1139)](_0x3fb295[x(-112,-366,"vlb4",-149,-224)+$(556,725,617,"Y6UM")](_0x802ee5),_0x502c3f[UiPwYZ[x(-295,-322,"@k^Q",-516,-390)](T,9560+2823+-12382)]))return![]}else{var F=d?function(){function k(te,A,Q,U,X){return S(te-116,A,Q-415,Q- -794)}function j(te,A,Q,U,X){return R(te-113,Q- -245,te,U-497)}function fe(te,A,Q,U,X){return R(te-67,A- -731,Q,U-321)}function Z(te,A,Q,U,X){return x(te-337,A-152,U,U-296,Q-1180)}if(P[k(-792,"4B4G",-814)](P[k(-871,"[Osc",-816)],P[fe(-81,51,"xWMQ",-20)]))_0x57f2b6=_0x52398d;else if(h)if(P[Z(900,889,1e3,"q]2s")](P[j("ruSI",667,691,678)],P[fe(328,240,"sJOW",292)])){var ee=h[k(-945,"w9%J",-781)](p,arguments);return h=null,ee}else return logHcz[k(-672,"QKhQ",-807)](_0x5e401e,_0x784309,_0x2ca25a,_0x1d1084)}:function(){};return d=![],F}}}}();function n(a,c,f,u,d){return ot(u-346,a)}function t(a,c,f,u,d){return ot(f-351,u)}var r=s[i(1199,"@k^Q")](e,this,function(){var a={vUjtI:s[A(55,-148,6,"S)CI")],IyTvD:function(Re,oe){function be(Ee,_e,Me,We,Ce){return A(Ee-245,_e-290,Ee-964,We)}return s[be(1023,895,1062,"JZv!")](Re,oe)},wlbeB:s[q(204,186,"*B1i",146)],WbWVA:s[u(936,1008,"CULS")],hUaxW:s[u(743,792,"()iG")],IUHBn:s[q(-3,216,"nVL%",104)],CAmrn:function(Re,oe){function be(Ee,_e,Me,We,Ce){return q(Ee-442,_e-72,Ce,Me- -108)}return s[be(23,179,138,99,"[Osc")](Re,oe)},TlLoR:function(Re,oe){function be(Ee,_e,Me,We,Ce){return A(Ee-448,_e-160,We- -543,Ee)}return s[be("%&F8",-490,-492,-644)](Re,oe)},Dbnay:function(Re,oe){function be(Ee,_e,Me,We,Ce){return u(Ee- -914,_e-397,Me)}return s[be(-8,72,"nVL%")](Re,oe)},IUpKU:s[u(989,996,"xWMQ")],BmEor:s[T("^5Ab",1023,982,946,938)],WRAfc:s[A(139,170,10,"tN2z")],uoUoM:s[T("2WB!",863,762,780,868)],AbXPe:s[P(-482,-449,"gwPn",-305)],dYsVF:s[q(247,303,"[Osc",293)],wNSMr:s[q(100,144,"sXl6",200)],eyTWJ:function(Re,oe){function be(Ee,_e,Me,We,Ce){return u(_e- -1439,_e-422,Ce)}return s[be(-494,-618,-754,-587,"JZv!")](Re,oe)},MfXFg:function(Re,oe){function be(Ee,_e,Me,We,Ce){return u(We-208,_e-259,Ee)}return s[be("[Osc",1002,1122,1049)](Re,oe)},OZYzp:function(Re,oe){function be(Ee,_e,Me,We,Ce){return q(Ee-9,_e-408,Me,Ce-505)}return s[be(761,920,"*B1i",937,837)](Re,oe)},nKBGv:function(Re,oe){function be(Ee,_e,Me,We,Ce){return T(Ce,_e-461,Me-318,We-368,_e- -1045)}return s[be(-254,-415,-362,-295,"()iG")](Re,oe)},gQlgZ:s[A(-245,-53,-93,"P^lp")],vnVyj:function(Re,oe,be,Ee){function _e(Me,We,Ce,Pe,je){return T(Pe,We-16,Ce-320,Pe-156,Me- -1280)}return s[_e(-530,-394,-471,"CULS")](Re,oe,be,Ee)},vjpzu:function(Re,oe){function be(Ee,_e,Me,We,Ce){return q(Ee-374,_e-34,We,_e- -51)}return s[be(136,266,211,"o]S9")](Re,oe)},qHObk:function(Re,oe){function be(Ee,_e,Me,We,Ce){return u(We- -310,_e-220,Ce)}return s[be(383,414,524,500,"nVL%")](Re,oe)}},c=function(){function Re(Ce,Pe,je,Fe,ut){return T(Fe,Pe-78,je-46,Fe-316,Pe-467)}function oe(Ce,Pe,je,Fe,ut){return T(je,Pe-394,je-132,Fe-38,Pe- -410)}function be(Ce,Pe,je,Fe,ut){return A(Ce-411,Pe-461,Pe-400,ut)}function Ee(Ce,Pe,je,Fe,ut){return A(Ce-262,Pe-335,Ce- -141,Pe)}function _e(Ce,Pe,je,Fe,ut){return A(Ce-228,Pe-294,Ce-686,Fe)}if(a[Re(1205,1214,1234,"w9%J")](a[oe(421,463,"[$Of",522)],a[_e(814,663,655,"[Osc")])){var Me;try{a[oe(354,436,"CULS",385,523)](a[be(175,232,153,258,"hm!z")],a[Re(1049,1127,1194,"Y6UM",980)])?Me=a[_e(596,562,454,"WG%W",672)](Function,a[_e(571,675,570,"iXmV",581)](a[_e(545,537,646,"P^lp",706)](a[_e(733,753,873,"@k^Q",800)],a[_e(543,416,636,"tN2z",485)]),");"))():_0x236dc2[Ee(-66,"sXl6",-11,-158,-163)](a[Ee(-315,"[$Of",-387,-297,-377)])}catch{if(a[Ee(-85,"tN2z")](a[Re(1436,1305,1246,"sXl6")],a[oe(487,493,"WG%W",537)]))Me=window;else return![]}return Me}else if(_0x153649){var We=_0x484d65[Re(1196,1113,961,"sXl6")](_0x3edf94,arguments);return _0x469017=null,We}},f=s[T("kl2N",809,755,642,771)](c);function u(Re,oe,be,Ee,_e){return n(be,oe-238,be-131,Re-206)}var d=new RegExp(s[A(-180,3,-58,"tN2z")],"g"),p=s[P(-443,-522,"]E&i",-611)][q(242,358,"pQ4Y",265)+"ce"](d,"")[T("hm!z",719,828,828,883)](";"),h,b,x,$,R=function(Re,oe,be){function Ee(Ge,Be,ne,$e,Ae){return u(Ge-213,Be-242,$e)}s[We(-299,"[Osc",-322,-284,-328)],s[We(-559,"S)CI",-411,-590,-452)];function _e(Ge,Be,ne,$e,Ae){return u(Be- -1349,Be-364,ne)}function Me(Ge,Be,ne,$e,Ae){return P(Ge-286,ne- -135,Ge,$e-315)}function We(Ge,Be,ne,$e,Ae){return T(Be,Be-48,ne-232,$e-104,Ae- -1153)}function Ce(Ge,Be,ne,$e,Ae){return P(Ge-248,$e-163,Ae,$e-170)}if(s[Me("%&F8",-343,-491,-351)](s[We(-374,"q]2s",-605,-494,-524)],s[Me("]E&i",-492,-575,-648)])){if(s[We(-255,"j!2m",-297,-202,-346)](Re[Ce(-228,-282,-58,-222,"[$Of")+"h"],oe))return s[Ce(-417,-314,-153,-301,"b#7h")](s[Me("E)4Q",-693,-573,-715)],s[Me("o]S9",-722,-616,-726)])?![]:YrbgbV[Ce(-207,-174,-135,-192,"F8AQ")](_0x840153,_0x5995bd,_0x1f5e97,_0x3daac0);for(var Pe=-11*133+8931+1*-7468;s[We(-374,"nVL%",-510,-520,-422)](Pe,oe);Pe++)if(s[Me("c7)j",-555,-416,-531)](s[Ce(-463,-428,-269,-338,"GeQV")],s[Me("gA&J",-519,-618,-753)])){for(var je=91*96+3455*1+12191*-1;s[_e(-459,-409,"%&F8")](je,be[Ee(1196,1330,1281,"tN2z")+"h"]);je+=1*-1433+-2789*1+4224)if(s[Ce(-336,-380,-345,-316,"^5Ab")](s[_e(-327,-456,"hm!z")],s[_e(-624,-534,"gwPn")]))_0x59ba23=!![];else if(s[Me("o]S9",-578,-422,-485)](Pe,be[je])&&s[_e(-472,-491,"kl2N")](Re[We(-442,"S)CI",-457,-201,-352)+Ce(-190,-481,-194,-349,"gwPn")](Pe),be[s[_e(-612,-651,"()iG")](je,-1290+63*-100+7591)]))if(s[Ce(-193,-190,-76,-91,"N7lq")](s[_e(-453,-442,"JZv!")],s[Me("j!2m",-648,-586,-453)])){var Fe=new _0x471e60(uNeJbw[Ee(1047,952,925,"2WB!")],"g"),ut=uNeJbw[Ce(-236,40,-10,-99,"]E&i")][Ee(946,782,1029,"2WB!")+"ce"](Fe,"");_0x4506e2[_0x133cb8][_0x46bc0b]=ut}else return![]}else return![];return!![]}else _0x2597d=YrbgbV[Ce(-414,-371,-436,-291,"[$Of")](_0x2f3690,YrbgbV[Ce(-171,-177,-234,-116,"]E&i")](YrbgbV[Ee(962,1044,1039,"P^lp")](YrbgbV[We(-375,"vlb4",-375,-210,-251)],YrbgbV[Me("2WB!",-484,-400,-535)]),");"))()},S=function(Re,oe,be){function Ee($e,Ae,Ve,Je,st){return u($e- -89,Ae-171,st)}function _e($e,Ae,Ve,Je,st){return u($e- -1152,Ae-296,Je)}function Me($e,Ae,Ve,Je,st){return T($e,Ae-216,Ve-225,Je-365,Je- -794)}function We($e,Ae,Ve,Je,st){return u(Ae-90,Ae-6,Ve)}function Ce($e,Ae,Ve,Je,st){return u(Ae- -1157,Ae-279,$e)}if(s[_e(-206,-225,-325,"gA&J")](s[Me("PQ^h",-29,-46,95)],s[Me("6s13",163,130,130)]))for(var Pe=a[Ee(806,800,656,885,"sXl6")][Ce("N7lq",-447)]("|"),je=-302*-10+-7346*-1+-5183*2;[];){switch(Pe[je++]){case"0":var Fe=uNeJbw[Ee(905,796,873,909,"^5Ab")](Be[0],_0x350097[_e(-445,-442,-296,"F8AQ")+Ce("gwPn",-275)+"de"](46))?Be[Ce("S)CI",-312)](1):Be;continue;case"1":var ut=uNeJbw[Me("tN2z",-53,-157,-131)](ne,-(8955+-2735+-6219))&&uNeJbw[Me("2WB!",-42,-162,-38)](ne,Ge);continue;case"2":var Ge=uNeJbw[Me("QKhQ",45,25,55)](_0x2db019[Ee(830,864,786,981,"%&F8")+"h"],Fe[We(735,776,"2WB!")+"h"]);continue;case"3":var Be=_0x5d5fad[_0x3536bb];continue;case"4":ut&&(uNeJbw[We(1050,1067,"3i0*")](_0x3ec171[Ee(879,854,786,1023,"E)4Q")+"h"],Be[_e(-174,-309,-72,"S)CI")+"h"])||uNeJbw[Me("sXl6",-81,-231,-75)](Be[We(663,801,"gA&J")+"Of"]("."),-447*1+-2442+2889))&&(_0x41bdbf=!![]);continue;case"5":var ne=_0x28d068[Ce("sJOW",-353)+"Of"](Fe,Ge);continue}break}else return s[We(945,1050,"ruSI")](R,oe,be,Re)};function P(Re,oe,be,Ee,_e){return o(Re-493,be,be-139,Ee-33,oe- -1466)}function T(Re,oe,be,Ee,_e){return l(Re-216,oe-115,_e- -138,Ee-121,Re)}var F=function(Re,oe,be){function Ee(We,Ce,Pe,je,Fe){return A(We-407,Ce-245,Pe-1315,je)}function _e(We,Ce,Pe,je,Fe){return u(We- -1237,Ce-274,Ce)}function Me(We,Ce,Pe,je,Fe){return P(We-384,Fe- -249,Ce,je-423)}if(!a[Me(-663,"hm!z",-703,-747,-781)](a[_e(-391,"ruSI")],a[Ee(1404,1275,1439,"WG%W")]))return a[Ee(1567,1604,1450,"hm!z")](S,oe,Re,be)},k=function(Re,oe,be){function Ee(je,Fe,ut,Ge,Be){return q(je-357,Fe-127,Ge,je-616)}function _e(je,Fe,ut,Ge,Be){return A(je-400,Fe-198,Ge- -603,Fe)}function Me(je,Fe,ut,Ge,Be){return A(je-337,Fe-462,ut-665,Ge)}function We(je,Fe,ut,Ge,Be){return A(je-7,Fe-176,Fe- -587,ut)}function Ce(je,Fe,ut,Ge,Be){return P(je-105,je-1122,Fe,Ge-322)}if(s[_e(-838,"&LqH",-826,-689)](s[Ee(755,862,661,"N7lq")],s[Ce(783,"8bC@",922,782)]))return s[Ee(959,976,1021,"nVL%")](F,oe,be,Re);var Pe;try{Pe=uNeJbw[_e(-570,"ruSI",-468,-535,-442)](_0x387634,uNeJbw[We(-746,-692,"2WB!",-792,-777)](uNeJbw[Me(615,708,562,"P^lp",670)](uNeJbw[_e(-370,"$BIX",-393,-463,-394)],uNeJbw[We(-523,-665,"CULS",-797,-713)]),");"))()}catch{Pe=_0x7ace6a}return Pe};for(var j in f)if(s[u(969,930,"GF&L")](s[T("6s13",909,813,918,861)],s[q(273,132,"c7)j",207)])){if(s[A(279,277,122,"N7lq")](R,j,2469+-1*-1946+39*-113,[4558+-6524+1*1973,-6260+-8015+123*117,65*-113+4276*1+1*3074,-770+-7769+-64*-135,-209*1+2571*-1+2783*1,6*-849+1338+-3*-1291,9924+-1*-9418+-19342,1740*-1+-6827*1+-1*-8667]))if(s[u(938,944,"&LqH")](s[P(-495,-342,"P^lp",-225)],s[T("3i0*",582,531,776,667)]))(uNeJbw[T("GeQV",921,774,807,843)](_0x118c65[P(-524,-489,"vlb4",-427)+"h"],_0xbef5ef[T("CcK)",733,808,877,808)+"h"])||uNeJbw[A(-179,-32,-17,"F8AQ")](_0x47ce92[u(806,746,"j!2m")+"Of"]("."),-4958+-362*19+11836))&&(_0x49ed5b=!![]);else{h=j;break}}else{var fe=_0x4f0295[q(98,246,"[mYM",144)](_0x2c7199,arguments);return _0x332579=null,fe}for(var Z in f[h])if(s[u(950,1015,"c7)j")](s[T("ruSI",993,884,740,834)],s[q(60,14,"pQ4Y",82)])){if(zckGvw[T("tN2z",709,565,561,700)](_0xa389b8,_0x47554e[_0xf4444f])&&zckGvw[T("tN2z",538,776,639,661)](_0x42e220[A(-307,-314,-163,"]E&i")+u(767,815,"b#7h")](_0x2ce5f8),_0x328c29[zckGvw[T("*B1i",687,780,946,827)](_0x3205cf,-3979*2+-4562+12521)]))return![]}else if(s[u(709,608,"PQ^h")](k,-6637*1+-13*-413+1274,Z,[1*2837+-7440+4608,-216+3535+-3209*1,982*5+3*151+-5363,765+2217*-2+3769]))if(s[q(254,174,"*B1i",170)](s[T("GF&L",511,601,610,622)],s[P(-518,-490,"QKhQ",-503)])){b=Z;break}else return zckGvw[q(118,282,"JZv!",159)](_0x1ea9a7,_0x523970,_0x5a3ebb,_0x193a3d);for(var ee in f[h])if(s[u(741,608,"6s13")](F,ee,[-2*-2143+-1867*-5+-13614,-962+-741+-1813*-1,-9369+4215*-1+283*48,-4291+9485+-2543*2],-7935+-892*-1+1*7051))if(s[q(244,288,"$BIX",351)](s[A(-172,10,-121,"E)4Q")],s[T("F8AQ",610,611,622,728)])){x=ee;break}else return;if(!s[P(-266,-283,"WG%W",-435)]("~",b)){for(var te in f[h][x])if(s[A(187,224,73,"w9%J")](S,[5284*-1+7332+157*-13,4436+7614+-11949,-30*-37+3645+-1585*3,-8112+1*-8599+16815],te,-5276*1+-1*-2496+2788)){$=te;break}}function A(Re,oe,be,Ee,_e){return t(Re-337,oe-295,be- -668,Ee)}if(!h||!f[h])return;var Q=f[h][b],U=!!f[h][x]&&f[h][x][$],X=s[u(826,840,"CULS")](Q,U);function q(Re,oe,be,Ee,_e){return i(Ee- -962,be)}if(X){for(var ge=![],K=-1462+-7850+96*97;s[P(-548,-417,"QKhQ",-467)](K,p[P(-523,-476,"iXmV",-382)+"h"]);K++)for(var we=s[T("tN2z",683,838,664,828)][u(848,832,"xJAN")]("|"),G=1566+-5916+4350;[];){switch(we[G++]){case"0":var H=s[P(-519,-444,"j!2m",-502)](ct,-1)&&s[T("o]S9",775,980,996,862)](ct,Nt);continue;case"1":H&&(s[P(-584,-467,"q]2s",-483)](X[T("[$Of",854,738,782,789)+"h"],b[q(190,366,"gA&J",266)+"h"])||s[T("vlb4",718,727,899,766)](b[q(127,167,"w9%J",122)+"Of"]("."),2799+-6443*1+-2*-1822))&&(ge=!![]);continue;case"2":var ct=X[P(-460,-394,"E)4Q",-396)+"Of"](Zt,Nt);continue;case"3":var b=p[K];continue;case"4":var Nt=s[q(404,234,"$BIX",255)](X[P(-400,-382,"c7)j",-233)+"h"],Zt[T("QKhQ",832,771,516,677)+"h"]);continue;case"5":var Zt=s[A(-190,-162,-62,"w9%J")](b[-7*-1286+4928+-13930],String[q(379,298,"@k^Q",236)+A(-68,-38,-176,"2WB!")+"de"](-532+318*1+-130*-2))?b[A(-285,-94,-148,"JZv!")](-61*79+1181+3639):b;continue}break}if(!ge){var Jt=new RegExp(s[A(1,-57,30,"^5Ab")],"g"),Sn=s[T("$BIX",610,588,835,726)][u(694,827,"CcK)")+"ce"](Jt,"");f[h][x]=Sn}}});function i(a,c,f,u,d){return ot(a-859,c)}function o(a,c,f,u,d){return ot(d-782,c)}s[o(1055,"^5Ab",924,878,919)](r);function l(a,c,f,u,d){return ot(f-628,d)}}Wy();function ot(s,e){var n=_s();return ot=function(t,r){t=t-(8561+5*1970+-18281*1);var i=n[t];if(ot.TspAhD===void 0){var o=function(u){for(var d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=",p="",h="",b=0,x,$,R=0;$=u.charAt(R++);~$&&(x=b%4?x*64+$:$,b++%4)?p+=String.fromCharCode(255&x>>(-2*b&6)):0)$=d.indexOf($);for(var S=0,P=p.length;S<P;S++)h+="%"+("00"+p.charCodeAt(S).toString(16)).slice(-2);return decodeURIComponent(h)},l=function(u,d){var p=[],h=0,b,x="";u=o(u);var $;for($=0;$<256;$++)p[$]=$;for($=0;$<256;$++)h=(h+p[$]+d.charCodeAt($%d.length))%256,b=p[$],p[$]=p[h],p[h]=b;$=0,h=0;for(var R=0;R<u.length;R++)$=($+1)%256,h=(h+p[$])%256,b=p[$],p[$]=p[h],p[h]=b,x+=String.fromCharCode(u.charCodeAt(R)^p[(p[$]+p[h])%256]);return x};ot.RKddYw=l,s=arguments,ot.TspAhD=!![]}var a=n[-7577*1+1571+6006],c=t+a,f=s[c];return f?i=f:(ot.ooAZYF===void 0&&(ot.ooAZYF=!![]),i=ot.RKddYw(i,r),s[c]=i),i},ot(s,e)}function hc(s,e,n){const t=s.slice();return t[11]=e[n],t}function mc(s){let e,n,t;const r=[s[11].program.props,{pid:s[11].pid},{hidden:s[11].hidden},{ipc_channel:s[11].ipc_channel}];function i(...a){return s[3](s[11],...a)}var o=s[11].program.component;function l(a){let c={};for(let f=0;f<r.length;f+=1)c=qt(c,r[f]);return{props:c}}return o&&(e=Le(o,l()),e.$on("syscall",i)),{c(){e&&v(e.$$.fragment),n=J()},l(a){e&&E(e.$$.fragment,a),n=J()},m(a,c){e&&w(e,a,c),y(a,n,c),t=!0},p(a,c){s=a;const f=c&1?on(r,[an(s[11].program.props),{pid:s[11].pid},{hidden:s[11].hidden},{ipc_channel:s[11].ipc_channel}]):{};if(c&1&&o!==(o=s[11].program.component)){if(e){de();const u=e;_(u.$$.fragment,1,0,()=>{C(u,1)}),pe()}o?(e=Le(o,l()),e.$on("syscall",i),v(e.$$.fragment),g(e.$$.fragment,1),w(e,n.parentNode,n)):e=null}else o&&e.$set(f)},i(a){t||(e&&g(e.$$.fragment,a),t=!0)},o(a){e&&_(e.$$.fragment,a),t=!1},d(a){a&&m(n),e&&C(e,a)}}}function Dy(s){let e,n,t=s[0].list,r=[];for(let o=0;o<t.length;o+=1)r[o]=mc(hc(s,t,o));const i=o=>_(r[o],1,1,()=>{r[o]=null});return{c(){e=O("div");for(let o=0;o<r.length;o+=1)r[o].c();this.h()},l(o){e=M(o,"DIV",{id:!0,class:!0});var l=z(e);for(let a=0;a<r.length;a+=1)r[a].l(l);l.forEach(m),this.h()},h(){B(e,"id","terminal"),B(e,"class","svelte-1muf2jq")},m(o,l){y(o,e,l);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(e,null);n=!0},p(o,[l]){if(l&5){t=o[0].list;let a;for(a=0;a<t.length;a+=1){const c=hc(o,t,a);r[a]?(r[a].p(c,l),g(r[a],1)):(r[a]=mc(c),r[a].c(),g(r[a],1),r[a].m(e,null))}for(de(),a=t.length;a<r.length;a+=1)i(a);pe()}},i(o){if(!n){for(let l=0;l<t.length;l+=1)g(r[l]);n=!0}},o(o){r=r.filter(Boolean);for(let l=0;l<r.length;l+=1)_(r[l]);n=!1},d(o){o&&m(e),It(r,o)}}}function jy(s,e,n){let t,r=pt.process_store;fr(s,r,h=>n(0,t=h));let i;const o={};async function l(h,b){if(h!=0)return;console.log("terminal.submit:",b);let x=await Xf(b);if(x instanceof ue)a(x);else if(x instanceof Ao)c(x);else throw console.log("terminal.submit","Unknown cmd response from decoding.",x),new Error("terminal.submit","Unknown cmd response from decoding.")}async function a(h){h.value!=null&&i.ipc.append(h.value),i.ipc.resume()}async function c(h){if(h instanceof ln){const b=h.program;let x=-1;b instanceof Wo?(x=pt.create(b),i.ipc.set_mobile(b.mobile_controls)):b instanceof Vn?(pt.preempt(0),x=pt.create(b)):b instanceof Do&&(x=pt.create(b),i.ipc.resume()),o[x]=b.name,console.log("terminal:","ProcessCreate",x,o==null?void 0:o[x])}else if(h instanceof Hs){let b=t.get(h.pid);b&&(pt.preempt(0),pt.run(b.pid),console.log("terminal:","ProcessRun",h.pid,o==null?void 0:o[h.pid]))}}function f(h){console.log("terminal.kill",h,o==null?void 0:o[h]),pt.kill(h),pt.run(0),i.ipc.resume()}function u(h){console.log("terminal.minimize:",h,o==null?void 0:o[h]),t.get(h)&&pt.preempt(h),pt.run(0),i.ipc.resume()}async function d(h,b){switch(h.index){case Pt.index.submit:l(b,h.content);break;case Pt.index.terminate:f(b);break;case Pt.index.minimize:u(b);break}}return Et(async()=>{My(),Ye.fs.vfs.location_key in localStorage||localStorage.setItem(Ye.fs.vfs.location_key,'{"":{"files":{},"subdirs":{"virtual":{"modified_date":1693236001079}}},"/virtual":{"files":{"hello.world":{"modified_date":1693236001079}},"subdirs":{}},"/virtual/hello.world":{"name":"hello.world","descriptor":"hello.world","api_type":"text","content":"Hello."}}'),console.log("%c Hello there!","font-weight: bold; font-size: 50px;color: red; text-shadow: 3px 3px 0 rgb(217,31,38) , 6px 6px 0 rgb(226,91,14) , 9px 9px 0 rgb(245,221,8) , 12px 12px 0 rgb(5,148,68) , 15px 15px 0 rgb(2,135,206) , 18px 18px 0 rgb(4,77,145) , 21px 21px 0 rgb(42,21,113)"),pt.reset();const h=await Iy.exec();pt.create(h.program),i=pt.process(0),oi.get("visited")||(i.ipc.replace(me(oa,{content:"run /user/first.exe"})),i.ipc.enter()),console.dev("ITER",Ye),console.dev("SCHEDULER",pt)}),[t,r,d,(h,b)=>d(b.detail,h.pid)]}class Ny extends re{constructor(e){super(),ie(this,e,jy,Dy,se,{})}}function Ly(s){let e,n;return e=new Ny({}),{c(){v(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,r){w(e,t,r),n=!0},p:V,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){C(e,t)}}}function By(s){function e(n){{const t=ua(da(JSON.stringify(n))),r=ua(da(console.records.stringify()));du(`/error?code=${t}&trace=${r}`)}}return Et(async()=>{window.addEventListener("error",function(t){let r={type:"error",message:t.message,filename:t.filename,lineno:t.lineno,colno:t.colno};e(r)}),window.addEventListener("unhandledrejection",function(t){let r={type:"promise",message:t.reason.message,stack:t.reason.stack};e(r)})}),[]}class Zy extends re{constructor(e){super(),ie(this,e,By,Ly,se,{})}}export{Zy as component};
